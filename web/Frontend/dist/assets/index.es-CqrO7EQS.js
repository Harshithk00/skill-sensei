const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DU7rHEBo.js","assets/index-Cj1pWeD-.js","assets/index-pq9Q8mI2.css"])))=>i.map(i=>d[i]);
import{l as i0,f as G6,o as Bi,_ as R_}from"./index-Cj1pWeD-.js";import{r as P_}from"./events-DQ172AOg.js";import{r as np,a as n0}from"./inherits_browser-BnjJEZrN.js";var Wi=P_();const sp=i0(Wi);var Og=function(e,t,r){if(r||arguments.length===2)for(var i=0,s=t.length,n;i<s;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},O_=function(){function e(t,r,i){this.name=t,this.version=r,this.os=i,this.type="browser"}return e}(),B_=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),T_=function(){function e(t,r,i,s){this.name=t,this.version=r,this.os=i,this.bot=s,this.type="bot-device"}return e}(),F_=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),q_=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),U_=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,L_=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Bg=3,k_=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",U_]],Tg=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function z_(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new q_:typeof navigator<"u"?H_(navigator.userAgent):K_()}function $_(e){return e!==""&&k_.reduce(function(t,r){var i=r[0],s=r[1];if(t)return t;var n=s.exec(e);return!!n&&[i,n]},!1)}function H_(e){var t=$_(e);if(!t)return null;var r=t[0],i=t[1];if(r==="searchbot")return new F_;var s=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);s?s.length<Bg&&(s=Og(Og([],s,!0),G_(Bg-s.length),!0)):s=[];var n=s.join("."),c=j_(e),g=L_.exec(e);return g&&g[1]?new T_(r,n,c,g[1]):new O_(r,n,c)}function j_(e){for(var t=0,r=Tg.length;t<r;t++){var i=Tg[t],s=i[0],n=i[1],c=n.exec(e);if(c)return s}return null}function K_(){var e=typeof process<"u"&&process.version;return e?new B_(process.version.slice(1)):null}function G_(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Dl={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M1=function(e,t){return M1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},M1(e,t)};function Q_(e,t){M1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var S1=function(){return S1=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)};function J_(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function V_(e,t,r,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,r,i);else for(var g=e.length-1;g>=0;g--)(c=e[g])&&(n=(s<3?c(n):s>3?c(t,r,n):c(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}function Y_(e,t){return function(r,i){t(r,i,e)}}function W_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function X_(e,t,r,i){function s(n){return n instanceof r?n:new r(function(c){c(n)})}return new(r||(r=Promise))(function(n,c){function g(w){try{l(i.next(w))}catch(_){c(_)}}function m(w){try{l(i.throw(w))}catch(_){c(_)}}function l(w){w.done?n(w.value):s(w.value).then(g,m)}l((i=i.apply(e,t||[])).next())})}function Z_(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(l){return function(w){return m([l,w])}}function m(l){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(n=l[0]&2?s.return:l[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,l[1])).done)return n;switch(s=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){r.label=l[1];break}if(l[0]===6&&r.label<n[1]){r.label=n[1],n=l;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(l);break}n[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(w){l=[6,w],s=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function tE(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function eE(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function x1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q6(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),s,n=[],c;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)n.push(s.value)}catch(g){c={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return n}function rE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Q6(arguments[t]));return e}function iE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var n=arguments[t],c=0,g=n.length;c<g;c++,s++)i[s]=n[c];return i}function wf(e){return this instanceof wf?(this.v=e,this):new wf(e)}function nE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),s,n=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(I){i[I]&&(s[I]=function(D){return new Promise(function(C,B){n.push([I,D,C,B])>1||g(I,D)})})}function g(I,D){try{m(i[I](D))}catch(C){_(n[0][3],C)}}function m(I){I.value instanceof wf?Promise.resolve(I.value.v).then(l,w):_(n[0][2],I)}function l(I){g("next",I)}function w(I){g("throw",I)}function _(I,D){I(D),n.shift(),n.length&&g(n[0][0],n[0][1])}}function sE(e){var t,r;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,n){t[s]=e[s]?function(c){return(r=!r)?{value:wf(e[s](c)),done:s==="return"}:n?n(c):c}:n}}function oE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof x1=="function"?x1(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(n){r[n]=e[n]&&function(c){return new Promise(function(g,m){c=e[n](c),s(g,m,c.done,c.value)})}}function s(n,c,g,m){Promise.resolve(m).then(function(l){n({value:l,done:g})},c)}}function aE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function hE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function fE(e){return e&&e.__esModule?e:{default:e}}function uE(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function cE(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const lE=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return S1},__asyncDelegator:sE,__asyncGenerator:nE,__asyncValues:oE,__await:wf,__awaiter:X_,__classPrivateFieldGet:uE,__classPrivateFieldSet:cE,__createBinding:tE,__decorate:V_,__exportStar:eE,__extends:Q_,__generator:Z_,__importDefault:fE,__importStar:hE,__makeTemplateObject:aE,__metadata:W_,__param:Y_,__read:Q6,__rest:J_,__spread:rE,__spreadArrays:iE,__values:x1},Symbol.toStringTag,{value:"Module"})),s0=G6(lE);var Nl={},Lh={},Fg;function dE(){if(Fg)return Lh;Fg=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Lh.delay=e,Lh}var Jo={},Cl={},Vo={},qg;function pE(){return qg||(qg=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.ONE_THOUSAND=Vo.ONE_HUNDRED=void 0,Vo.ONE_HUNDRED=100,Vo.ONE_THOUSAND=1e3),Vo}var Rl={},Ug;function gE(){return Ug||(Ug=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Rl)),Rl}var Lg;function J6(){return Lg||(Lg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=s0;t.__exportStar(pE(),e),t.__exportStar(gE(),e)}(Cl)),Cl}var kg;function vE(){if(kg)return Jo;kg=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.fromMiliseconds=Jo.toMiliseconds=void 0;const e=J6();function t(i){return i*e.ONE_THOUSAND}Jo.toMiliseconds=t;function r(i){return Math.floor(i/e.ONE_THOUSAND)}return Jo.fromMiliseconds=r,Jo}var zg;function mE(){return zg||(zg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=s0;t.__exportStar(dE(),e),t.__exportStar(vE(),e)}(Nl)),Nl}var Fa={},$g;function bE(){if($g)return Fa;$g=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const i=this.get(r);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-i.started;this.timestamps.set(r,{started:i.started,elapsed:s})}get(r){const i=this.timestamps.get(r);if(typeof i>"u")throw new Error(`No timestamp found for label: ${r}`);return i}elapsed(r){const i=this.get(r);return i.elapsed||Date.now()-i.started}}return Fa.Watch=e,Fa.default=e,Fa}var Pl={},kh={},Hg;function yE(){if(Hg)return kh;Hg=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.IWatch=void 0;class e{}return kh.IWatch=e,kh}var jg;function wE(){return jg||(jg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),s0.__exportStar(yE(),e)}(Pl)),Pl}var Kg;function AE(){return Kg||(Kg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=s0;t.__exportStar(mE(),e),t.__exportStar(bE(),e),t.__exportStar(wE(),e),t.__exportStar(J6(),e)}(Dl)),Dl}var ee=AE(),nr={},Gg;function V6(){if(Gg)return nr;Gg=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.getLocalStorage=nr.getLocalStorageOrThrow=nr.getCrypto=nr.getCryptoOrThrow=nr.getLocation=nr.getLocationOrThrow=nr.getNavigator=nr.getNavigatorOrThrow=nr.getDocument=nr.getDocumentOrThrow=nr.getFromWindowOrThrow=nr.getFromWindow=void 0;function e(I){let D;return typeof window<"u"&&typeof window[I]<"u"&&(D=window[I]),D}nr.getFromWindow=e;function t(I){const D=e(I);if(!D)throw new Error(`${I} is not defined in Window`);return D}nr.getFromWindowOrThrow=t;function r(){return t("document")}nr.getDocumentOrThrow=r;function i(){return e("document")}nr.getDocument=i;function s(){return t("navigator")}nr.getNavigatorOrThrow=s;function n(){return e("navigator")}nr.getNavigator=n;function c(){return t("location")}nr.getLocationOrThrow=c;function g(){return e("location")}nr.getLocation=g;function m(){return t("crypto")}nr.getCryptoOrThrow=m;function l(){return e("crypto")}nr.getCrypto=l;function w(){return t("localStorage")}nr.getLocalStorageOrThrow=w;function _(){return e("localStorage")}return nr.getLocalStorage=_,nr}var Wa=V6(),zh={},Qg;function _E(){if(Qg)return zh;Qg=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.getWindowMetadata=void 0;const e=V6();function t(){let r,i;try{r=e.getDocumentOrThrow(),i=e.getLocationOrThrow()}catch{return null}function s(){const D=r.getElementsByTagName("link"),C=[];for(let B=0;B<D.length;B++){const F=D[B],Q=F.getAttribute("rel");if(Q&&Q.toLowerCase().indexOf("icon")>-1){const U=F.getAttribute("href");if(U)if(U.toLowerCase().indexOf("https:")===-1&&U.toLowerCase().indexOf("http:")===-1&&U.indexOf("//")!==0){let J=i.protocol+"//"+i.host;if(U.indexOf("/")===0)J+=U;else{const z=i.pathname.split("/");z.pop();const $=z.join("/");J+=$+"/"+U}C.push(J)}else if(U.indexOf("//")===0){const J=i.protocol+U;C.push(J)}else C.push(U)}}return C}function n(...D){const C=r.getElementsByTagName("meta");for(let B=0;B<C.length;B++){const F=C[B],Q=["itemprop","property","name"].map(U=>F.getAttribute(U)).filter(U=>U?D.includes(U):!1);if(Q.length&&Q){const U=F.getAttribute("content");if(U)return U}}return""}function c(){let D=n("name","og:site_name","og:title","twitter:title");return D||(D=r.title),D}function g(){return n("description","og:description","twitter:description","keywords")}const m=c(),l=g(),w=i.origin,_=s();return{description:l,url:w,icons:_,name:m}}return zh.getWindowMetadata=t,zh}var EE=_E(),Ol={},Bl,Jg;function ME(){return Jg||(Jg=1,Bl=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),Bl}var Tl,Vg;function SE(){if(Vg)return Tl;Vg=1;var e="%[a-f0-9]{2}",t=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function i(c,g){try{return[decodeURIComponent(c.join(""))]}catch{}if(c.length===1)return c;g=g||1;var m=c.slice(0,g),l=c.slice(g);return Array.prototype.concat.call([],i(m),i(l))}function s(c){try{return decodeURIComponent(c)}catch{for(var g=c.match(t)||[],m=1;m<g.length;m++)c=i(g,m).join(""),g=c.match(t)||[];return c}}function n(c){for(var g={"%FE%FF":"��","%FF%FE":"��"},m=r.exec(c);m;){try{g[m[0]]=decodeURIComponent(m[0])}catch{var l=s(m[0]);l!==m[0]&&(g[m[0]]=l)}m=r.exec(c)}g["%C2"]="�";for(var w=Object.keys(g),_=0;_<w.length;_++){var I=w[_];c=c.replace(new RegExp(I,"g"),g[I])}return c}return Tl=function(c){if(typeof c!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof c+"`");try{return c=c.replace(/\+/g," "),decodeURIComponent(c)}catch{return n(c)}},Tl}var Fl,Yg;function xE(){return Yg||(Yg=1,Fl=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}),Fl}var ql,Wg;function IE(){return Wg||(Wg=1,ql=function(e,t){for(var r={},i=Object.keys(e),s=Array.isArray(t),n=0;n<i.length;n++){var c=i[n],g=e[c];(s?t.indexOf(c)!==-1:t(c,g,e))&&(r[c]=g)}return r}),ql}var Xg;function DE(){return Xg||(Xg=1,function(e){const t=ME(),r=SE(),i=xE(),s=IE(),n=U=>U==null,c=Symbol("encodeFragmentIdentifier");function g(U){switch(U.arrayFormat){case"index":return J=>(z,$)=>{const q=z.length;return $===void 0||U.skipNull&&$===null||U.skipEmptyString&&$===""?z:$===null?[...z,[w(J,U),"[",q,"]"].join("")]:[...z,[w(J,U),"[",w(q,U),"]=",w($,U)].join("")]};case"bracket":return J=>(z,$)=>$===void 0||U.skipNull&&$===null||U.skipEmptyString&&$===""?z:$===null?[...z,[w(J,U),"[]"].join("")]:[...z,[w(J,U),"[]=",w($,U)].join("")];case"colon-list-separator":return J=>(z,$)=>$===void 0||U.skipNull&&$===null||U.skipEmptyString&&$===""?z:$===null?[...z,[w(J,U),":list="].join("")]:[...z,[w(J,U),":list=",w($,U)].join("")];case"comma":case"separator":case"bracket-separator":{const J=U.arrayFormat==="bracket-separator"?"[]=":"=";return z=>($,q)=>q===void 0||U.skipNull&&q===null||U.skipEmptyString&&q===""?$:(q=q===null?"":q,$.length===0?[[w(z,U),J,w(q,U)].join("")]:[[$,w(q,U)].join(U.arrayFormatSeparator)])}default:return J=>(z,$)=>$===void 0||U.skipNull&&$===null||U.skipEmptyString&&$===""?z:$===null?[...z,w(J,U)]:[...z,[w(J,U),"=",w($,U)].join("")]}}function m(U){let J;switch(U.arrayFormat){case"index":return(z,$,q)=>{if(J=/\[(\d*)\]$/.exec(z),z=z.replace(/\[\d*\]$/,""),!J){q[z]=$;return}q[z]===void 0&&(q[z]={}),q[z][J[1]]=$};case"bracket":return(z,$,q)=>{if(J=/(\[\])$/.exec(z),z=z.replace(/\[\]$/,""),!J){q[z]=$;return}if(q[z]===void 0){q[z]=[$];return}q[z]=[].concat(q[z],$)};case"colon-list-separator":return(z,$,q)=>{if(J=/(:list)$/.exec(z),z=z.replace(/:list$/,""),!J){q[z]=$;return}if(q[z]===void 0){q[z]=[$];return}q[z]=[].concat(q[z],$)};case"comma":case"separator":return(z,$,q)=>{const R=typeof $=="string"&&$.includes(U.arrayFormatSeparator),H=typeof $=="string"&&!R&&_($,U).includes(U.arrayFormatSeparator);$=H?_($,U):$;const rt=R||H?$.split(U.arrayFormatSeparator).map(ot=>_(ot,U)):$===null?$:_($,U);q[z]=rt};case"bracket-separator":return(z,$,q)=>{const R=/(\[\])$/.test(z);if(z=z.replace(/\[\]$/,""),!R){q[z]=$&&_($,U);return}const H=$===null?[]:$.split(U.arrayFormatSeparator).map(rt=>_(rt,U));if(q[z]===void 0){q[z]=H;return}q[z]=[].concat(q[z],H)};default:return(z,$,q)=>{if(q[z]===void 0){q[z]=$;return}q[z]=[].concat(q[z],$)}}}function l(U){if(typeof U!="string"||U.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function w(U,J){return J.encode?J.strict?t(U):encodeURIComponent(U):U}function _(U,J){return J.decode?r(U):U}function I(U){return Array.isArray(U)?U.sort():typeof U=="object"?I(Object.keys(U)).sort((J,z)=>Number(J)-Number(z)).map(J=>U[J]):U}function D(U){const J=U.indexOf("#");return J!==-1&&(U=U.slice(0,J)),U}function C(U){let J="";const z=U.indexOf("#");return z!==-1&&(J=U.slice(z)),J}function B(U){U=D(U);const J=U.indexOf("?");return J===-1?"":U.slice(J+1)}function F(U,J){return J.parseNumbers&&!Number.isNaN(Number(U))&&typeof U=="string"&&U.trim()!==""?U=Number(U):J.parseBooleans&&U!==null&&(U.toLowerCase()==="true"||U.toLowerCase()==="false")&&(U=U.toLowerCase()==="true"),U}function Q(U,J){J=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},J),l(J.arrayFormatSeparator);const z=m(J),$=Object.create(null);if(typeof U!="string"||(U=U.trim().replace(/^[?#&]/,""),!U))return $;for(const q of U.split("&")){if(q==="")continue;let[R,H]=i(J.decode?q.replace(/\+/g," "):q,"=");H=H===void 0?null:["comma","separator","bracket-separator"].includes(J.arrayFormat)?H:_(H,J),z(_(R,J),H,$)}for(const q of Object.keys($)){const R=$[q];if(typeof R=="object"&&R!==null)for(const H of Object.keys(R))R[H]=F(R[H],J);else $[q]=F(R,J)}return J.sort===!1?$:(J.sort===!0?Object.keys($).sort():Object.keys($).sort(J.sort)).reduce((q,R)=>{const H=$[R];return H&&typeof H=="object"&&!Array.isArray(H)?q[R]=I(H):q[R]=H,q},Object.create(null))}e.extract=B,e.parse=Q,e.stringify=(U,J)=>{if(!U)return"";J=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},J),l(J.arrayFormatSeparator);const z=H=>J.skipNull&&n(U[H])||J.skipEmptyString&&U[H]==="",$=g(J),q={};for(const H of Object.keys(U))z(H)||(q[H]=U[H]);const R=Object.keys(q);return J.sort!==!1&&R.sort(J.sort),R.map(H=>{const rt=U[H];return rt===void 0?"":rt===null?w(H,J):Array.isArray(rt)?rt.length===0&&J.arrayFormat==="bracket-separator"?w(H,J)+"[]":rt.reduce($(H),[]).join("&"):w(H,J)+"="+w(rt,J)}).filter(H=>H.length>0).join("&")},e.parseUrl=(U,J)=>{J=Object.assign({decode:!0},J);const[z,$]=i(U,"#");return Object.assign({url:z.split("?")[0]||"",query:Q(B(U),J)},J&&J.parseFragmentIdentifier&&$?{fragmentIdentifier:_($,J)}:{})},e.stringifyUrl=(U,J)=>{J=Object.assign({encode:!0,strict:!0,[c]:!0},J);const z=D(U.url).split("?")[0]||"",$=e.extract(U.url),q=e.parse($,{sort:!1}),R=Object.assign(q,U.query);let H=e.stringify(R,J);H&&(H=`?${H}`);let rt=C(U.url);return U.fragmentIdentifier&&(rt=`#${J[c]?w(U.fragmentIdentifier,J):U.fragmentIdentifier}`),`${z}${H}${rt}`},e.pick=(U,J,z)=>{z=Object.assign({parseFragmentIdentifier:!0,[c]:!1},z);const{url:$,query:q,fragmentIdentifier:R}=e.parseUrl(U,z);return e.stringifyUrl({url:$,query:s(q,J),fragmentIdentifier:R},z)},e.exclude=(U,J,z)=>{const $=Array.isArray(J)?q=>!J.includes(q):(q,R)=>!J(q,R);return e.pick(U,$,z)}}(Ol)),Ol}var qc=DE(),Ul={},$h={},Ne={},Ll={},Zg;function NE(){return Zg||(Zg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,m){var l=g>>>16&65535,w=g&65535,_=m>>>16&65535,I=m&65535;return w*I+(l*I+w*_<<16>>>0)|0}e.mul=Math.imul||t;function r(g,m){return g+m|0}e.add=r;function i(g,m){return g-m|0}e.sub=i;function s(g,m){return g<<m|g>>>32-m}e.rotl=s;function n(g,m){return g<<32-m|g>>>m}e.rotr=n;function c(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g}e.isInteger=Number.isInteger||c,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(g){return e.isInteger(g)&&g>=-e.MAX_SAFE_INTEGER&&g<=e.MAX_SAFE_INTEGER}}(Ll)),Ll}var tv;function If(){if(tv)return Ne;tv=1,Object.defineProperty(Ne,"__esModule",{value:!0});var e=NE();function t(u,v){return v===void 0&&(v=0),(u[v+0]<<8|u[v+1])<<16>>16}Ne.readInt16BE=t;function r(u,v){return v===void 0&&(v=0),(u[v+0]<<8|u[v+1])>>>0}Ne.readUint16BE=r;function i(u,v){return v===void 0&&(v=0),(u[v+1]<<8|u[v])<<16>>16}Ne.readInt16LE=i;function s(u,v){return v===void 0&&(v=0),(u[v+1]<<8|u[v])>>>0}Ne.readUint16LE=s;function n(u,v,y){return v===void 0&&(v=new Uint8Array(2)),y===void 0&&(y=0),v[y+0]=u>>>8,v[y+1]=u>>>0,v}Ne.writeUint16BE=n,Ne.writeInt16BE=n;function c(u,v,y){return v===void 0&&(v=new Uint8Array(2)),y===void 0&&(y=0),v[y+0]=u>>>0,v[y+1]=u>>>8,v}Ne.writeUint16LE=c,Ne.writeInt16LE=c;function g(u,v){return v===void 0&&(v=0),u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3]}Ne.readInt32BE=g;function m(u,v){return v===void 0&&(v=0),(u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3])>>>0}Ne.readUint32BE=m;function l(u,v){return v===void 0&&(v=0),u[v+3]<<24|u[v+2]<<16|u[v+1]<<8|u[v]}Ne.readInt32LE=l;function w(u,v){return v===void 0&&(v=0),(u[v+3]<<24|u[v+2]<<16|u[v+1]<<8|u[v])>>>0}Ne.readUint32LE=w;function _(u,v,y){return v===void 0&&(v=new Uint8Array(4)),y===void 0&&(y=0),v[y+0]=u>>>24,v[y+1]=u>>>16,v[y+2]=u>>>8,v[y+3]=u>>>0,v}Ne.writeUint32BE=_,Ne.writeInt32BE=_;function I(u,v,y){return v===void 0&&(v=new Uint8Array(4)),y===void 0&&(y=0),v[y+0]=u>>>0,v[y+1]=u>>>8,v[y+2]=u>>>16,v[y+3]=u>>>24,v}Ne.writeUint32LE=I,Ne.writeInt32LE=I;function D(u,v){v===void 0&&(v=0);var y=g(u,v),A=g(u,v+4);return y*4294967296+A-(A>>31)*4294967296}Ne.readInt64BE=D;function C(u,v){v===void 0&&(v=0);var y=m(u,v),A=m(u,v+4);return y*4294967296+A}Ne.readUint64BE=C;function B(u,v){v===void 0&&(v=0);var y=l(u,v),A=l(u,v+4);return A*4294967296+y-(y>>31)*4294967296}Ne.readInt64LE=B;function F(u,v){v===void 0&&(v=0);var y=w(u,v),A=w(u,v+4);return A*4294967296+y}Ne.readUint64LE=F;function Q(u,v,y){return v===void 0&&(v=new Uint8Array(8)),y===void 0&&(y=0),_(u/4294967296>>>0,v,y),_(u>>>0,v,y+4),v}Ne.writeUint64BE=Q,Ne.writeInt64BE=Q;function U(u,v,y){return v===void 0&&(v=new Uint8Array(8)),y===void 0&&(y=0),I(u>>>0,v,y),I(u/4294967296>>>0,v,y+4),v}Ne.writeUint64LE=U,Ne.writeInt64LE=U;function J(u,v,y){if(y===void 0&&(y=0),u%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(u/8>v.length-y)throw new Error("readUintBE: array is too short for the given bitLength");for(var A=0,E=1,p=u/8+y-1;p>=y;p--)A+=v[p]*E,E*=256;return A}Ne.readUintBE=J;function z(u,v,y){if(y===void 0&&(y=0),u%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(u/8>v.length-y)throw new Error("readUintLE: array is too short for the given bitLength");for(var A=0,E=1,p=y;p<y+u/8;p++)A+=v[p]*E,E*=256;return A}Ne.readUintLE=z;function $(u,v,y,A){if(y===void 0&&(y=new Uint8Array(u/8)),A===void 0&&(A=0),u%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!e.isSafeInteger(v))throw new Error("writeUintBE value must be an integer");for(var E=1,p=u/8+A-1;p>=A;p--)y[p]=v/E&255,E*=256;return y}Ne.writeUintBE=$;function q(u,v,y,A){if(y===void 0&&(y=new Uint8Array(u/8)),A===void 0&&(A=0),u%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!e.isSafeInteger(v))throw new Error("writeUintLE value must be an integer");for(var E=1,p=A;p<A+u/8;p++)y[p]=v/E&255,E*=256;return y}Ne.writeUintLE=q;function R(u,v){v===void 0&&(v=0);var y=new DataView(u.buffer,u.byteOffset,u.byteLength);return y.getFloat32(v)}Ne.readFloat32BE=R;function H(u,v){v===void 0&&(v=0);var y=new DataView(u.buffer,u.byteOffset,u.byteLength);return y.getFloat32(v,!0)}Ne.readFloat32LE=H;function rt(u,v){v===void 0&&(v=0);var y=new DataView(u.buffer,u.byteOffset,u.byteLength);return y.getFloat64(v)}Ne.readFloat64BE=rt;function ot(u,v){v===void 0&&(v=0);var y=new DataView(u.buffer,u.byteOffset,u.byteLength);return y.getFloat64(v,!0)}Ne.readFloat64LE=ot;function G(u,v,y){v===void 0&&(v=new Uint8Array(4)),y===void 0&&(y=0);var A=new DataView(v.buffer,v.byteOffset,v.byteLength);return A.setFloat32(y,u),v}Ne.writeFloat32BE=G;function x(u,v,y){v===void 0&&(v=new Uint8Array(4)),y===void 0&&(y=0);var A=new DataView(v.buffer,v.byteOffset,v.byteLength);return A.setFloat32(y,u,!0),v}Ne.writeFloat32LE=x;function o(u,v,y){v===void 0&&(v=new Uint8Array(8)),y===void 0&&(y=0);var A=new DataView(v.buffer,v.byteOffset,v.byteLength);return A.setFloat64(y,u),v}Ne.writeFloat64BE=o;function h(u,v,y){v===void 0&&(v=new Uint8Array(8)),y===void 0&&(y=0);var A=new DataView(v.buffer,v.byteOffset,v.byteLength);return A.setFloat64(y,u,!0),v}return Ne.writeFloat64LE=h,Ne}var Qu={},ev;function Gn(){if(ev)return Qu;ev=1,Object.defineProperty(Qu,"__esModule",{value:!0});function e(t){for(var r=0;r<t.length;r++)t[r]=0;return t}return Qu.wipe=e,Qu}var rv;function CE(){if(rv)return $h;rv=1,Object.defineProperty($h,"__esModule",{value:!0});var e=If(),t=Gn(),r=20;function i(g,m,l){for(var w=1634760805,_=857760878,I=2036477234,D=1797285236,C=l[3]<<24|l[2]<<16|l[1]<<8|l[0],B=l[7]<<24|l[6]<<16|l[5]<<8|l[4],F=l[11]<<24|l[10]<<16|l[9]<<8|l[8],Q=l[15]<<24|l[14]<<16|l[13]<<8|l[12],U=l[19]<<24|l[18]<<16|l[17]<<8|l[16],J=l[23]<<24|l[22]<<16|l[21]<<8|l[20],z=l[27]<<24|l[26]<<16|l[25]<<8|l[24],$=l[31]<<24|l[30]<<16|l[29]<<8|l[28],q=m[3]<<24|m[2]<<16|m[1]<<8|m[0],R=m[7]<<24|m[6]<<16|m[5]<<8|m[4],H=m[11]<<24|m[10]<<16|m[9]<<8|m[8],rt=m[15]<<24|m[14]<<16|m[13]<<8|m[12],ot=w,G=_,x=I,o=D,h=C,u=B,v=F,y=Q,A=U,E=J,p=z,f=$,M=q,V=R,W=H,b=rt,L=0;L<r;L+=2)ot=ot+h|0,M^=ot,M=M>>>16|M<<16,A=A+M|0,h^=A,h=h>>>20|h<<12,G=G+u|0,V^=G,V=V>>>16|V<<16,E=E+V|0,u^=E,u=u>>>20|u<<12,x=x+v|0,W^=x,W=W>>>16|W<<16,p=p+W|0,v^=p,v=v>>>20|v<<12,o=o+y|0,b^=o,b=b>>>16|b<<16,f=f+b|0,y^=f,y=y>>>20|y<<12,x=x+v|0,W^=x,W=W>>>24|W<<8,p=p+W|0,v^=p,v=v>>>25|v<<7,o=o+y|0,b^=o,b=b>>>24|b<<8,f=f+b|0,y^=f,y=y>>>25|y<<7,G=G+u|0,V^=G,V=V>>>24|V<<8,E=E+V|0,u^=E,u=u>>>25|u<<7,ot=ot+h|0,M^=ot,M=M>>>24|M<<8,A=A+M|0,h^=A,h=h>>>25|h<<7,ot=ot+u|0,b^=ot,b=b>>>16|b<<16,p=p+b|0,u^=p,u=u>>>20|u<<12,G=G+v|0,M^=G,M=M>>>16|M<<16,f=f+M|0,v^=f,v=v>>>20|v<<12,x=x+y|0,V^=x,V=V>>>16|V<<16,A=A+V|0,y^=A,y=y>>>20|y<<12,o=o+h|0,W^=o,W=W>>>16|W<<16,E=E+W|0,h^=E,h=h>>>20|h<<12,x=x+y|0,V^=x,V=V>>>24|V<<8,A=A+V|0,y^=A,y=y>>>25|y<<7,o=o+h|0,W^=o,W=W>>>24|W<<8,E=E+W|0,h^=E,h=h>>>25|h<<7,G=G+v|0,M^=G,M=M>>>24|M<<8,f=f+M|0,v^=f,v=v>>>25|v<<7,ot=ot+u|0,b^=ot,b=b>>>24|b<<8,p=p+b|0,u^=p,u=u>>>25|u<<7;e.writeUint32LE(ot+w|0,g,0),e.writeUint32LE(G+_|0,g,4),e.writeUint32LE(x+I|0,g,8),e.writeUint32LE(o+D|0,g,12),e.writeUint32LE(h+C|0,g,16),e.writeUint32LE(u+B|0,g,20),e.writeUint32LE(v+F|0,g,24),e.writeUint32LE(y+Q|0,g,28),e.writeUint32LE(A+U|0,g,32),e.writeUint32LE(E+J|0,g,36),e.writeUint32LE(p+z|0,g,40),e.writeUint32LE(f+$|0,g,44),e.writeUint32LE(M+q|0,g,48),e.writeUint32LE(V+R|0,g,52),e.writeUint32LE(W+H|0,g,56),e.writeUint32LE(b+rt|0,g,60)}function s(g,m,l,w,_){if(_===void 0&&(_=0),g.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(w.length<l.length)throw new Error("ChaCha: destination is shorter than source");var I,D;if(_===0){if(m.length!==8&&m.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");I=new Uint8Array(16),D=I.length-m.length,I.set(m,D)}else{if(m.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");I=m,D=_}for(var C=new Uint8Array(64),B=0;B<l.length;B+=64){i(C,I,g);for(var F=B;F<B+64&&F<l.length;F++)w[F]=l[F]^C[F-B];c(I,0,D)}return t.wipe(C),_===0&&t.wipe(I),w}$h.streamXOR=s;function n(g,m,l,w){return w===void 0&&(w=0),t.wipe(l),s(g,m,l,l,w)}$h.stream=n;function c(g,m,l){for(var w=1;l--;)w=w+(g[m]&255)|0,g[m]=w&255,w>>>=8,m++;if(w>0)throw new Error("ChaCha: counter overflow")}return $h}var kl={},Yo={},iv;function op(){if(iv)return Yo;iv=1,Object.defineProperty(Yo,"__esModule",{value:!0});function e(s,n,c){return~(s-1)&n|s-1&c}Yo.select=e;function t(s,n){return(s|0)-(n|0)-1>>>31&1}Yo.lessOrEqual=t;function r(s,n){if(s.length!==n.length)return 0;for(var c=0,g=0;g<s.length;g++)c|=s[g]^n[g];return 1&c-1>>>8}Yo.compare=r;function i(s,n){return s.length===0||n.length===0?!1:r(s,n)!==0}return Yo.equal=i,Yo}var nv;function RE(){return nv||(nv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=op(),r=Gn();e.DIGEST_LENGTH=16;var i=function(){function c(g){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var m=g[0]|g[1]<<8;this._r[0]=m&8191;var l=g[2]|g[3]<<8;this._r[1]=(m>>>13|l<<3)&8191;var w=g[4]|g[5]<<8;this._r[2]=(l>>>10|w<<6)&7939;var _=g[6]|g[7]<<8;this._r[3]=(w>>>7|_<<9)&8191;var I=g[8]|g[9]<<8;this._r[4]=(_>>>4|I<<12)&255,this._r[5]=I>>>1&8190;var D=g[10]|g[11]<<8;this._r[6]=(I>>>14|D<<2)&8191;var C=g[12]|g[13]<<8;this._r[7]=(D>>>11|C<<5)&8065;var B=g[14]|g[15]<<8;this._r[8]=(C>>>8|B<<8)&8191,this._r[9]=B>>>5&127,this._pad[0]=g[16]|g[17]<<8,this._pad[1]=g[18]|g[19]<<8,this._pad[2]=g[20]|g[21]<<8,this._pad[3]=g[22]|g[23]<<8,this._pad[4]=g[24]|g[25]<<8,this._pad[5]=g[26]|g[27]<<8,this._pad[6]=g[28]|g[29]<<8,this._pad[7]=g[30]|g[31]<<8}return c.prototype._blocks=function(g,m,l){for(var w=this._fin?0:2048,_=this._h[0],I=this._h[1],D=this._h[2],C=this._h[3],B=this._h[4],F=this._h[5],Q=this._h[6],U=this._h[7],J=this._h[8],z=this._h[9],$=this._r[0],q=this._r[1],R=this._r[2],H=this._r[3],rt=this._r[4],ot=this._r[5],G=this._r[6],x=this._r[7],o=this._r[8],h=this._r[9];l>=16;){var u=g[m+0]|g[m+1]<<8;_+=u&8191;var v=g[m+2]|g[m+3]<<8;I+=(u>>>13|v<<3)&8191;var y=g[m+4]|g[m+5]<<8;D+=(v>>>10|y<<6)&8191;var A=g[m+6]|g[m+7]<<8;C+=(y>>>7|A<<9)&8191;var E=g[m+8]|g[m+9]<<8;B+=(A>>>4|E<<12)&8191,F+=E>>>1&8191;var p=g[m+10]|g[m+11]<<8;Q+=(E>>>14|p<<2)&8191;var f=g[m+12]|g[m+13]<<8;U+=(p>>>11|f<<5)&8191;var M=g[m+14]|g[m+15]<<8;J+=(f>>>8|M<<8)&8191,z+=M>>>5|w;var V=0,W=V;W+=_*$,W+=I*(5*h),W+=D*(5*o),W+=C*(5*x),W+=B*(5*G),V=W>>>13,W&=8191,W+=F*(5*ot),W+=Q*(5*rt),W+=U*(5*H),W+=J*(5*R),W+=z*(5*q),V+=W>>>13,W&=8191;var b=V;b+=_*q,b+=I*$,b+=D*(5*h),b+=C*(5*o),b+=B*(5*x),V=b>>>13,b&=8191,b+=F*(5*G),b+=Q*(5*ot),b+=U*(5*rt),b+=J*(5*H),b+=z*(5*R),V+=b>>>13,b&=8191;var L=V;L+=_*R,L+=I*q,L+=D*$,L+=C*(5*h),L+=B*(5*o),V=L>>>13,L&=8191,L+=F*(5*x),L+=Q*(5*G),L+=U*(5*ot),L+=J*(5*rt),L+=z*(5*H),V+=L>>>13,L&=8191;var O=V;O+=_*H,O+=I*R,O+=D*q,O+=C*$,O+=B*(5*h),V=O>>>13,O&=8191,O+=F*(5*o),O+=Q*(5*x),O+=U*(5*G),O+=J*(5*ot),O+=z*(5*rt),V+=O>>>13,O&=8191;var T=V;T+=_*rt,T+=I*H,T+=D*R,T+=C*q,T+=B*$,V=T>>>13,T&=8191,T+=F*(5*h),T+=Q*(5*o),T+=U*(5*x),T+=J*(5*G),T+=z*(5*ot),V+=T>>>13,T&=8191;var j=V;j+=_*ot,j+=I*rt,j+=D*H,j+=C*R,j+=B*q,V=j>>>13,j&=8191,j+=F*$,j+=Q*(5*h),j+=U*(5*o),j+=J*(5*x),j+=z*(5*G),V+=j>>>13,j&=8191;var N=V;N+=_*G,N+=I*ot,N+=D*rt,N+=C*H,N+=B*R,V=N>>>13,N&=8191,N+=F*q,N+=Q*$,N+=U*(5*h),N+=J*(5*o),N+=z*(5*x),V+=N>>>13,N&=8191;var k=V;k+=_*x,k+=I*G,k+=D*ot,k+=C*rt,k+=B*H,V=k>>>13,k&=8191,k+=F*R,k+=Q*q,k+=U*$,k+=J*(5*h),k+=z*(5*o),V+=k>>>13,k&=8191;var Z=V;Z+=_*o,Z+=I*x,Z+=D*G,Z+=C*ot,Z+=B*rt,V=Z>>>13,Z&=8191,Z+=F*H,Z+=Q*R,Z+=U*q,Z+=J*$,Z+=z*(5*h),V+=Z>>>13,Z&=8191;var nt=V;nt+=_*h,nt+=I*o,nt+=D*x,nt+=C*G,nt+=B*ot,V=nt>>>13,nt&=8191,nt+=F*rt,nt+=Q*H,nt+=U*R,nt+=J*q,nt+=z*$,V+=nt>>>13,nt&=8191,V=(V<<2)+V|0,V=V+W|0,W=V&8191,V=V>>>13,b+=V,_=W,I=b,D=L,C=O,B=T,F=j,Q=N,U=k,J=Z,z=nt,m+=16,l-=16}this._h[0]=_,this._h[1]=I,this._h[2]=D,this._h[3]=C,this._h[4]=B,this._h[5]=F,this._h[6]=Q,this._h[7]=U,this._h[8]=J,this._h[9]=z},c.prototype.finish=function(g,m){m===void 0&&(m=0);var l=new Uint16Array(10),w,_,I,D;if(this._leftover){for(D=this._leftover,this._buffer[D++]=1;D<16;D++)this._buffer[D]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(w=this._h[1]>>>13,this._h[1]&=8191,D=2;D<10;D++)this._h[D]+=w,w=this._h[D]>>>13,this._h[D]&=8191;for(this._h[0]+=w*5,w=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=w,w=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=w,l[0]=this._h[0]+5,w=l[0]>>>13,l[0]&=8191,D=1;D<10;D++)l[D]=this._h[D]+w,w=l[D]>>>13,l[D]&=8191;for(l[9]-=8192,_=(w^1)-1,D=0;D<10;D++)l[D]&=_;for(_=~_,D=0;D<10;D++)this._h[D]=this._h[D]&_|l[D];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,I=this._h[0]+this._pad[0],this._h[0]=I&65535,D=1;D<8;D++)I=(this._h[D]+this._pad[D]|0)+(I>>>16)|0,this._h[D]=I&65535;return g[m+0]=this._h[0]>>>0,g[m+1]=this._h[0]>>>8,g[m+2]=this._h[1]>>>0,g[m+3]=this._h[1]>>>8,g[m+4]=this._h[2]>>>0,g[m+5]=this._h[2]>>>8,g[m+6]=this._h[3]>>>0,g[m+7]=this._h[3]>>>8,g[m+8]=this._h[4]>>>0,g[m+9]=this._h[4]>>>8,g[m+10]=this._h[5]>>>0,g[m+11]=this._h[5]>>>8,g[m+12]=this._h[6]>>>0,g[m+13]=this._h[6]>>>8,g[m+14]=this._h[7]>>>0,g[m+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(g){var m=0,l=g.length,w;if(this._leftover){w=16-this._leftover,w>l&&(w=l);for(var _=0;_<w;_++)this._buffer[this._leftover+_]=g[m+_];if(l-=w,m+=w,this._leftover+=w,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(w=l-l%16,this._blocks(g,m,w),m+=w,l-=w),l){for(var _=0;_<l;_++)this._buffer[this._leftover+_]=g[m+_];this._leftover+=l}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var g=new Uint8Array(16);return this.finish(g),g},c.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();e.Poly1305=i;function s(c,g){var m=new i(c);m.update(g);var l=m.digest();return m.clean(),l}e.oneTimeAuth=s;function n(c,g){return c.length!==e.DIGEST_LENGTH||g.length!==e.DIGEST_LENGTH?!1:t.equal(c,g)}e.equal=n}(kl)),kl}var sv;function PE(){return sv||(sv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=CE(),r=RE(),i=Gn(),s=If(),n=op();e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var c=new Uint8Array(16),g=function(){function m(l){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,l.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return m.prototype.seal=function(l,w,_,I){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var D=new Uint8Array(16);D.set(l,D.length-l.length);var C=new Uint8Array(32);t.stream(this._key,D,C,4);var B=w.length+this.tagLength,F;if(I){if(I.length!==B)throw new Error("ChaCha20Poly1305: incorrect destination length");F=I}else F=new Uint8Array(B);return t.streamXOR(this._key,D,w,F,4),this._authenticate(F.subarray(F.length-this.tagLength,F.length),C,F.subarray(0,F.length-this.tagLength),_),i.wipe(D),F},m.prototype.open=function(l,w,_,I){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(w.length<this.tagLength)return null;var D=new Uint8Array(16);D.set(l,D.length-l.length);var C=new Uint8Array(32);t.stream(this._key,D,C,4);var B=new Uint8Array(this.tagLength);if(this._authenticate(B,C,w.subarray(0,w.length-this.tagLength),_),!n.equal(B,w.subarray(w.length-this.tagLength,w.length)))return null;var F=w.length-this.tagLength,Q;if(I){if(I.length!==F)throw new Error("ChaCha20Poly1305: incorrect destination length");Q=I}else Q=new Uint8Array(F);return t.streamXOR(this._key,D,w.subarray(0,w.length-this.tagLength),Q,4),i.wipe(D),Q},m.prototype.clean=function(){return i.wipe(this._key),this},m.prototype._authenticate=function(l,w,_,I){var D=new r.Poly1305(w);I&&(D.update(I),I.length%16>0&&D.update(c.subarray(I.length%16))),D.update(_),_.length%16>0&&D.update(c.subarray(_.length%16));var C=new Uint8Array(8);I&&s.writeUint64LE(I.length,C),D.update(C),s.writeUint64LE(_.length,C),D.update(C);for(var B=D.digest(),F=0;F<B.length;F++)l[F]=B[F];D.clean(),i.wipe(B),i.wipe(C)},m}();e.ChaCha20Poly1305=g}(Ul)),Ul}var Y6=PE(),Ju={},qa={},Vu={},ov;function OE(){if(ov)return Vu;ov=1,Object.defineProperty(Vu,"__esModule",{value:!0});function e(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}return Vu.isSerializableHash=e,Vu}var av;function BE(){if(av)return qa;av=1,Object.defineProperty(qa,"__esModule",{value:!0});var e=OE(),t=op(),r=Gn(),i=function(){function n(c,g){this._finished=!1,this._inner=new c,this._outer=new c,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var m=new Uint8Array(this.blockSize);g.length>this.blockSize?this._inner.update(g).finish(m).clean():m.set(g);for(var l=0;l<m.length;l++)m[l]^=54;this._inner.update(m);for(var l=0;l<m.length;l++)m[l]^=106;this._outer.update(m),e.isSerializableHash(this._inner)&&e.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),r.wipe(m)}return n.prototype.reset=function(){if(!e.isSerializableHash(this._inner)||!e.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},n.prototype.clean=function(){e.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),e.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},n.prototype.update=function(c){return this._inner.update(c),this},n.prototype.finish=function(c){return this._finished?(this._outer.finish(c),this):(this._inner.finish(c),this._outer.update(c.subarray(0,this.digestLength)).finish(c),this._finished=!0,this)},n.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},n.prototype.saveState=function(){if(!e.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},n.prototype.restoreState=function(c){if(!e.isSerializableHash(this._inner)||!e.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(c),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},n.prototype.cleanSavedState=function(c){if(!e.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(c)},n}();qa.HMAC=i;function s(n,c,g){var m=new i(n,c);m.update(g);var l=m.digest();return m.clean(),l}return qa.hmac=s,qa.equal=t.equal,qa}var hv;function TE(){if(hv)return Ju;hv=1,Object.defineProperty(Ju,"__esModule",{value:!0});var e=BE(),t=Gn(),r=function(){function i(s,n,c,g){c===void 0&&(c=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=s,this._info=g;var m=e.hmac(this._hash,c,n);this._hmac=new e.HMAC(s,m),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return i.prototype._fillBuffer=function(){this._counter[0]++;var s=this._counter[0];if(s===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),s>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},i.prototype.expand=function(s){for(var n=new Uint8Array(s),c=0;c<n.length;c++)this._bufpos===this._buffer.length&&this._fillBuffer(),n[c]=this._buffer[this._bufpos++];return n},i.prototype.clean=function(){this._hmac.clean(),t.wipe(this._buffer),t.wipe(this._counter),this._bufpos=0},i}();return Ju.HKDF=r,Ju}var FE=TE(),zl={},Hh={},jh={},fv;function qE(){if(fv)return jh;fv=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.BrowserRandomSource=void 0;const e=65536;class t{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const i=typeof self<"u"?self.crypto||self.msCrypto:null;i&&i.getRandomValues!==void 0&&(this._crypto=i,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(i){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const s=new Uint8Array(i);for(let n=0;n<s.length;n+=e)this._crypto.getRandomValues(s.subarray(n,n+Math.min(s.length-n,e)));return s}}return jh.BrowserRandomSource=t,jh}function UE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kh={},uv;function LE(){if(uv)return Kh;uv=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.NodeRandomSource=void 0;const e=Gn();class t{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof UE<"u"){const i=np;i&&i.randomBytes&&(this._crypto=i,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(i){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let s=this._crypto.randomBytes(i);if(s.length!==i)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(i);for(let c=0;c<n.length;c++)n[c]=s[c];return(0,e.wipe)(s),n}}return Kh.NodeRandomSource=t,Kh}var cv;function kE(){if(cv)return Hh;cv=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.SystemRandomSource=void 0;const e=qE(),t=LE();class r{constructor(){if(this.isAvailable=!1,this.name="",this._source=new e.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new t.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(s){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(s)}}return Hh.SystemRandomSource=r,Hh}var lv;function ap(){return lv||(lv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=kE(),r=If(),i=Gn();e.defaultRandomSource=new t.SystemRandomSource;function s(l,w=e.defaultRandomSource){return w.randomBytes(l)}e.randomBytes=s;function n(l=e.defaultRandomSource){const w=s(4,l),_=(0,r.readUint32LE)(w);return(0,i.wipe)(w),_}e.randomUint32=n;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function g(l,w=c,_=e.defaultRandomSource){if(w.length<2)throw new Error("randomString charset is too short");if(w.length>256)throw new Error("randomString charset is too long");let I="";const D=w.length,C=256-256%D;for(;l>0;){const B=s(Math.ceil(l*256/C),_);for(let F=0;F<B.length&&l>0;F++){const Q=B[F];Q<C&&(I+=w.charAt(Q%D),l--)}(0,i.wipe)(B)}return I}e.randomString=g;function m(l,w=c,_=e.defaultRandomSource){const I=Math.ceil(l/(Math.log(w.length)/Math.LN2));return g(I,w,_)}e.randomStringForEntropy=m}(zl)),zl}var Df=ap(),$l={},dv;function zE(){return dv||(dv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=If(),r=Gn();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var i=function(){function g(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return g.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},g.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},g.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},g.prototype.update=function(m,l){if(l===void 0&&(l=m.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var w=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=m[w++],l--;this._bufferLength===this.blockSize&&(n(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(w=n(this._temp,this._state,m,w,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=m[w++],l--;return this},g.prototype.finish=function(m){if(!this._finished){var l=this._bytesHashed,w=this._bufferLength,_=l/536870912|0,I=l<<3,D=l%64<56?64:128;this._buffer[w]=128;for(var C=w+1;C<D-8;C++)this._buffer[C]=0;t.writeUint32BE(_,this._buffer,D-8),t.writeUint32BE(I,this._buffer,D-4),n(this._temp,this._state,this._buffer,0,D),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)t.writeUint32BE(this._state[C],m,C*4);return this},g.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},g.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},g.prototype.restoreState=function(m){return this._state.set(m.state),this._bufferLength=m.bufferLength,m.buffer&&this._buffer.set(m.buffer),this._bytesHashed=m.bytesHashed,this._finished=!1,this},g.prototype.cleanSavedState=function(m){r.wipe(m.state),m.buffer&&r.wipe(m.buffer),m.bufferLength=0,m.bytesHashed=0},g}();e.SHA256=i;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(g,m,l,w,_){for(;_>=64;){for(var I=m[0],D=m[1],C=m[2],B=m[3],F=m[4],Q=m[5],U=m[6],J=m[7],z=0;z<16;z++){var $=w+z*4;g[z]=t.readUint32BE(l,$)}for(var z=16;z<64;z++){var q=g[z-2],R=(q>>>17|q<<15)^(q>>>19|q<<13)^q>>>10;q=g[z-15];var H=(q>>>7|q<<25)^(q>>>18|q<<14)^q>>>3;g[z]=(R+g[z-7]|0)+(H+g[z-16]|0)}for(var z=0;z<64;z++){var R=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&Q^~F&U)|0)+(J+(s[z]+g[z]|0)|0)|0,H=((I>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10))+(I&D^I&C^D&C)|0;J=U,U=Q,Q=F,F=B+R|0,B=C,C=D,D=I,I=R+H|0}m[0]+=I,m[1]+=D,m[2]+=C,m[3]+=B,m[4]+=F,m[5]+=Q,m[6]+=U,m[7]+=J,w+=64,_-=64}return w}function c(g){var m=new i;m.update(g);var l=m.digest();return m.clean(),l}e.hash=c}($l)),$l}var o0=zE(),Hl={},pv;function $E(){return pv||(pv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=ap(),r=Gn();e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function i(z){const $=new Float64Array(16);if(z)for(let q=0;q<z.length;q++)$[q]=z[q];return $}const s=new Uint8Array(32);s[0]=9;const n=i([56129,1]);function c(z){let $=1;for(let q=0;q<16;q++){let R=z[q]+$+65535;$=Math.floor(R/65536),z[q]=R-$*65536}z[0]+=$-1+37*($-1)}function g(z,$,q){const R=~(q-1);for(let H=0;H<16;H++){const rt=R&(z[H]^$[H]);z[H]^=rt,$[H]^=rt}}function m(z,$){const q=i(),R=i();for(let H=0;H<16;H++)R[H]=$[H];c(R),c(R),c(R);for(let H=0;H<2;H++){q[0]=R[0]-65517;for(let ot=1;ot<15;ot++)q[ot]=R[ot]-65535-(q[ot-1]>>16&1),q[ot-1]&=65535;q[15]=R[15]-32767-(q[14]>>16&1);const rt=q[15]>>16&1;q[14]&=65535,g(R,q,1-rt)}for(let H=0;H<16;H++)z[2*H]=R[H]&255,z[2*H+1]=R[H]>>8}function l(z,$){for(let q=0;q<16;q++)z[q]=$[2*q]+($[2*q+1]<<8);z[15]&=32767}function w(z,$,q){for(let R=0;R<16;R++)z[R]=$[R]+q[R]}function _(z,$,q){for(let R=0;R<16;R++)z[R]=$[R]-q[R]}function I(z,$,q){let R,H,rt=0,ot=0,G=0,x=0,o=0,h=0,u=0,v=0,y=0,A=0,E=0,p=0,f=0,M=0,V=0,W=0,b=0,L=0,O=0,T=0,j=0,N=0,k=0,Z=0,nt=0,et=0,ct=0,pt=0,bt=0,ie=0,yt=0,_t=q[0],Gt=q[1],lt=q[2],wt=q[3],Yt=q[4],ut=q[5],At=q[6],Kt=q[7],dt=q[8],It=q[9],Jt=q[10],vt=q[11],Rt=q[12],te=q[13],mt=q[14],Pt=q[15];R=$[0],rt+=R*_t,ot+=R*Gt,G+=R*lt,x+=R*wt,o+=R*Yt,h+=R*ut,u+=R*At,v+=R*Kt,y+=R*dt,A+=R*It,E+=R*Jt,p+=R*vt,f+=R*Rt,M+=R*te,V+=R*mt,W+=R*Pt,R=$[1],ot+=R*_t,G+=R*Gt,x+=R*lt,o+=R*wt,h+=R*Yt,u+=R*ut,v+=R*At,y+=R*Kt,A+=R*dt,E+=R*It,p+=R*Jt,f+=R*vt,M+=R*Rt,V+=R*te,W+=R*mt,b+=R*Pt,R=$[2],G+=R*_t,x+=R*Gt,o+=R*lt,h+=R*wt,u+=R*Yt,v+=R*ut,y+=R*At,A+=R*Kt,E+=R*dt,p+=R*It,f+=R*Jt,M+=R*vt,V+=R*Rt,W+=R*te,b+=R*mt,L+=R*Pt,R=$[3],x+=R*_t,o+=R*Gt,h+=R*lt,u+=R*wt,v+=R*Yt,y+=R*ut,A+=R*At,E+=R*Kt,p+=R*dt,f+=R*It,M+=R*Jt,V+=R*vt,W+=R*Rt,b+=R*te,L+=R*mt,O+=R*Pt,R=$[4],o+=R*_t,h+=R*Gt,u+=R*lt,v+=R*wt,y+=R*Yt,A+=R*ut,E+=R*At,p+=R*Kt,f+=R*dt,M+=R*It,V+=R*Jt,W+=R*vt,b+=R*Rt,L+=R*te,O+=R*mt,T+=R*Pt,R=$[5],h+=R*_t,u+=R*Gt,v+=R*lt,y+=R*wt,A+=R*Yt,E+=R*ut,p+=R*At,f+=R*Kt,M+=R*dt,V+=R*It,W+=R*Jt,b+=R*vt,L+=R*Rt,O+=R*te,T+=R*mt,j+=R*Pt,R=$[6],u+=R*_t,v+=R*Gt,y+=R*lt,A+=R*wt,E+=R*Yt,p+=R*ut,f+=R*At,M+=R*Kt,V+=R*dt,W+=R*It,b+=R*Jt,L+=R*vt,O+=R*Rt,T+=R*te,j+=R*mt,N+=R*Pt,R=$[7],v+=R*_t,y+=R*Gt,A+=R*lt,E+=R*wt,p+=R*Yt,f+=R*ut,M+=R*At,V+=R*Kt,W+=R*dt,b+=R*It,L+=R*Jt,O+=R*vt,T+=R*Rt,j+=R*te,N+=R*mt,k+=R*Pt,R=$[8],y+=R*_t,A+=R*Gt,E+=R*lt,p+=R*wt,f+=R*Yt,M+=R*ut,V+=R*At,W+=R*Kt,b+=R*dt,L+=R*It,O+=R*Jt,T+=R*vt,j+=R*Rt,N+=R*te,k+=R*mt,Z+=R*Pt,R=$[9],A+=R*_t,E+=R*Gt,p+=R*lt,f+=R*wt,M+=R*Yt,V+=R*ut,W+=R*At,b+=R*Kt,L+=R*dt,O+=R*It,T+=R*Jt,j+=R*vt,N+=R*Rt,k+=R*te,Z+=R*mt,nt+=R*Pt,R=$[10],E+=R*_t,p+=R*Gt,f+=R*lt,M+=R*wt,V+=R*Yt,W+=R*ut,b+=R*At,L+=R*Kt,O+=R*dt,T+=R*It,j+=R*Jt,N+=R*vt,k+=R*Rt,Z+=R*te,nt+=R*mt,et+=R*Pt,R=$[11],p+=R*_t,f+=R*Gt,M+=R*lt,V+=R*wt,W+=R*Yt,b+=R*ut,L+=R*At,O+=R*Kt,T+=R*dt,j+=R*It,N+=R*Jt,k+=R*vt,Z+=R*Rt,nt+=R*te,et+=R*mt,ct+=R*Pt,R=$[12],f+=R*_t,M+=R*Gt,V+=R*lt,W+=R*wt,b+=R*Yt,L+=R*ut,O+=R*At,T+=R*Kt,j+=R*dt,N+=R*It,k+=R*Jt,Z+=R*vt,nt+=R*Rt,et+=R*te,ct+=R*mt,pt+=R*Pt,R=$[13],M+=R*_t,V+=R*Gt,W+=R*lt,b+=R*wt,L+=R*Yt,O+=R*ut,T+=R*At,j+=R*Kt,N+=R*dt,k+=R*It,Z+=R*Jt,nt+=R*vt,et+=R*Rt,ct+=R*te,pt+=R*mt,bt+=R*Pt,R=$[14],V+=R*_t,W+=R*Gt,b+=R*lt,L+=R*wt,O+=R*Yt,T+=R*ut,j+=R*At,N+=R*Kt,k+=R*dt,Z+=R*It,nt+=R*Jt,et+=R*vt,ct+=R*Rt,pt+=R*te,bt+=R*mt,ie+=R*Pt,R=$[15],W+=R*_t,b+=R*Gt,L+=R*lt,O+=R*wt,T+=R*Yt,j+=R*ut,N+=R*At,k+=R*Kt,Z+=R*dt,nt+=R*It,et+=R*Jt,ct+=R*vt,pt+=R*Rt,bt+=R*te,ie+=R*mt,yt+=R*Pt,rt+=38*b,ot+=38*L,G+=38*O,x+=38*T,o+=38*j,h+=38*N,u+=38*k,v+=38*Z,y+=38*nt,A+=38*et,E+=38*ct,p+=38*pt,f+=38*bt,M+=38*ie,V+=38*yt,H=1,R=rt+H+65535,H=Math.floor(R/65536),rt=R-H*65536,R=ot+H+65535,H=Math.floor(R/65536),ot=R-H*65536,R=G+H+65535,H=Math.floor(R/65536),G=R-H*65536,R=x+H+65535,H=Math.floor(R/65536),x=R-H*65536,R=o+H+65535,H=Math.floor(R/65536),o=R-H*65536,R=h+H+65535,H=Math.floor(R/65536),h=R-H*65536,R=u+H+65535,H=Math.floor(R/65536),u=R-H*65536,R=v+H+65535,H=Math.floor(R/65536),v=R-H*65536,R=y+H+65535,H=Math.floor(R/65536),y=R-H*65536,R=A+H+65535,H=Math.floor(R/65536),A=R-H*65536,R=E+H+65535,H=Math.floor(R/65536),E=R-H*65536,R=p+H+65535,H=Math.floor(R/65536),p=R-H*65536,R=f+H+65535,H=Math.floor(R/65536),f=R-H*65536,R=M+H+65535,H=Math.floor(R/65536),M=R-H*65536,R=V+H+65535,H=Math.floor(R/65536),V=R-H*65536,R=W+H+65535,H=Math.floor(R/65536),W=R-H*65536,rt+=H-1+37*(H-1),H=1,R=rt+H+65535,H=Math.floor(R/65536),rt=R-H*65536,R=ot+H+65535,H=Math.floor(R/65536),ot=R-H*65536,R=G+H+65535,H=Math.floor(R/65536),G=R-H*65536,R=x+H+65535,H=Math.floor(R/65536),x=R-H*65536,R=o+H+65535,H=Math.floor(R/65536),o=R-H*65536,R=h+H+65535,H=Math.floor(R/65536),h=R-H*65536,R=u+H+65535,H=Math.floor(R/65536),u=R-H*65536,R=v+H+65535,H=Math.floor(R/65536),v=R-H*65536,R=y+H+65535,H=Math.floor(R/65536),y=R-H*65536,R=A+H+65535,H=Math.floor(R/65536),A=R-H*65536,R=E+H+65535,H=Math.floor(R/65536),E=R-H*65536,R=p+H+65535,H=Math.floor(R/65536),p=R-H*65536,R=f+H+65535,H=Math.floor(R/65536),f=R-H*65536,R=M+H+65535,H=Math.floor(R/65536),M=R-H*65536,R=V+H+65535,H=Math.floor(R/65536),V=R-H*65536,R=W+H+65535,H=Math.floor(R/65536),W=R-H*65536,rt+=H-1+37*(H-1),z[0]=rt,z[1]=ot,z[2]=G,z[3]=x,z[4]=o,z[5]=h,z[6]=u,z[7]=v,z[8]=y,z[9]=A,z[10]=E,z[11]=p,z[12]=f,z[13]=M,z[14]=V,z[15]=W}function D(z,$){I(z,$,$)}function C(z,$){const q=i();for(let R=0;R<16;R++)q[R]=$[R];for(let R=253;R>=0;R--)D(q,q),R!==2&&R!==4&&I(q,q,$);for(let R=0;R<16;R++)z[R]=q[R]}function B(z,$){const q=new Uint8Array(32),R=new Float64Array(80),H=i(),rt=i(),ot=i(),G=i(),x=i(),o=i();for(let y=0;y<31;y++)q[y]=z[y];q[31]=z[31]&127|64,q[0]&=248,l(R,$);for(let y=0;y<16;y++)rt[y]=R[y];H[0]=G[0]=1;for(let y=254;y>=0;--y){const A=q[y>>>3]>>>(y&7)&1;g(H,rt,A),g(ot,G,A),w(x,H,ot),_(H,H,ot),w(ot,rt,G),_(rt,rt,G),D(G,x),D(o,H),I(H,ot,H),I(ot,rt,x),w(x,H,ot),_(H,H,ot),D(rt,H),_(ot,G,o),I(H,ot,n),w(H,H,G),I(ot,ot,H),I(H,G,o),I(G,rt,R),D(rt,x),g(H,rt,A),g(ot,G,A)}for(let y=0;y<16;y++)R[y+16]=H[y],R[y+32]=ot[y],R[y+48]=rt[y],R[y+64]=G[y];const h=R.subarray(32),u=R.subarray(16);C(h,h),I(u,u,h);const v=new Uint8Array(32);return m(v,u),v}e.scalarMult=B;function F(z){return B(z,s)}e.scalarMultBase=F;function Q(z){if(z.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const $=new Uint8Array(z);return{publicKey:F($),secretKey:$}}e.generateKeyPairFromSeed=Q;function U(z){const $=(0,t.randomBytes)(32,z),q=Q($);return(0,r.wipe)($),q}e.generateKeyPair=U;function J(z,$,q=!1){if(z.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if($.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const R=B(z,$);if(q){let H=0;for(let rt=0;rt<R.length;rt++)H|=R[rt];if(H===0)throw new Error("X25519: invalid shared key")}return R}e.sharedKey=J}(Hl)),Hl}var W6=$E();function X6(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function yc(e,t){t||(t=e.reduce((s,n)=>s+n.length,0));const r=X6(t);let i=0;for(const s of e)r.set(s,i),i+=s.length;return r}function HE(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<e.length;s++){var n=e.charAt(s),c=n.charCodeAt(0);if(r[c]!==255)throw new TypeError(n+" is ambiguous");r[c]=s}var g=e.length,m=e.charAt(0),l=Math.log(g)/Math.log(256),w=Math.log(256)/Math.log(g);function _(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var B=0,F=0,Q=0,U=C.length;Q!==U&&C[Q]===0;)Q++,B++;for(var J=(U-Q)*w+1>>>0,z=new Uint8Array(J);Q!==U;){for(var $=C[Q],q=0,R=J-1;($!==0||q<F)&&R!==-1;R--,q++)$+=256*z[R]>>>0,z[R]=$%g>>>0,$=$/g>>>0;if($!==0)throw new Error("Non-zero carry");F=q,Q++}for(var H=J-F;H!==J&&z[H]===0;)H++;for(var rt=m.repeat(B);H<J;++H)rt+=e.charAt(z[H]);return rt}function I(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var B=0;if(C[B]!==" "){for(var F=0,Q=0;C[B]===m;)F++,B++;for(var U=(C.length-B)*l+1>>>0,J=new Uint8Array(U);C[B];){var z=r[C.charCodeAt(B)];if(z===255)return;for(var $=0,q=U-1;(z!==0||$<Q)&&q!==-1;q--,$++)z+=g*J[q]>>>0,J[q]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");Q=$,B++}if(C[B]!==" "){for(var R=U-Q;R!==U&&J[R]===0;)R++;for(var H=new Uint8Array(F+(U-R)),rt=F;R!==U;)H[rt++]=J[R++];return H}}}function D(C){var B=I(C);if(B)return B;throw new Error(`Non-${t} character`)}return{encode:_,decodeUnsafe:I,decode:D}}var jE=HE,KE=jE;const GE=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},QE=e=>new TextEncoder().encode(e),JE=e=>new TextDecoder().decode(e);class VE{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class YE{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Z6(this,t)}}class WE{constructor(t){this.decoders=t}or(t){return Z6(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Z6=(e,t)=>new WE({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class XE{constructor(t,r,i,s){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=s,this.encoder=new VE(t,r,i),this.decoder=new YE(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const a0=({name:e,prefix:t,encode:r,decode:i})=>new XE(e,t,r,i),Nf=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:s}=KE(r,t);return a0({prefix:e,name:t,encode:i,decode:n=>GE(s(n))})},ZE=(e,t,r,i)=>{const s={};for(let w=0;w<t.length;++w)s[t[w]]=w;let n=e.length;for(;e[n-1]==="=";)--n;const c=new Uint8Array(n*r/8|0);let g=0,m=0,l=0;for(let w=0;w<n;++w){const _=s[e[w]];if(_===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|_,g+=r,g>=8&&(g-=8,c[l++]=255&m>>g)}if(g>=r||255&m<<8-g)throw new SyntaxError("Unexpected end of data");return c},tM=(e,t,r)=>{const i=t[t.length-1]==="=",s=(1<<r)-1;let n="",c=0,g=0;for(let m=0;m<e.length;++m)for(g=g<<8|e[m],c+=8;c>r;)c-=r,n+=t[s&g>>c];if(c&&(n+=t[s&g<<r-c]),i)for(;n.length*r&7;)n+="=";return n},ti=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>a0({prefix:t,name:e,encode(s){return tM(s,i,r)},decode(s){return ZE(s,i,r,e)}}),eM=a0({prefix:"\0",name:"identity",encode:e=>JE(e),decode:e=>QE(e)}),rM=Object.freeze(Object.defineProperty({__proto__:null,identity:eM},Symbol.toStringTag,{value:"Module"})),iM=ti({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),nM=Object.freeze(Object.defineProperty({__proto__:null,base2:iM},Symbol.toStringTag,{value:"Module"})),sM=ti({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),oM=Object.freeze(Object.defineProperty({__proto__:null,base8:sM},Symbol.toStringTag,{value:"Module"})),aM=Nf({prefix:"9",name:"base10",alphabet:"0123456789"}),hM=Object.freeze(Object.defineProperty({__proto__:null,base10:aM},Symbol.toStringTag,{value:"Module"})),fM=ti({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uM=ti({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),cM=Object.freeze(Object.defineProperty({__proto__:null,base16:fM,base16upper:uM},Symbol.toStringTag,{value:"Module"})),lM=ti({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dM=ti({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pM=ti({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gM=ti({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vM=ti({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mM=ti({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bM=ti({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yM=ti({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wM=ti({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),AM=Object.freeze(Object.defineProperty({__proto__:null,base32:lM,base32hex:vM,base32hexpad:bM,base32hexpadupper:yM,base32hexupper:mM,base32pad:pM,base32padupper:gM,base32upper:dM,base32z:wM},Symbol.toStringTag,{value:"Module"})),_M=Nf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),EM=Nf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),MM=Object.freeze(Object.defineProperty({__proto__:null,base36:_M,base36upper:EM},Symbol.toStringTag,{value:"Module"})),SM=Nf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xM=Nf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),IM=Object.freeze(Object.defineProperty({__proto__:null,base58btc:SM,base58flickr:xM},Symbol.toStringTag,{value:"Module"})),DM=ti({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),NM=ti({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),CM=ti({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),RM=ti({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),PM=Object.freeze(Object.defineProperty({__proto__:null,base64:DM,base64pad:NM,base64url:CM,base64urlpad:RM},Symbol.toStringTag,{value:"Module"})),tb=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),OM=tb.reduce((e,t,r)=>(e[r]=t,e),[]),BM=tb.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function TM(e){return e.reduce((t,r)=>(t+=OM[r],t),"")}function FM(e){const t=[];for(const r of e){const i=BM[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const qM=a0({prefix:"🚀",name:"base256emoji",encode:TM,decode:FM}),UM=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:qM},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const gv={...rM,...nM,...oM,...hM,...cM,...AM,...MM,...IM,...PM,...UM};function eb(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const vv=eb("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),jl=eb("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=X6(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rb={utf8:vv,"utf-8":vv,hex:gv.base16,latin1:jl,ascii:jl,binary:jl,...gv};function Gr(e,t="utf8"){const r=rb[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function Qr(e,t="utf8"){const r=rb[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var Kl={};const LM="elliptic",kM="6.6.1",zM="EC cryptography",$M="lib/elliptic.js",HM=["lib"],jM={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},KM={type:"git",url:"git@github.com:indutny/elliptic"},GM=["EC","Elliptic","curve","Cryptography"],QM="Fedor Indutny <fedor@indutny.com>",JM="MIT",VM={url:"https://github.com/indutny/elliptic/issues"},YM="https://github.com/indutny/elliptic",WM={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},XM={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},ZM={name:LM,version:kM,description:zM,main:$M,files:HM,scripts:jM,repository:KM,keywords:GM,author:QM,license:JM,bugs:VM,homepage:YM,devDependencies:WM,dependencies:XM};var Gl={},wc={exports:{}},tS=wc.exports,mv;function ao(){return mv||(mv=1,function(e){(function(t,r){function i(G,x){if(!G)throw new Error(x||"Assertion failed")}function s(G,x){G.super_=x;var o=function(){};o.prototype=x.prototype,G.prototype=new o,G.prototype.constructor=G}function n(G,x,o){if(n.isBN(G))return G;this.negative=0,this.words=null,this.length=0,this.red=null,G!==null&&((x==="le"||x==="be")&&(o=x,x=10),this._init(G||0,x||10,o||"be"))}typeof t=="object"?t.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=np.Buffer}catch{}n.isBN=function(x){return x instanceof n?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===n.wordSize&&Array.isArray(x.words)},n.max=function(x,o){return x.cmp(o)>0?x:o},n.min=function(x,o){return x.cmp(o)<0?x:o},n.prototype._init=function(x,o,h){if(typeof x=="number")return this._initNumber(x,o,h);if(typeof x=="object")return this._initArray(x,o,h);o==="hex"&&(o=16),i(o===(o|0)&&o>=2&&o<=36),x=x.toString().replace(/\s+/g,"");var u=0;x[0]==="-"&&(u++,this.negative=1),u<x.length&&(o===16?this._parseHex(x,u,h):(this._parseBase(x,o,u),h==="le"&&this._initArray(this.toArray(),o,h)))},n.prototype._initNumber=function(x,o,h){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(i(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),o,h)},n.prototype._initArray=function(x,o,h){if(i(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var v,y,A=0;if(h==="be")for(u=x.length-1,v=0;u>=0;u-=3)y=x[u]|x[u-1]<<8|x[u-2]<<16,this.words[v]|=y<<A&67108863,this.words[v+1]=y>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);else if(h==="le")for(u=0,v=0;u<x.length;u+=3)y=x[u]|x[u+1]<<8|x[u+2]<<16,this.words[v]|=y<<A&67108863,this.words[v+1]=y>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);return this.strip()};function g(G,x){var o=G.charCodeAt(x);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function m(G,x,o){var h=g(G,o);return o-1>=x&&(h|=g(G,o-1)<<4),h}n.prototype._parseHex=function(x,o,h){this.length=Math.ceil((x.length-o)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var v=0,y=0,A;if(h==="be")for(u=x.length-1;u>=o;u-=2)A=m(x,o,u)<<v,this.words[y]|=A&67108863,v>=18?(v-=18,y+=1,this.words[y]|=A>>>26):v+=8;else{var E=x.length-o;for(u=E%2===0?o+1:o;u<x.length;u+=2)A=m(x,o,u)<<v,this.words[y]|=A&67108863,v>=18?(v-=18,y+=1,this.words[y]|=A>>>26):v+=8}this.strip()};function l(G,x,o,h){for(var u=0,v=Math.min(G.length,o),y=x;y<v;y++){var A=G.charCodeAt(y)-48;u*=h,A>=49?u+=A-49+10:A>=17?u+=A-17+10:u+=A}return u}n.prototype._parseBase=function(x,o,h){this.words=[0],this.length=1;for(var u=0,v=1;v<=67108863;v*=o)u++;u--,v=v/o|0;for(var y=x.length-h,A=y%u,E=Math.min(y,y-A)+h,p=0,f=h;f<E;f+=u)p=l(x,f,f+u,o),this.imuln(v),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(A!==0){var M=1;for(p=l(x,f,x.length,o),f=0;f<A;f++)M*=o;this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},n.prototype.copy=function(x){x.words=new Array(this.length);for(var o=0;o<this.length;o++)x.words[o]=this.words[o];x.length=this.length,x.negative=this.negative,x.red=this.red},n.prototype.clone=function(){var x=new n(null);return this.copy(x),x},n.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(x,o){x=x||10,o=o|0||1;var h;if(x===16||x==="hex"){h="";for(var u=0,v=0,y=0;y<this.length;y++){var A=this.words[y],E=((A<<u|v)&16777215).toString(16);v=A>>>24-u&16777215,u+=2,u>=26&&(u-=26,y--),v!==0||y!==this.length-1?h=w[6-E.length]+E+h:h=E+h}for(v!==0&&(h=v.toString(16)+h);h.length%o!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(x===(x|0)&&x>=2&&x<=36){var p=_[x],f=I[x];h="";var M=this.clone();for(M.negative=0;!M.isZero();){var V=M.modn(f).toString(x);M=M.idivn(f),M.isZero()?h=V+h:h=w[p-V.length]+V+h}for(this.isZero()&&(h="0"+h);h.length%o!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(x,o){return i(typeof c<"u"),this.toArrayLike(c,x,o)},n.prototype.toArray=function(x,o){return this.toArrayLike(Array,x,o)},n.prototype.toArrayLike=function(x,o,h){var u=this.byteLength(),v=h||Math.max(1,u);i(u<=v,"byte array longer than desired length"),i(v>0,"Requested array length <= 0"),this.strip();var y=o==="le",A=new x(v),E,p,f=this.clone();if(y){for(p=0;!f.isZero();p++)E=f.andln(255),f.iushrn(8),A[p]=E;for(;p<v;p++)A[p]=0}else{for(p=0;p<v-u;p++)A[p]=0;for(p=0;!f.isZero();p++)E=f.andln(255),f.iushrn(8),A[v-p-1]=E}return A},Math.clz32?n.prototype._countBits=function(x){return 32-Math.clz32(x)}:n.prototype._countBits=function(x){var o=x,h=0;return o>=4096&&(h+=13,o>>>=13),o>=64&&(h+=7,o>>>=7),o>=8&&(h+=4,o>>>=4),o>=2&&(h+=2,o>>>=2),h+o},n.prototype._zeroBits=function(x){if(x===0)return 26;var o=x,h=0;return o&8191||(h+=13,o>>>=13),o&127||(h+=7,o>>>=7),o&15||(h+=4,o>>>=4),o&3||(h+=2,o>>>=2),o&1||h++,h},n.prototype.bitLength=function(){var x=this.words[this.length-1],o=this._countBits(x);return(this.length-1)*26+o};function D(G){for(var x=new Array(G.bitLength()),o=0;o<x.length;o++){var h=o/26|0,u=o%26;x[o]=(G.words[h]&1<<u)>>>u}return x}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,o=0;o<this.length;o++){var h=this._zeroBits(this.words[o]);if(x+=h,h!==26)break}return x},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},n.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var o=0;o<x.length;o++)this.words[o]=this.words[o]|x.words[o];return this.strip()},n.prototype.ior=function(x){return i((this.negative|x.negative)===0),this.iuor(x)},n.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},n.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},n.prototype.iuand=function(x){var o;this.length>x.length?o=x:o=this;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]&x.words[h];return this.length=o.length,this.strip()},n.prototype.iand=function(x){return i((this.negative|x.negative)===0),this.iuand(x)},n.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},n.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},n.prototype.iuxor=function(x){var o,h;this.length>x.length?(o=this,h=x):(o=x,h=this);for(var u=0;u<h.length;u++)this.words[u]=o.words[u]^h.words[u];if(this!==o)for(;u<o.length;u++)this.words[u]=o.words[u];return this.length=o.length,this.strip()},n.prototype.ixor=function(x){return i((this.negative|x.negative)===0),this.iuxor(x)},n.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},n.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},n.prototype.inotn=function(x){i(typeof x=="number"&&x>=0);var o=Math.ceil(x/26)|0,h=x%26;this._expand(o),h>0&&o--;for(var u=0;u<o;u++)this.words[u]=~this.words[u]&67108863;return h>0&&(this.words[u]=~this.words[u]&67108863>>26-h),this.strip()},n.prototype.notn=function(x){return this.clone().inotn(x)},n.prototype.setn=function(x,o){i(typeof x=="number"&&x>=0);var h=x/26|0,u=x%26;return this._expand(h+1),o?this.words[h]=this.words[h]|1<<u:this.words[h]=this.words[h]&~(1<<u),this.strip()},n.prototype.iadd=function(x){var o;if(this.negative!==0&&x.negative===0)return this.negative=0,o=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,o=this.isub(x),x.negative=1,o._normSign();var h,u;this.length>x.length?(h=this,u=x):(h=x,u=this);for(var v=0,y=0;y<u.length;y++)o=(h.words[y]|0)+(u.words[y]|0)+v,this.words[y]=o&67108863,v=o>>>26;for(;v!==0&&y<h.length;y++)o=(h.words[y]|0)+v,this.words[y]=o&67108863,v=o>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},n.prototype.add=function(x){var o;return x.negative!==0&&this.negative===0?(x.negative=0,o=this.sub(x),x.negative^=1,o):x.negative===0&&this.negative!==0?(this.negative=0,o=x.sub(this),this.negative=1,o):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},n.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var o=this.iadd(x);return x.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var h=this.cmp(x);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,v;h>0?(u=this,v=x):(u=x,v=this);for(var y=0,A=0;A<v.length;A++)o=(u.words[A]|0)-(v.words[A]|0)+y,y=o>>26,this.words[A]=o&67108863;for(;y!==0&&A<u.length;A++)o=(u.words[A]|0)+y,y=o>>26,this.words[A]=o&67108863;if(y===0&&A<u.length&&u!==this)for(;A<u.length;A++)this.words[A]=u.words[A];return this.length=Math.max(this.length,A),u!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(x){return this.clone().isub(x)};function C(G,x,o){o.negative=x.negative^G.negative;var h=G.length+x.length|0;o.length=h,h=h-1|0;var u=G.words[0]|0,v=x.words[0]|0,y=u*v,A=y&67108863,E=y/67108864|0;o.words[0]=A;for(var p=1;p<h;p++){for(var f=E>>>26,M=E&67108863,V=Math.min(p,x.length-1),W=Math.max(0,p-G.length+1);W<=V;W++){var b=p-W|0;u=G.words[b]|0,v=x.words[W]|0,y=u*v+M,f+=y/67108864|0,M=y&67108863}o.words[p]=M|0,E=f|0}return E!==0?o.words[p]=E|0:o.length--,o.strip()}var B=function(x,o,h){var u=x.words,v=o.words,y=h.words,A=0,E,p,f,M=u[0]|0,V=M&8191,W=M>>>13,b=u[1]|0,L=b&8191,O=b>>>13,T=u[2]|0,j=T&8191,N=T>>>13,k=u[3]|0,Z=k&8191,nt=k>>>13,et=u[4]|0,ct=et&8191,pt=et>>>13,bt=u[5]|0,ie=bt&8191,yt=bt>>>13,_t=u[6]|0,Gt=_t&8191,lt=_t>>>13,wt=u[7]|0,Yt=wt&8191,ut=wt>>>13,At=u[8]|0,Kt=At&8191,dt=At>>>13,It=u[9]|0,Jt=It&8191,vt=It>>>13,Rt=v[0]|0,te=Rt&8191,mt=Rt>>>13,Pt=v[1]|0,ce=Pt&8191,Tt=Pt>>>13,Vt=v[2]|0,le=Vt&8191,Ft=Vt>>>13,Wt=v[3]|0,pe=Wt&8191,Mt=Wt>>>13,Lt=v[4]|0,oe=Lt&8191,St=Lt>>>13,kt=v[5]|0,ne=kt&8191,Dt=kt>>>13,jt=v[6]|0,ae=jt&8191,Nt=jt>>>13,zt=v[7]|0,fe=zt&8191,xt=zt>>>13,Ut=v[8]|0,ue=Ut&8191,Ct=Ut>>>13,Xt=v[9]|0,be=Xt&8191,Ht=Xt>>>13;h.negative=x.negative^o.negative,h.length=19,E=Math.imul(V,te),p=Math.imul(V,mt),p=p+Math.imul(W,te)|0,f=Math.imul(W,mt);var Qt=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,E=Math.imul(L,te),p=Math.imul(L,mt),p=p+Math.imul(O,te)|0,f=Math.imul(O,mt),E=E+Math.imul(V,ce)|0,p=p+Math.imul(V,Tt)|0,p=p+Math.imul(W,ce)|0,f=f+Math.imul(W,Tt)|0;var ze=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(ze>>>26)|0,ze&=67108863,E=Math.imul(j,te),p=Math.imul(j,mt),p=p+Math.imul(N,te)|0,f=Math.imul(N,mt),E=E+Math.imul(L,ce)|0,p=p+Math.imul(L,Tt)|0,p=p+Math.imul(O,ce)|0,f=f+Math.imul(O,Tt)|0,E=E+Math.imul(V,le)|0,p=p+Math.imul(V,Ft)|0,p=p+Math.imul(W,le)|0,f=f+Math.imul(W,Ft)|0;var $e=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+($e>>>26)|0,$e&=67108863,E=Math.imul(Z,te),p=Math.imul(Z,mt),p=p+Math.imul(nt,te)|0,f=Math.imul(nt,mt),E=E+Math.imul(j,ce)|0,p=p+Math.imul(j,Tt)|0,p=p+Math.imul(N,ce)|0,f=f+Math.imul(N,Tt)|0,E=E+Math.imul(L,le)|0,p=p+Math.imul(L,Ft)|0,p=p+Math.imul(O,le)|0,f=f+Math.imul(O,Ft)|0,E=E+Math.imul(V,pe)|0,p=p+Math.imul(V,Mt)|0,p=p+Math.imul(W,pe)|0,f=f+Math.imul(W,Mt)|0;var He=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(He>>>26)|0,He&=67108863,E=Math.imul(ct,te),p=Math.imul(ct,mt),p=p+Math.imul(pt,te)|0,f=Math.imul(pt,mt),E=E+Math.imul(Z,ce)|0,p=p+Math.imul(Z,Tt)|0,p=p+Math.imul(nt,ce)|0,f=f+Math.imul(nt,Tt)|0,E=E+Math.imul(j,le)|0,p=p+Math.imul(j,Ft)|0,p=p+Math.imul(N,le)|0,f=f+Math.imul(N,Ft)|0,E=E+Math.imul(L,pe)|0,p=p+Math.imul(L,Mt)|0,p=p+Math.imul(O,pe)|0,f=f+Math.imul(O,Mt)|0,E=E+Math.imul(V,oe)|0,p=p+Math.imul(V,St)|0,p=p+Math.imul(W,oe)|0,f=f+Math.imul(W,St)|0;var je=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(ie,te),p=Math.imul(ie,mt),p=p+Math.imul(yt,te)|0,f=Math.imul(yt,mt),E=E+Math.imul(ct,ce)|0,p=p+Math.imul(ct,Tt)|0,p=p+Math.imul(pt,ce)|0,f=f+Math.imul(pt,Tt)|0,E=E+Math.imul(Z,le)|0,p=p+Math.imul(Z,Ft)|0,p=p+Math.imul(nt,le)|0,f=f+Math.imul(nt,Ft)|0,E=E+Math.imul(j,pe)|0,p=p+Math.imul(j,Mt)|0,p=p+Math.imul(N,pe)|0,f=f+Math.imul(N,Mt)|0,E=E+Math.imul(L,oe)|0,p=p+Math.imul(L,St)|0,p=p+Math.imul(O,oe)|0,f=f+Math.imul(O,St)|0,E=E+Math.imul(V,ne)|0,p=p+Math.imul(V,Dt)|0,p=p+Math.imul(W,ne)|0,f=f+Math.imul(W,Dt)|0;var Ke=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,E=Math.imul(Gt,te),p=Math.imul(Gt,mt),p=p+Math.imul(lt,te)|0,f=Math.imul(lt,mt),E=E+Math.imul(ie,ce)|0,p=p+Math.imul(ie,Tt)|0,p=p+Math.imul(yt,ce)|0,f=f+Math.imul(yt,Tt)|0,E=E+Math.imul(ct,le)|0,p=p+Math.imul(ct,Ft)|0,p=p+Math.imul(pt,le)|0,f=f+Math.imul(pt,Ft)|0,E=E+Math.imul(Z,pe)|0,p=p+Math.imul(Z,Mt)|0,p=p+Math.imul(nt,pe)|0,f=f+Math.imul(nt,Mt)|0,E=E+Math.imul(j,oe)|0,p=p+Math.imul(j,St)|0,p=p+Math.imul(N,oe)|0,f=f+Math.imul(N,St)|0,E=E+Math.imul(L,ne)|0,p=p+Math.imul(L,Dt)|0,p=p+Math.imul(O,ne)|0,f=f+Math.imul(O,Dt)|0,E=E+Math.imul(V,ae)|0,p=p+Math.imul(V,Nt)|0,p=p+Math.imul(W,ae)|0,f=f+Math.imul(W,Nt)|0;var xe=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(xe>>>26)|0,xe&=67108863,E=Math.imul(Yt,te),p=Math.imul(Yt,mt),p=p+Math.imul(ut,te)|0,f=Math.imul(ut,mt),E=E+Math.imul(Gt,ce)|0,p=p+Math.imul(Gt,Tt)|0,p=p+Math.imul(lt,ce)|0,f=f+Math.imul(lt,Tt)|0,E=E+Math.imul(ie,le)|0,p=p+Math.imul(ie,Ft)|0,p=p+Math.imul(yt,le)|0,f=f+Math.imul(yt,Ft)|0,E=E+Math.imul(ct,pe)|0,p=p+Math.imul(ct,Mt)|0,p=p+Math.imul(pt,pe)|0,f=f+Math.imul(pt,Mt)|0,E=E+Math.imul(Z,oe)|0,p=p+Math.imul(Z,St)|0,p=p+Math.imul(nt,oe)|0,f=f+Math.imul(nt,St)|0,E=E+Math.imul(j,ne)|0,p=p+Math.imul(j,Dt)|0,p=p+Math.imul(N,ne)|0,f=f+Math.imul(N,Dt)|0,E=E+Math.imul(L,ae)|0,p=p+Math.imul(L,Nt)|0,p=p+Math.imul(O,ae)|0,f=f+Math.imul(O,Nt)|0,E=E+Math.imul(V,fe)|0,p=p+Math.imul(V,xt)|0,p=p+Math.imul(W,fe)|0,f=f+Math.imul(W,xt)|0;var dr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(dr>>>26)|0,dr&=67108863,E=Math.imul(Kt,te),p=Math.imul(Kt,mt),p=p+Math.imul(dt,te)|0,f=Math.imul(dt,mt),E=E+Math.imul(Yt,ce)|0,p=p+Math.imul(Yt,Tt)|0,p=p+Math.imul(ut,ce)|0,f=f+Math.imul(ut,Tt)|0,E=E+Math.imul(Gt,le)|0,p=p+Math.imul(Gt,Ft)|0,p=p+Math.imul(lt,le)|0,f=f+Math.imul(lt,Ft)|0,E=E+Math.imul(ie,pe)|0,p=p+Math.imul(ie,Mt)|0,p=p+Math.imul(yt,pe)|0,f=f+Math.imul(yt,Mt)|0,E=E+Math.imul(ct,oe)|0,p=p+Math.imul(ct,St)|0,p=p+Math.imul(pt,oe)|0,f=f+Math.imul(pt,St)|0,E=E+Math.imul(Z,ne)|0,p=p+Math.imul(Z,Dt)|0,p=p+Math.imul(nt,ne)|0,f=f+Math.imul(nt,Dt)|0,E=E+Math.imul(j,ae)|0,p=p+Math.imul(j,Nt)|0,p=p+Math.imul(N,ae)|0,f=f+Math.imul(N,Nt)|0,E=E+Math.imul(L,fe)|0,p=p+Math.imul(L,xt)|0,p=p+Math.imul(O,fe)|0,f=f+Math.imul(O,xt)|0,E=E+Math.imul(V,ue)|0,p=p+Math.imul(V,Ct)|0,p=p+Math.imul(W,ue)|0,f=f+Math.imul(W,Ct)|0;var Dr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,E=Math.imul(Jt,te),p=Math.imul(Jt,mt),p=p+Math.imul(vt,te)|0,f=Math.imul(vt,mt),E=E+Math.imul(Kt,ce)|0,p=p+Math.imul(Kt,Tt)|0,p=p+Math.imul(dt,ce)|0,f=f+Math.imul(dt,Tt)|0,E=E+Math.imul(Yt,le)|0,p=p+Math.imul(Yt,Ft)|0,p=p+Math.imul(ut,le)|0,f=f+Math.imul(ut,Ft)|0,E=E+Math.imul(Gt,pe)|0,p=p+Math.imul(Gt,Mt)|0,p=p+Math.imul(lt,pe)|0,f=f+Math.imul(lt,Mt)|0,E=E+Math.imul(ie,oe)|0,p=p+Math.imul(ie,St)|0,p=p+Math.imul(yt,oe)|0,f=f+Math.imul(yt,St)|0,E=E+Math.imul(ct,ne)|0,p=p+Math.imul(ct,Dt)|0,p=p+Math.imul(pt,ne)|0,f=f+Math.imul(pt,Dt)|0,E=E+Math.imul(Z,ae)|0,p=p+Math.imul(Z,Nt)|0,p=p+Math.imul(nt,ae)|0,f=f+Math.imul(nt,Nt)|0,E=E+Math.imul(j,fe)|0,p=p+Math.imul(j,xt)|0,p=p+Math.imul(N,fe)|0,f=f+Math.imul(N,xt)|0,E=E+Math.imul(L,ue)|0,p=p+Math.imul(L,Ct)|0,p=p+Math.imul(O,ue)|0,f=f+Math.imul(O,Ct)|0,E=E+Math.imul(V,be)|0,p=p+Math.imul(V,Ht)|0,p=p+Math.imul(W,be)|0,f=f+Math.imul(W,Ht)|0;var pr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(Jt,ce),p=Math.imul(Jt,Tt),p=p+Math.imul(vt,ce)|0,f=Math.imul(vt,Tt),E=E+Math.imul(Kt,le)|0,p=p+Math.imul(Kt,Ft)|0,p=p+Math.imul(dt,le)|0,f=f+Math.imul(dt,Ft)|0,E=E+Math.imul(Yt,pe)|0,p=p+Math.imul(Yt,Mt)|0,p=p+Math.imul(ut,pe)|0,f=f+Math.imul(ut,Mt)|0,E=E+Math.imul(Gt,oe)|0,p=p+Math.imul(Gt,St)|0,p=p+Math.imul(lt,oe)|0,f=f+Math.imul(lt,St)|0,E=E+Math.imul(ie,ne)|0,p=p+Math.imul(ie,Dt)|0,p=p+Math.imul(yt,ne)|0,f=f+Math.imul(yt,Dt)|0,E=E+Math.imul(ct,ae)|0,p=p+Math.imul(ct,Nt)|0,p=p+Math.imul(pt,ae)|0,f=f+Math.imul(pt,Nt)|0,E=E+Math.imul(Z,fe)|0,p=p+Math.imul(Z,xt)|0,p=p+Math.imul(nt,fe)|0,f=f+Math.imul(nt,xt)|0,E=E+Math.imul(j,ue)|0,p=p+Math.imul(j,Ct)|0,p=p+Math.imul(N,ue)|0,f=f+Math.imul(N,Ct)|0,E=E+Math.imul(L,be)|0,p=p+Math.imul(L,Ht)|0,p=p+Math.imul(O,be)|0,f=f+Math.imul(O,Ht)|0;var Nr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,E=Math.imul(Jt,le),p=Math.imul(Jt,Ft),p=p+Math.imul(vt,le)|0,f=Math.imul(vt,Ft),E=E+Math.imul(Kt,pe)|0,p=p+Math.imul(Kt,Mt)|0,p=p+Math.imul(dt,pe)|0,f=f+Math.imul(dt,Mt)|0,E=E+Math.imul(Yt,oe)|0,p=p+Math.imul(Yt,St)|0,p=p+Math.imul(ut,oe)|0,f=f+Math.imul(ut,St)|0,E=E+Math.imul(Gt,ne)|0,p=p+Math.imul(Gt,Dt)|0,p=p+Math.imul(lt,ne)|0,f=f+Math.imul(lt,Dt)|0,E=E+Math.imul(ie,ae)|0,p=p+Math.imul(ie,Nt)|0,p=p+Math.imul(yt,ae)|0,f=f+Math.imul(yt,Nt)|0,E=E+Math.imul(ct,fe)|0,p=p+Math.imul(ct,xt)|0,p=p+Math.imul(pt,fe)|0,f=f+Math.imul(pt,xt)|0,E=E+Math.imul(Z,ue)|0,p=p+Math.imul(Z,Ct)|0,p=p+Math.imul(nt,ue)|0,f=f+Math.imul(nt,Ct)|0,E=E+Math.imul(j,be)|0,p=p+Math.imul(j,Ht)|0,p=p+Math.imul(N,be)|0,f=f+Math.imul(N,Ht)|0;var Cr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,E=Math.imul(Jt,pe),p=Math.imul(Jt,Mt),p=p+Math.imul(vt,pe)|0,f=Math.imul(vt,Mt),E=E+Math.imul(Kt,oe)|0,p=p+Math.imul(Kt,St)|0,p=p+Math.imul(dt,oe)|0,f=f+Math.imul(dt,St)|0,E=E+Math.imul(Yt,ne)|0,p=p+Math.imul(Yt,Dt)|0,p=p+Math.imul(ut,ne)|0,f=f+Math.imul(ut,Dt)|0,E=E+Math.imul(Gt,ae)|0,p=p+Math.imul(Gt,Nt)|0,p=p+Math.imul(lt,ae)|0,f=f+Math.imul(lt,Nt)|0,E=E+Math.imul(ie,fe)|0,p=p+Math.imul(ie,xt)|0,p=p+Math.imul(yt,fe)|0,f=f+Math.imul(yt,xt)|0,E=E+Math.imul(ct,ue)|0,p=p+Math.imul(ct,Ct)|0,p=p+Math.imul(pt,ue)|0,f=f+Math.imul(pt,Ct)|0,E=E+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ht)|0,p=p+Math.imul(nt,be)|0,f=f+Math.imul(nt,Ht)|0;var gr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,E=Math.imul(Jt,oe),p=Math.imul(Jt,St),p=p+Math.imul(vt,oe)|0,f=Math.imul(vt,St),E=E+Math.imul(Kt,ne)|0,p=p+Math.imul(Kt,Dt)|0,p=p+Math.imul(dt,ne)|0,f=f+Math.imul(dt,Dt)|0,E=E+Math.imul(Yt,ae)|0,p=p+Math.imul(Yt,Nt)|0,p=p+Math.imul(ut,ae)|0,f=f+Math.imul(ut,Nt)|0,E=E+Math.imul(Gt,fe)|0,p=p+Math.imul(Gt,xt)|0,p=p+Math.imul(lt,fe)|0,f=f+Math.imul(lt,xt)|0,E=E+Math.imul(ie,ue)|0,p=p+Math.imul(ie,Ct)|0,p=p+Math.imul(yt,ue)|0,f=f+Math.imul(yt,Ct)|0,E=E+Math.imul(ct,be)|0,p=p+Math.imul(ct,Ht)|0,p=p+Math.imul(pt,be)|0,f=f+Math.imul(pt,Ht)|0;var Mr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,E=Math.imul(Jt,ne),p=Math.imul(Jt,Dt),p=p+Math.imul(vt,ne)|0,f=Math.imul(vt,Dt),E=E+Math.imul(Kt,ae)|0,p=p+Math.imul(Kt,Nt)|0,p=p+Math.imul(dt,ae)|0,f=f+Math.imul(dt,Nt)|0,E=E+Math.imul(Yt,fe)|0,p=p+Math.imul(Yt,xt)|0,p=p+Math.imul(ut,fe)|0,f=f+Math.imul(ut,xt)|0,E=E+Math.imul(Gt,ue)|0,p=p+Math.imul(Gt,Ct)|0,p=p+Math.imul(lt,ue)|0,f=f+Math.imul(lt,Ct)|0,E=E+Math.imul(ie,be)|0,p=p+Math.imul(ie,Ht)|0,p=p+Math.imul(yt,be)|0,f=f+Math.imul(yt,Ht)|0;var Sr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,E=Math.imul(Jt,ae),p=Math.imul(Jt,Nt),p=p+Math.imul(vt,ae)|0,f=Math.imul(vt,Nt),E=E+Math.imul(Kt,fe)|0,p=p+Math.imul(Kt,xt)|0,p=p+Math.imul(dt,fe)|0,f=f+Math.imul(dt,xt)|0,E=E+Math.imul(Yt,ue)|0,p=p+Math.imul(Yt,Ct)|0,p=p+Math.imul(ut,ue)|0,f=f+Math.imul(ut,Ct)|0,E=E+Math.imul(Gt,be)|0,p=p+Math.imul(Gt,Ht)|0,p=p+Math.imul(lt,be)|0,f=f+Math.imul(lt,Ht)|0;var Ze=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,E=Math.imul(Jt,fe),p=Math.imul(Jt,xt),p=p+Math.imul(vt,fe)|0,f=Math.imul(vt,xt),E=E+Math.imul(Kt,ue)|0,p=p+Math.imul(Kt,Ct)|0,p=p+Math.imul(dt,ue)|0,f=f+Math.imul(dt,Ct)|0,E=E+Math.imul(Yt,be)|0,p=p+Math.imul(Yt,Ht)|0,p=p+Math.imul(ut,be)|0,f=f+Math.imul(ut,Ht)|0;var Rr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,E=Math.imul(Jt,ue),p=Math.imul(Jt,Ct),p=p+Math.imul(vt,ue)|0,f=Math.imul(vt,Ct),E=E+Math.imul(Kt,be)|0,p=p+Math.imul(Kt,Ht)|0,p=p+Math.imul(dt,be)|0,f=f+Math.imul(dt,Ht)|0;var Pr=(A+E|0)+((p&8191)<<13)|0;A=(f+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,E=Math.imul(Jt,be),p=Math.imul(Jt,Ht),p=p+Math.imul(vt,be)|0,f=Math.imul(vt,Ht);var Or=(A+E|0)+((p&8191)<<13)|0;return A=(f+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,y[0]=Qt,y[1]=ze,y[2]=$e,y[3]=He,y[4]=je,y[5]=Ke,y[6]=xe,y[7]=dr,y[8]=Dr,y[9]=pr,y[10]=Nr,y[11]=Cr,y[12]=gr,y[13]=Mr,y[14]=Sr,y[15]=Ze,y[16]=Rr,y[17]=Pr,y[18]=Or,A!==0&&(y[19]=A,h.length++),h};Math.imul||(B=C);function F(G,x,o){o.negative=x.negative^G.negative,o.length=G.length+x.length;for(var h=0,u=0,v=0;v<o.length-1;v++){var y=u;u=0;for(var A=h&67108863,E=Math.min(v,x.length-1),p=Math.max(0,v-G.length+1);p<=E;p++){var f=v-p,M=G.words[f]|0,V=x.words[p]|0,W=M*V,b=W&67108863;y=y+(W/67108864|0)|0,b=b+A|0,A=b&67108863,y=y+(b>>>26)|0,u+=y>>>26,y&=67108863}o.words[v]=A,h=y,y=u}return h!==0?o.words[v]=h:o.length--,o.strip()}function Q(G,x,o){var h=new U;return h.mulp(G,x,o)}n.prototype.mulTo=function(x,o){var h,u=this.length+x.length;return this.length===10&&x.length===10?h=B(this,x,o):u<63?h=C(this,x,o):u<1024?h=F(this,x,o):h=Q(this,x,o),h};function U(G,x){this.x=G,this.y=x}U.prototype.makeRBT=function(x){for(var o=new Array(x),h=n.prototype._countBits(x)-1,u=0;u<x;u++)o[u]=this.revBin(u,h,x);return o},U.prototype.revBin=function(x,o,h){if(x===0||x===h-1)return x;for(var u=0,v=0;v<o;v++)u|=(x&1)<<o-v-1,x>>=1;return u},U.prototype.permute=function(x,o,h,u,v,y){for(var A=0;A<y;A++)u[A]=o[x[A]],v[A]=h[x[A]]},U.prototype.transform=function(x,o,h,u,v,y){this.permute(y,x,o,h,u,v);for(var A=1;A<v;A<<=1)for(var E=A<<1,p=Math.cos(2*Math.PI/E),f=Math.sin(2*Math.PI/E),M=0;M<v;M+=E)for(var V=p,W=f,b=0;b<A;b++){var L=h[M+b],O=u[M+b],T=h[M+b+A],j=u[M+b+A],N=V*T-W*j;j=V*j+W*T,T=N,h[M+b]=L+T,u[M+b]=O+j,h[M+b+A]=L-T,u[M+b+A]=O-j,b!==E&&(N=p*V-f*W,W=p*W+f*V,V=N)}},U.prototype.guessLen13b=function(x,o){var h=Math.max(o,x)|1,u=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+u},U.prototype.conjugate=function(x,o,h){if(!(h<=1))for(var u=0;u<h/2;u++){var v=x[u];x[u]=x[h-u-1],x[h-u-1]=v,v=o[u],o[u]=-o[h-u-1],o[h-u-1]=-v}},U.prototype.normalize13b=function(x,o){for(var h=0,u=0;u<o/2;u++){var v=Math.round(x[2*u+1]/o)*8192+Math.round(x[2*u]/o)+h;x[u]=v&67108863,v<67108864?h=0:h=v/67108864|0}return x},U.prototype.convert13b=function(x,o,h,u){for(var v=0,y=0;y<o;y++)v=v+(x[y]|0),h[2*y]=v&8191,v=v>>>13,h[2*y+1]=v&8191,v=v>>>13;for(y=2*o;y<u;++y)h[y]=0;i(v===0),i((v&-8192)===0)},U.prototype.stub=function(x){for(var o=new Array(x),h=0;h<x;h++)o[h]=0;return o},U.prototype.mulp=function(x,o,h){var u=2*this.guessLen13b(x.length,o.length),v=this.makeRBT(u),y=this.stub(u),A=new Array(u),E=new Array(u),p=new Array(u),f=new Array(u),M=new Array(u),V=new Array(u),W=h.words;W.length=u,this.convert13b(x.words,x.length,A,u),this.convert13b(o.words,o.length,f,u),this.transform(A,y,E,p,u,v),this.transform(f,y,M,V,u,v);for(var b=0;b<u;b++){var L=E[b]*M[b]-p[b]*V[b];p[b]=E[b]*V[b]+p[b]*M[b],E[b]=L}return this.conjugate(E,p,u),this.transform(E,p,W,y,u,v),this.conjugate(W,y,u),this.normalize13b(W,u),h.negative=x.negative^o.negative,h.length=x.length+o.length,h.strip()},n.prototype.mul=function(x){var o=new n(null);return o.words=new Array(this.length+x.length),this.mulTo(x,o)},n.prototype.mulf=function(x){var o=new n(null);return o.words=new Array(this.length+x.length),Q(this,x,o)},n.prototype.imul=function(x){return this.clone().mulTo(x,this)},n.prototype.imuln=function(x){i(typeof x=="number"),i(x<67108864);for(var o=0,h=0;h<this.length;h++){var u=(this.words[h]|0)*x,v=(u&67108863)+(o&67108863);o>>=26,o+=u/67108864|0,o+=v>>>26,this.words[h]=v&67108863}return o!==0&&(this.words[h]=o,this.length++),this},n.prototype.muln=function(x){return this.clone().imuln(x)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(x){var o=D(x);if(o.length===0)return new n(1);for(var h=this,u=0;u<o.length&&o[u]===0;u++,h=h.sqr());if(++u<o.length)for(var v=h.sqr();u<o.length;u++,v=v.sqr())o[u]!==0&&(h=h.mul(v));return h},n.prototype.iushln=function(x){i(typeof x=="number"&&x>=0);var o=x%26,h=(x-o)/26,u=67108863>>>26-o<<26-o,v;if(o!==0){var y=0;for(v=0;v<this.length;v++){var A=this.words[v]&u,E=(this.words[v]|0)-A<<o;this.words[v]=E|y,y=A>>>26-o}y&&(this.words[v]=y,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this.strip()},n.prototype.ishln=function(x){return i(this.negative===0),this.iushln(x)},n.prototype.iushrn=function(x,o,h){i(typeof x=="number"&&x>=0);var u;o?u=(o-o%26)/26:u=0;var v=x%26,y=Math.min((x-v)/26,this.length),A=67108863^67108863>>>v<<v,E=h;if(u-=y,u=Math.max(0,u),E){for(var p=0;p<y;p++)E.words[p]=this.words[p];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,p=0;p<this.length;p++)this.words[p]=this.words[p+y];else this.words[0]=0,this.length=1;var f=0;for(p=this.length-1;p>=0&&(f!==0||p>=u);p--){var M=this.words[p]|0;this.words[p]=f<<26-v|M>>>v,f=M&A}return E&&f!==0&&(E.words[E.length++]=f),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(x,o,h){return i(this.negative===0),this.iushrn(x,o,h)},n.prototype.shln=function(x){return this.clone().ishln(x)},n.prototype.ushln=function(x){return this.clone().iushln(x)},n.prototype.shrn=function(x){return this.clone().ishrn(x)},n.prototype.ushrn=function(x){return this.clone().iushrn(x)},n.prototype.testn=function(x){i(typeof x=="number"&&x>=0);var o=x%26,h=(x-o)/26,u=1<<o;if(this.length<=h)return!1;var v=this.words[h];return!!(v&u)},n.prototype.imaskn=function(x){i(typeof x=="number"&&x>=0);var o=x%26,h=(x-o)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(o!==0&&h++,this.length=Math.min(h,this.length),o!==0){var u=67108863^67108863>>>o<<o;this.words[this.length-1]&=u}return this.strip()},n.prototype.maskn=function(x){return this.clone().imaskn(x)},n.prototype.iaddn=function(x){return i(typeof x=="number"),i(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},n.prototype._iaddn=function(x){this.words[0]+=x;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},n.prototype.isubn=function(x){if(i(typeof x=="number"),i(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},n.prototype.addn=function(x){return this.clone().iaddn(x)},n.prototype.subn=function(x){return this.clone().isubn(x)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(x,o,h){var u=x.length+h,v;this._expand(u);var y,A=0;for(v=0;v<x.length;v++){y=(this.words[v+h]|0)+A;var E=(x.words[v]|0)*o;y-=E&67108863,A=(y>>26)-(E/67108864|0),this.words[v+h]=y&67108863}for(;v<this.length-h;v++)y=(this.words[v+h]|0)+A,A=y>>26,this.words[v+h]=y&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,v=0;v<this.length;v++)y=-(this.words[v]|0)+A,A=y>>26,this.words[v]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(x,o){var h=this.length-x.length,u=this.clone(),v=x,y=v.words[v.length-1]|0,A=this._countBits(y);h=26-A,h!==0&&(v=v.ushln(h),u.iushln(h),y=v.words[v.length-1]|0);var E=u.length-v.length,p;if(o!=="mod"){p=new n(null),p.length=E+1,p.words=new Array(p.length);for(var f=0;f<p.length;f++)p.words[f]=0}var M=u.clone()._ishlnsubmul(v,1,E);M.negative===0&&(u=M,p&&(p.words[E]=1));for(var V=E-1;V>=0;V--){var W=(u.words[v.length+V]|0)*67108864+(u.words[v.length+V-1]|0);for(W=Math.min(W/y|0,67108863),u._ishlnsubmul(v,W,V);u.negative!==0;)W--,u.negative=0,u._ishlnsubmul(v,1,V),u.isZero()||(u.negative^=1);p&&(p.words[V]=W)}return p&&p.strip(),u.strip(),o!=="div"&&h!==0&&u.iushrn(h),{div:p||null,mod:u}},n.prototype.divmod=function(x,o,h){if(i(!x.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var u,v,y;return this.negative!==0&&x.negative===0?(y=this.neg().divmod(x,o),o!=="mod"&&(u=y.div.neg()),o!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.iadd(x)),{div:u,mod:v}):this.negative===0&&x.negative!==0?(y=this.divmod(x.neg(),o),o!=="mod"&&(u=y.div.neg()),{div:u,mod:y.mod}):this.negative&x.negative?(y=this.neg().divmod(x.neg(),o),o!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.isub(x)),{div:y.div,mod:v}):x.length>this.length||this.cmp(x)<0?{div:new n(0),mod:this}:x.length===1?o==="div"?{div:this.divn(x.words[0]),mod:null}:o==="mod"?{div:null,mod:new n(this.modn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new n(this.modn(x.words[0]))}:this._wordDiv(x,o)},n.prototype.div=function(x){return this.divmod(x,"div",!1).div},n.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},n.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},n.prototype.divRound=function(x){var o=this.divmod(x);if(o.mod.isZero())return o.div;var h=o.div.negative!==0?o.mod.isub(x):o.mod,u=x.ushrn(1),v=x.andln(1),y=h.cmp(u);return y<0||v===1&&y===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},n.prototype.modn=function(x){i(x<=67108863);for(var o=(1<<26)%x,h=0,u=this.length-1;u>=0;u--)h=(o*h+(this.words[u]|0))%x;return h},n.prototype.idivn=function(x){i(x<=67108863);for(var o=0,h=this.length-1;h>=0;h--){var u=(this.words[h]|0)+o*67108864;this.words[h]=u/x|0,o=u%x}return this.strip()},n.prototype.divn=function(x){return this.clone().idivn(x)},n.prototype.egcd=function(x){i(x.negative===0),i(!x.isZero());var o=this,h=x.clone();o.negative!==0?o=o.umod(x):o=o.clone();for(var u=new n(1),v=new n(0),y=new n(0),A=new n(1),E=0;o.isEven()&&h.isEven();)o.iushrn(1),h.iushrn(1),++E;for(var p=h.clone(),f=o.clone();!o.isZero();){for(var M=0,V=1;!(o.words[0]&V)&&M<26;++M,V<<=1);if(M>0)for(o.iushrn(M);M-- >0;)(u.isOdd()||v.isOdd())&&(u.iadd(p),v.isub(f)),u.iushrn(1),v.iushrn(1);for(var W=0,b=1;!(h.words[0]&b)&&W<26;++W,b<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(p),A.isub(f)),y.iushrn(1),A.iushrn(1);o.cmp(h)>=0?(o.isub(h),u.isub(y),v.isub(A)):(h.isub(o),y.isub(u),A.isub(v))}return{a:y,b:A,gcd:h.iushln(E)}},n.prototype._invmp=function(x){i(x.negative===0),i(!x.isZero());var o=this,h=x.clone();o.negative!==0?o=o.umod(x):o=o.clone();for(var u=new n(1),v=new n(0),y=h.clone();o.cmpn(1)>0&&h.cmpn(1)>0;){for(var A=0,E=1;!(o.words[0]&E)&&A<26;++A,E<<=1);if(A>0)for(o.iushrn(A);A-- >0;)u.isOdd()&&u.iadd(y),u.iushrn(1);for(var p=0,f=1;!(h.words[0]&f)&&p<26;++p,f<<=1);if(p>0)for(h.iushrn(p);p-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);o.cmp(h)>=0?(o.isub(h),u.isub(v)):(h.isub(o),v.isub(u))}var M;return o.cmpn(1)===0?M=u:M=v,M.cmpn(0)<0&&M.iadd(x),M},n.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var o=this.clone(),h=x.clone();o.negative=0,h.negative=0;for(var u=0;o.isEven()&&h.isEven();u++)o.iushrn(1),h.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=o.cmp(h);if(v<0){var y=o;o=h,h=y}else if(v===0||h.cmpn(1)===0)break;o.isub(h)}while(!0);return h.iushln(u)},n.prototype.invm=function(x){return this.egcd(x).a.umod(x)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(x){return this.words[0]&x},n.prototype.bincn=function(x){i(typeof x=="number");var o=x%26,h=(x-o)/26,u=1<<o;if(this.length<=h)return this._expand(h+1),this.words[h]|=u,this;for(var v=u,y=h;v!==0&&y<this.length;y++){var A=this.words[y]|0;A+=v,v=A>>>26,A&=67108863,this.words[y]=A}return v!==0&&(this.words[y]=v,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(x){var o=x<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var h;if(this.length>1)h=1;else{o&&(x=-x),i(x<=67108863,"Number is too big");var u=this.words[0]|0;h=u===x?0:u<x?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var o=this.ucmp(x);return this.negative!==0?-o|0:o},n.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var o=0,h=this.length-1;h>=0;h--){var u=this.words[h]|0,v=x.words[h]|0;if(u!==v){u<v?o=-1:u>v&&(o=1);break}}return o},n.prototype.gtn=function(x){return this.cmpn(x)===1},n.prototype.gt=function(x){return this.cmp(x)===1},n.prototype.gten=function(x){return this.cmpn(x)>=0},n.prototype.gte=function(x){return this.cmp(x)>=0},n.prototype.ltn=function(x){return this.cmpn(x)===-1},n.prototype.lt=function(x){return this.cmp(x)===-1},n.prototype.lten=function(x){return this.cmpn(x)<=0},n.prototype.lte=function(x){return this.cmp(x)<=0},n.prototype.eqn=function(x){return this.cmpn(x)===0},n.prototype.eq=function(x){return this.cmp(x)===0},n.red=function(x){return new rt(x)},n.prototype.toRed=function(x){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(x){return this.red=x,this},n.prototype.forceRed=function(x){return i(!this.red,"Already a number in reduction context"),this._forceRed(x)},n.prototype.redAdd=function(x){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},n.prototype.redIAdd=function(x){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},n.prototype.redSub=function(x){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},n.prototype.redISub=function(x){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},n.prototype.redShl=function(x){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},n.prototype.redMul=function(x){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},n.prototype.redIMul=function(x){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(x){return i(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var J={k256:null,p224:null,p192:null,p25519:null};function z(G,x){this.name=G,this.p=new n(x,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var x=new n(null);return x.words=new Array(Math.ceil(this.n/13)),x},z.prototype.ireduce=function(x){var o=x,h;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),h=o.bitLength();while(h>this.n);var u=h<this.n?-1:o.ucmp(this.p);return u===0?(o.words[0]=0,o.length=1):u>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},z.prototype.split=function(x,o){x.iushrn(this.n,0,o)},z.prototype.imulK=function(x){return x.imul(this.k)};function $(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s($,z),$.prototype.split=function(x,o){for(var h=4194303,u=Math.min(x.length,9),v=0;v<u;v++)o.words[v]=x.words[v];if(o.length=u,x.length<=9){x.words[0]=0,x.length=1;return}var y=x.words[9];for(o.words[o.length++]=y&h,v=10;v<x.length;v++){var A=x.words[v]|0;x.words[v-10]=(A&h)<<4|y>>>22,y=A}y>>>=22,x.words[v-10]=y,y===0&&x.length>10?x.length-=10:x.length-=9},$.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var o=0,h=0;h<x.length;h++){var u=x.words[h]|0;o+=u*977,x.words[h]=o&67108863,o=u*64+(o/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function q(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(q,z);function R(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(R,z);function H(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(H,z),H.prototype.imulK=function(x){for(var o=0,h=0;h<x.length;h++){var u=(x.words[h]|0)*19+o,v=u&67108863;u>>>=26,x.words[h]=v,o=u}return o!==0&&(x.words[x.length++]=o),x},n._prime=function(x){if(J[x])return J[x];var o;if(x==="k256")o=new $;else if(x==="p224")o=new q;else if(x==="p192")o=new R;else if(x==="p25519")o=new H;else throw new Error("Unknown prime "+x);return J[x]=o,o};function rt(G){if(typeof G=="string"){var x=n._prime(G);this.m=x.p,this.prime=x}else i(G.gtn(1),"modulus must be greater than 1"),this.m=G,this.prime=null}rt.prototype._verify1=function(x){i(x.negative===0,"red works only with positives"),i(x.red,"red works only with red numbers")},rt.prototype._verify2=function(x,o){i((x.negative|o.negative)===0,"red works only with positives"),i(x.red&&x.red===o.red,"red works only with red numbers")},rt.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):x.umod(this.m)._forceRed(this)},rt.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},rt.prototype.add=function(x,o){this._verify2(x,o);var h=x.add(o);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},rt.prototype.iadd=function(x,o){this._verify2(x,o);var h=x.iadd(o);return h.cmp(this.m)>=0&&h.isub(this.m),h},rt.prototype.sub=function(x,o){this._verify2(x,o);var h=x.sub(o);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},rt.prototype.isub=function(x,o){this._verify2(x,o);var h=x.isub(o);return h.cmpn(0)<0&&h.iadd(this.m),h},rt.prototype.shl=function(x,o){return this._verify1(x),this.imod(x.ushln(o))},rt.prototype.imul=function(x,o){return this._verify2(x,o),this.imod(x.imul(o))},rt.prototype.mul=function(x,o){return this._verify2(x,o),this.imod(x.mul(o))},rt.prototype.isqr=function(x){return this.imul(x,x.clone())},rt.prototype.sqr=function(x){return this.mul(x,x)},rt.prototype.sqrt=function(x){if(x.isZero())return x.clone();var o=this.m.andln(3);if(i(o%2===1),o===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(x,h)}for(var u=this.m.subn(1),v=0;!u.isZero()&&u.andln(1)===0;)v++,u.iushrn(1);i(!u.isZero());var y=new n(1).toRed(this),A=y.redNeg(),E=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new n(2*p*p).toRed(this);this.pow(p,E).cmp(A)!==0;)p.redIAdd(A);for(var f=this.pow(p,u),M=this.pow(x,u.addn(1).iushrn(1)),V=this.pow(x,u),W=v;V.cmp(y)!==0;){for(var b=V,L=0;b.cmp(y)!==0;L++)b=b.redSqr();i(L<W);var O=this.pow(f,new n(1).iushln(W-L-1));M=M.redMul(O),f=O.redSqr(),V=V.redMul(f),W=L}return M},rt.prototype.invm=function(x){var o=x._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},rt.prototype.pow=function(x,o){if(o.isZero())return new n(1).toRed(this);if(o.cmpn(1)===0)return x.clone();var h=4,u=new Array(1<<h);u[0]=new n(1).toRed(this),u[1]=x;for(var v=2;v<u.length;v++)u[v]=this.mul(u[v-1],x);var y=u[0],A=0,E=0,p=o.bitLength()%26;for(p===0&&(p=26),v=o.length-1;v>=0;v--){for(var f=o.words[v],M=p-1;M>=0;M--){var V=f>>M&1;if(y!==u[0]&&(y=this.sqr(y)),V===0&&A===0){E=0;continue}A<<=1,A|=V,E++,!(E!==h&&(v!==0||M!==0))&&(y=this.mul(y,u[A]),E=0,A=0)}p=26}return y},rt.prototype.convertTo=function(x){var o=x.umod(this.m);return o===x?o.clone():o},rt.prototype.convertFrom=function(x){var o=x.clone();return o.red=null,o},n.mont=function(x){return new ot(x)};function ot(G){rt.call(this,G),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ot,rt),ot.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},ot.prototype.convertFrom=function(x){var o=this.imod(x.mul(this.rinv));return o.red=null,o},ot.prototype.imul=function(x,o){if(x.isZero()||o.isZero())return x.words[0]=0,x.length=1,x;var h=x.imul(o),u=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(u).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},ot.prototype.mul=function(x,o){if(x.isZero()||o.isZero())return new n(0)._forceRed(this);var h=x.mul(o),u=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(u).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},ot.prototype.invm=function(x){var o=this.imod(x._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(e,tS)}(wc)),wc.exports}var Ql,bv;function ua(){if(bv)return Ql;bv=1,Ql=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,i,s){if(r!=i)throw new Error(s||"Assertion failed: "+r+" != "+i)},Ql}var Jl={},yv;function ib(){return yv||(yv=1,function(e){var t=e;function r(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var g=[];if(typeof n!="string"){for(var m=0;m<n.length;m++)g[m]=n[m]|0;return g}if(c==="hex"){n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n);for(var m=0;m<n.length;m+=2)g.push(parseInt(n[m]+n[m+1],16))}else for(var m=0;m<n.length;m++){var l=n.charCodeAt(m),w=l>>8,_=l&255;w?g.push(w,_):g.push(_)}return g}t.toArray=r;function i(n){return n.length===1?"0"+n:n}t.zero2=i;function s(n){for(var c="",g=0;g<n.length;g++)c+=i(n[g].toString(16));return c}t.toHex=s,t.encode=function(c,g){return g==="hex"?s(c):c}}(Jl)),Jl}var wv;function _n(){return wv||(wv=1,function(e){var t=e,r=ao(),i=ua(),s=ib();t.assert=i,t.toArray=s.toArray,t.zero2=s.zero2,t.toHex=s.toHex,t.encode=s.encode;function n(w,_,I){var D=new Array(Math.max(w.bitLength(),I)+1),C;for(C=0;C<D.length;C+=1)D[C]=0;var B=1<<_+1,F=w.clone();for(C=0;C<D.length;C++){var Q,U=F.andln(B-1);F.isOdd()?(U>(B>>1)-1?Q=(B>>1)-U:Q=U,F.isubn(Q)):Q=0,D[C]=Q,F.iushrn(1)}return D}t.getNAF=n;function c(w,_){var I=[[],[]];w=w.clone(),_=_.clone();for(var D=0,C=0,B;w.cmpn(-D)>0||_.cmpn(-C)>0;){var F=w.andln(3)+D&3,Q=_.andln(3)+C&3;F===3&&(F=-1),Q===3&&(Q=-1);var U;F&1?(B=w.andln(7)+D&7,(B===3||B===5)&&Q===2?U=-F:U=F):U=0,I[0].push(U);var J;Q&1?(B=_.andln(7)+C&7,(B===3||B===5)&&F===2?J=-Q:J=Q):J=0,I[1].push(J),2*D===U+1&&(D=1-D),2*C===J+1&&(C=1-C),w.iushrn(1),_.iushrn(1)}return I}t.getJSF=c;function g(w,_,I){var D="_"+_;w.prototype[_]=function(){return this[D]!==void 0?this[D]:this[D]=I.call(this)}}t.cachedProperty=g;function m(w){return typeof w=="string"?t.toArray(w,"hex"):w}t.parseBytes=m;function l(w){return new r(w,"hex","le")}t.intFromLE=l}(Gl)),Gl}var Yu={exports:{}},Av;function nb(){if(Av)return Yu.exports;Av=1;var e;Yu.exports=function(s){return e||(e=new t(null)),e.generate(s)};function t(i){this.rand=i}if(Yu.exports.Rand=t,t.prototype.generate=function(s){return this._rand(s)},t.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var n=new Uint8Array(s),c=0;c<n.length;c++)n[c]=this.rand.getByte();return n},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(s){var n=new Uint8Array(s);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(s){var n=new Uint8Array(s);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=np;if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(s){return r.randomBytes(s)}}catch{}return Yu.exports}var Vl={},Yl,_v;function h0(){if(_v)return Yl;_v=1;var e=ao(),t=_n(),r=t.getNAF,i=t.getJSF,s=t.assert;function n(g,m){this.type=g,this.p=new e(m.p,16),this.red=m.prime?e.red(m.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=m.n&&new e(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Yl=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(m,l){s(m.precomputed);var w=m._getDoubles(),_=r(l,1,this._bitLength),I=(1<<w.step+1)-(w.step%2===0?2:1);I/=3;var D=[],C,B;for(C=0;C<_.length;C+=w.step){B=0;for(var F=C+w.step-1;F>=C;F--)B=(B<<1)+_[F];D.push(B)}for(var Q=this.jpoint(null,null,null),U=this.jpoint(null,null,null),J=I;J>0;J--){for(C=0;C<D.length;C++)B=D[C],B===J?U=U.mixedAdd(w.points[C]):B===-J&&(U=U.mixedAdd(w.points[C].neg()));Q=Q.add(U)}return Q.toP()},n.prototype._wnafMul=function(m,l){var w=4,_=m._getNAFPoints(w);w=_.wnd;for(var I=_.points,D=r(l,w,this._bitLength),C=this.jpoint(null,null,null),B=D.length-1;B>=0;B--){for(var F=0;B>=0&&D[B]===0;B--)F++;if(B>=0&&F++,C=C.dblp(F),B<0)break;var Q=D[B];s(Q!==0),m.type==="affine"?Q>0?C=C.mixedAdd(I[Q-1>>1]):C=C.mixedAdd(I[-Q-1>>1].neg()):Q>0?C=C.add(I[Q-1>>1]):C=C.add(I[-Q-1>>1].neg())}return m.type==="affine"?C.toP():C},n.prototype._wnafMulAdd=function(m,l,w,_,I){var D=this._wnafT1,C=this._wnafT2,B=this._wnafT3,F=0,Q,U,J;for(Q=0;Q<_;Q++){J=l[Q];var z=J._getNAFPoints(m);D[Q]=z.wnd,C[Q]=z.points}for(Q=_-1;Q>=1;Q-=2){var $=Q-1,q=Q;if(D[$]!==1||D[q]!==1){B[$]=r(w[$],D[$],this._bitLength),B[q]=r(w[q],D[q],this._bitLength),F=Math.max(B[$].length,F),F=Math.max(B[q].length,F);continue}var R=[l[$],null,null,l[q]];l[$].y.cmp(l[q].y)===0?(R[1]=l[$].add(l[q]),R[2]=l[$].toJ().mixedAdd(l[q].neg())):l[$].y.cmp(l[q].y.redNeg())===0?(R[1]=l[$].toJ().mixedAdd(l[q]),R[2]=l[$].add(l[q].neg())):(R[1]=l[$].toJ().mixedAdd(l[q]),R[2]=l[$].toJ().mixedAdd(l[q].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],rt=i(w[$],w[q]);for(F=Math.max(rt[0].length,F),B[$]=new Array(F),B[q]=new Array(F),U=0;U<F;U++){var ot=rt[0][U]|0,G=rt[1][U]|0;B[$][U]=H[(ot+1)*3+(G+1)],B[q][U]=0,C[$]=R}}var x=this.jpoint(null,null,null),o=this._wnafT4;for(Q=F;Q>=0;Q--){for(var h=0;Q>=0;){var u=!0;for(U=0;U<_;U++)o[U]=B[U][Q]|0,o[U]!==0&&(u=!1);if(!u)break;h++,Q--}if(Q>=0&&h++,x=x.dblp(h),Q<0)break;for(U=0;U<_;U++){var v=o[U];v!==0&&(v>0?J=C[U][v-1>>1]:v<0&&(J=C[U][-v-1>>1].neg()),J.type==="affine"?x=x.mixedAdd(J):x=x.add(J))}}for(Q=0;Q<_;Q++)C[Q]=null;return I?x:x.toP()};function c(g,m){this.curve=g,this.type=m,this.precomputed=null}return n.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(m,l){m=t.toArray(m,l);var w=this.p.byteLength();if((m[0]===4||m[0]===6||m[0]===7)&&m.length-1===2*w){m[0]===6?s(m[m.length-1]%2===0):m[0]===7&&s(m[m.length-1]%2===1);var _=this.point(m.slice(1,1+w),m.slice(1+w,1+2*w));return _}else if((m[0]===2||m[0]===3)&&m.length-1===w)return this.pointFromX(m.slice(1,1+w),m[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(m){return this.encode(m,!0)},c.prototype._encode=function(m){var l=this.curve.p.byteLength(),w=this.getX().toArray("be",l);return m?[this.getY().isEven()?2:3].concat(w):[4].concat(w,this.getY().toArray("be",l))},c.prototype.encode=function(m,l){return t.encode(this._encode(l),m)},c.prototype.precompute=function(m){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,m),l.beta=this._getBeta(),this.precomputed=l,this},c.prototype._hasDoubles=function(m){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((m.bitLength()+1)/l.step):!1},c.prototype._getDoubles=function(m,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var w=[this],_=this,I=0;I<l;I+=m){for(var D=0;D<m;D++)_=_.dbl();w.push(_)}return{step:m,points:w}},c.prototype._getNAFPoints=function(m){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],w=(1<<m)-1,_=w===1?null:this.dbl(),I=1;I<w;I++)l[I]=l[I-1].add(_);return{wnd:m,points:l}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(m){for(var l=this,w=0;w<m;w++)l=l.dbl();return l},Yl}var Wl,Ev;function eS(){if(Ev)return Wl;Ev=1;var e=_n(),t=ao(),r=n0(),i=h0(),s=e.assert;function n(m){i.call(this,"short",m),this.a=new t(m.a,16).toRed(this.red),this.b=new t(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(n,i),Wl=n,n.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var w,_;if(l.beta)w=new t(l.beta,16).toRed(this.red);else{var I=this._getEndoRoots(this.p);w=I[0].cmp(I[1])<0?I[0]:I[1],w=w.toRed(this.red)}if(l.lambda)_=new t(l.lambda,16);else{var D=this._getEndoRoots(this.n);this.g.mul(D[0]).x.cmp(this.g.x.redMul(w))===0?_=D[0]:(_=D[1],s(this.g.mul(_).x.cmp(this.g.x.redMul(w))===0))}var C;return l.basis?C=l.basis.map(function(B){return{a:new t(B.a,16),b:new t(B.b,16)}}):C=this._getEndoBasis(_),{beta:w,lambda:_,basis:C}}},n.prototype._getEndoRoots=function(l){var w=l===this.p?this.red:t.mont(l),_=new t(2).toRed(w).redInvm(),I=_.redNeg(),D=new t(3).toRed(w).redNeg().redSqrt().redMul(_),C=I.redAdd(D).fromRed(),B=I.redSub(D).fromRed();return[C,B]},n.prototype._getEndoBasis=function(l){for(var w=this.n.ushrn(Math.floor(this.n.bitLength()/2)),_=l,I=this.n.clone(),D=new t(1),C=new t(0),B=new t(0),F=new t(1),Q,U,J,z,$,q,R,H=0,rt,ot;_.cmpn(0)!==0;){var G=I.div(_);rt=I.sub(G.mul(_)),ot=B.sub(G.mul(D));var x=F.sub(G.mul(C));if(!J&&rt.cmp(w)<0)Q=R.neg(),U=D,J=rt.neg(),z=ot;else if(J&&++H===2)break;R=rt,I=_,_=rt,B=D,D=ot,F=C,C=x}$=rt.neg(),q=ot;var o=J.sqr().add(z.sqr()),h=$.sqr().add(q.sqr());return h.cmp(o)>=0&&($=Q,q=U),J.negative&&(J=J.neg(),z=z.neg()),$.negative&&($=$.neg(),q=q.neg()),[{a:J,b:z},{a:$,b:q}]},n.prototype._endoSplit=function(l){var w=this.endo.basis,_=w[0],I=w[1],D=I.b.mul(l).divRound(this.n),C=_.b.neg().mul(l).divRound(this.n),B=D.mul(_.a),F=C.mul(I.a),Q=D.mul(_.b),U=C.mul(I.b),J=l.sub(B).sub(F),z=Q.add(U).neg();return{k1:J,k2:z}},n.prototype.pointFromX=function(l,w){l=new t(l,16),l.red||(l=l.toRed(this.red));var _=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),I=_.redSqrt();if(I.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var D=I.fromRed().isOdd();return(w&&!D||!w&&D)&&(I=I.redNeg()),this.point(l,I)},n.prototype.validate=function(l){if(l.inf)return!0;var w=l.x,_=l.y,I=this.a.redMul(w),D=w.redSqr().redMul(w).redIAdd(I).redIAdd(this.b);return _.redSqr().redISub(D).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(l,w,_){for(var I=this._endoWnafT1,D=this._endoWnafT2,C=0;C<l.length;C++){var B=this._endoSplit(w[C]),F=l[C],Q=F._getBeta();B.k1.negative&&(B.k1.ineg(),F=F.neg(!0)),B.k2.negative&&(B.k2.ineg(),Q=Q.neg(!0)),I[C*2]=F,I[C*2+1]=Q,D[C*2]=B.k1,D[C*2+1]=B.k2}for(var U=this._wnafMulAdd(1,I,D,C*2,_),J=0;J<C*2;J++)I[J]=null,D[J]=null;return U};function c(m,l,w,_){i.BasePoint.call(this,m,"affine"),l===null&&w===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(l,16),this.y=new t(w,16),_&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(c,i.BasePoint),n.prototype.point=function(l,w,_){return new c(this,l,w,_)},n.prototype.pointFromJSON=function(l,w){return c.fromJSON(this,l,w)},c.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var w=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var _=this.curve,I=function(D){return _.point(D.x.redMul(_.endo.beta),D.y)};l.beta=w,w.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(I)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(I)}}}return w}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(l,w,_){typeof w=="string"&&(w=JSON.parse(w));var I=l.point(w[0],w[1],_);if(!w[2])return I;function D(B){return l.point(B[0],B[1],_)}var C=w[2];return I.precomputed={beta:null,doubles:C.doubles&&{step:C.doubles.step,points:[I].concat(C.doubles.points.map(D))},naf:C.naf&&{wnd:C.naf.wnd,points:[I].concat(C.naf.points.map(D))}},I},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var w=this.y.redSub(l.y);w.cmpn(0)!==0&&(w=w.redMul(this.x.redSub(l.x).redInvm()));var _=w.redSqr().redISub(this.x).redISub(l.x),I=w.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,I)},c.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var w=this.curve.a,_=this.x.redSqr(),I=l.redInvm(),D=_.redAdd(_).redIAdd(_).redIAdd(w).redMul(I),C=D.redSqr().redISub(this.x.redAdd(this.x)),B=D.redMul(this.x.redSub(C)).redISub(this.y);return this.curve.point(C,B)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(l){return l=new t(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},c.prototype.mulAdd=function(l,w,_){var I=[this,w],D=[l,_];return this.curve.endo?this.curve._endoWnafMulAdd(I,D):this.curve._wnafMulAdd(1,I,D,2)},c.prototype.jmulAdd=function(l,w,_){var I=[this,w],D=[l,_];return this.curve.endo?this.curve._endoWnafMulAdd(I,D,!0):this.curve._wnafMulAdd(1,I,D,2,!0)},c.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},c.prototype.neg=function(l){if(this.inf)return this;var w=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var _=this.precomputed,I=function(D){return D.neg()};w.precomputed={naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(I)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(I)}}}return w},c.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function g(m,l,w,_){i.BasePoint.call(this,m,"jacobian"),l===null&&w===null&&_===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(l,16),this.y=new t(w,16),this.z=new t(_,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(g,i.BasePoint),n.prototype.jpoint=function(l,w,_){return new g(this,l,w,_)},g.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),w=l.redSqr(),_=this.x.redMul(w),I=this.y.redMul(w).redMul(l);return this.curve.point(_,I)},g.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},g.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var w=l.z.redSqr(),_=this.z.redSqr(),I=this.x.redMul(w),D=l.x.redMul(_),C=this.y.redMul(w.redMul(l.z)),B=l.y.redMul(_.redMul(this.z)),F=I.redSub(D),Q=C.redSub(B);if(F.cmpn(0)===0)return Q.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=F.redSqr(),J=U.redMul(F),z=I.redMul(U),$=Q.redSqr().redIAdd(J).redISub(z).redISub(z),q=Q.redMul(z.redISub($)).redISub(C.redMul(J)),R=this.z.redMul(l.z).redMul(F);return this.curve.jpoint($,q,R)},g.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var w=this.z.redSqr(),_=this.x,I=l.x.redMul(w),D=this.y,C=l.y.redMul(w).redMul(this.z),B=_.redSub(I),F=D.redSub(C);if(B.cmpn(0)===0)return F.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Q=B.redSqr(),U=Q.redMul(B),J=_.redMul(Q),z=F.redSqr().redIAdd(U).redISub(J).redISub(J),$=F.redMul(J.redISub(z)).redISub(D.redMul(U)),q=this.z.redMul(B);return this.curve.jpoint(z,$,q)},g.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var w;if(this.curve.zeroA||this.curve.threeA){var _=this;for(w=0;w<l;w++)_=_.dbl();return _}var I=this.curve.a,D=this.curve.tinv,C=this.x,B=this.y,F=this.z,Q=F.redSqr().redSqr(),U=B.redAdd(B);for(w=0;w<l;w++){var J=C.redSqr(),z=U.redSqr(),$=z.redSqr(),q=J.redAdd(J).redIAdd(J).redIAdd(I.redMul(Q)),R=C.redMul(z),H=q.redSqr().redISub(R.redAdd(R)),rt=R.redISub(H),ot=q.redMul(rt);ot=ot.redIAdd(ot).redISub($);var G=U.redMul(F);w+1<l&&(Q=Q.redMul($)),C=H,F=G,U=ot}return this.curve.jpoint(C,U.redMul(D),F)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},g.prototype._zeroDbl=function(){var l,w,_;if(this.zOne){var I=this.x.redSqr(),D=this.y.redSqr(),C=D.redSqr(),B=this.x.redAdd(D).redSqr().redISub(I).redISub(C);B=B.redIAdd(B);var F=I.redAdd(I).redIAdd(I),Q=F.redSqr().redISub(B).redISub(B),U=C.redIAdd(C);U=U.redIAdd(U),U=U.redIAdd(U),l=Q,w=F.redMul(B.redISub(Q)).redISub(U),_=this.y.redAdd(this.y)}else{var J=this.x.redSqr(),z=this.y.redSqr(),$=z.redSqr(),q=this.x.redAdd(z).redSqr().redISub(J).redISub($);q=q.redIAdd(q);var R=J.redAdd(J).redIAdd(J),H=R.redSqr(),rt=$.redIAdd($);rt=rt.redIAdd(rt),rt=rt.redIAdd(rt),l=H.redISub(q).redISub(q),w=R.redMul(q.redISub(l)).redISub(rt),_=this.y.redMul(this.z),_=_.redIAdd(_)}return this.curve.jpoint(l,w,_)},g.prototype._threeDbl=function(){var l,w,_;if(this.zOne){var I=this.x.redSqr(),D=this.y.redSqr(),C=D.redSqr(),B=this.x.redAdd(D).redSqr().redISub(I).redISub(C);B=B.redIAdd(B);var F=I.redAdd(I).redIAdd(I).redIAdd(this.curve.a),Q=F.redSqr().redISub(B).redISub(B);l=Q;var U=C.redIAdd(C);U=U.redIAdd(U),U=U.redIAdd(U),w=F.redMul(B.redISub(Q)).redISub(U),_=this.y.redAdd(this.y)}else{var J=this.z.redSqr(),z=this.y.redSqr(),$=this.x.redMul(z),q=this.x.redSub(J).redMul(this.x.redAdd(J));q=q.redAdd(q).redIAdd(q);var R=$.redIAdd($);R=R.redIAdd(R);var H=R.redAdd(R);l=q.redSqr().redISub(H),_=this.y.redAdd(this.z).redSqr().redISub(z).redISub(J);var rt=z.redSqr();rt=rt.redIAdd(rt),rt=rt.redIAdd(rt),rt=rt.redIAdd(rt),w=q.redMul(R.redISub(l)).redISub(rt)}return this.curve.jpoint(l,w,_)},g.prototype._dbl=function(){var l=this.curve.a,w=this.x,_=this.y,I=this.z,D=I.redSqr().redSqr(),C=w.redSqr(),B=_.redSqr(),F=C.redAdd(C).redIAdd(C).redIAdd(l.redMul(D)),Q=w.redAdd(w);Q=Q.redIAdd(Q);var U=Q.redMul(B),J=F.redSqr().redISub(U.redAdd(U)),z=U.redISub(J),$=B.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var q=F.redMul(z).redISub($),R=_.redAdd(_).redMul(I);return this.curve.jpoint(J,q,R)},g.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),w=this.y.redSqr(),_=this.z.redSqr(),I=w.redSqr(),D=l.redAdd(l).redIAdd(l),C=D.redSqr(),B=this.x.redAdd(w).redSqr().redISub(l).redISub(I);B=B.redIAdd(B),B=B.redAdd(B).redIAdd(B),B=B.redISub(C);var F=B.redSqr(),Q=I.redIAdd(I);Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),Q=Q.redIAdd(Q);var U=D.redIAdd(B).redSqr().redISub(C).redISub(F).redISub(Q),J=w.redMul(U);J=J.redIAdd(J),J=J.redIAdd(J);var z=this.x.redMul(F).redISub(J);z=z.redIAdd(z),z=z.redIAdd(z);var $=this.y.redMul(U.redMul(Q.redISub(U)).redISub(B.redMul(F)));$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var q=this.z.redAdd(B).redSqr().redISub(_).redISub(F);return this.curve.jpoint(z,$,q)},g.prototype.mul=function(l,w){return l=new t(l,w),this.curve._wnafMul(this,l)},g.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var w=this.z.redSqr(),_=l.z.redSqr();if(this.x.redMul(_).redISub(l.x.redMul(w)).cmpn(0)!==0)return!1;var I=w.redMul(this.z),D=_.redMul(l.z);return this.y.redMul(D).redISub(l.y.redMul(I)).cmpn(0)===0},g.prototype.eqXToP=function(l){var w=this.z.redSqr(),_=l.toRed(this.curve.red).redMul(w);if(this.x.cmp(_)===0)return!0;for(var I=l.clone(),D=this.curve.redN.redMul(w);;){if(I.iadd(this.curve.n),I.cmp(this.curve.p)>=0)return!1;if(_.redIAdd(D),this.x.cmp(_)===0)return!0}},g.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},g.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Wl}var Xl,Mv;function rS(){if(Mv)return Xl;Mv=1;var e=ao(),t=n0(),r=h0(),i=_n();function s(c){r.call(this,"mont",c),this.a=new e(c.a,16).toRed(this.red),this.b=new e(c.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(s,r),Xl=s,s.prototype.validate=function(g){var m=g.normalize().x,l=m.redSqr(),w=l.redMul(m).redAdd(l.redMul(this.a)).redAdd(m),_=w.redSqrt();return _.redSqr().cmp(w)===0};function n(c,g,m){r.BasePoint.call(this,c,"projective"),g===null&&m===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(g,16),this.z=new e(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(n,r.BasePoint),s.prototype.decodePoint=function(g,m){return this.point(i.toArray(g,m),1)},s.prototype.point=function(g,m){return new n(this,g,m)},s.prototype.pointFromJSON=function(g){return n.fromJSON(this,g)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(g,m){return new n(g,m[0],m[1]||g.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var g=this.x.redAdd(this.z),m=g.redSqr(),l=this.x.redSub(this.z),w=l.redSqr(),_=m.redSub(w),I=m.redMul(w),D=_.redMul(w.redAdd(this.curve.a24.redMul(_)));return this.curve.point(I,D)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(g,m){var l=this.x.redAdd(this.z),w=this.x.redSub(this.z),_=g.x.redAdd(g.z),I=g.x.redSub(g.z),D=I.redMul(l),C=_.redMul(w),B=m.z.redMul(D.redAdd(C).redSqr()),F=m.x.redMul(D.redISub(C).redSqr());return this.curve.point(B,F)},n.prototype.mul=function(g){for(var m=g.clone(),l=this,w=this.curve.point(null,null),_=this,I=[];m.cmpn(0)!==0;m.iushrn(1))I.push(m.andln(1));for(var D=I.length-1;D>=0;D--)I[D]===0?(l=l.diffAdd(w,_),w=w.dbl()):(w=l.diffAdd(w,_),l=l.dbl());return w},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(g){return this.getX().cmp(g.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Xl}var Zl,Sv;function iS(){if(Sv)return Zl;Sv=1;var e=_n(),t=ao(),r=n0(),i=h0(),s=e.assert;function n(g){this.twisted=(g.a|0)!==1,this.mOneA=this.twisted&&(g.a|0)===-1,this.extended=this.mOneA,i.call(this,"edwards",g),this.a=new t(g.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(g.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(g.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(g.c|0)===1}r(n,i),Zl=n,n.prototype._mulA=function(m){return this.mOneA?m.redNeg():this.a.redMul(m)},n.prototype._mulC=function(m){return this.oneC?m:this.c.redMul(m)},n.prototype.jpoint=function(m,l,w,_){return this.point(m,l,w,_)},n.prototype.pointFromX=function(m,l){m=new t(m,16),m.red||(m=m.toRed(this.red));var w=m.redSqr(),_=this.c2.redSub(this.a.redMul(w)),I=this.one.redSub(this.c2.redMul(this.d).redMul(w)),D=_.redMul(I.redInvm()),C=D.redSqrt();if(C.redSqr().redSub(D).cmp(this.zero)!==0)throw new Error("invalid point");var B=C.fromRed().isOdd();return(l&&!B||!l&&B)&&(C=C.redNeg()),this.point(m,C)},n.prototype.pointFromY=function(m,l){m=new t(m,16),m.red||(m=m.toRed(this.red));var w=m.redSqr(),_=w.redSub(this.c2),I=w.redMul(this.d).redMul(this.c2).redSub(this.a),D=_.redMul(I.redInvm());if(D.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,m)}var C=D.redSqrt();if(C.redSqr().redSub(D).cmp(this.zero)!==0)throw new Error("invalid point");return C.fromRed().isOdd()!==l&&(C=C.redNeg()),this.point(C,m)},n.prototype.validate=function(m){if(m.isInfinity())return!0;m.normalize();var l=m.x.redSqr(),w=m.y.redSqr(),_=l.redMul(this.a).redAdd(w),I=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(w)));return _.cmp(I)===0};function c(g,m,l,w,_){i.BasePoint.call(this,g,"projective"),m===null&&l===null&&w===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(m,16),this.y=new t(l,16),this.z=w?new t(w,16):this.curve.one,this.t=_&&new t(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(c,i.BasePoint),n.prototype.pointFromJSON=function(m){return c.fromJSON(this,m)},n.prototype.point=function(m,l,w,_){return new c(this,m,l,w,_)},c.fromJSON=function(m,l){return new c(m,l[0],l[1],l[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var m=this.x.redSqr(),l=this.y.redSqr(),w=this.z.redSqr();w=w.redIAdd(w);var _=this.curve._mulA(m),I=this.x.redAdd(this.y).redSqr().redISub(m).redISub(l),D=_.redAdd(l),C=D.redSub(w),B=_.redSub(l),F=I.redMul(C),Q=D.redMul(B),U=I.redMul(B),J=C.redMul(D);return this.curve.point(F,Q,J,U)},c.prototype._projDbl=function(){var m=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),w=this.y.redSqr(),_,I,D,C,B,F;if(this.curve.twisted){C=this.curve._mulA(l);var Q=C.redAdd(w);this.zOne?(_=m.redSub(l).redSub(w).redMul(Q.redSub(this.curve.two)),I=Q.redMul(C.redSub(w)),D=Q.redSqr().redSub(Q).redSub(Q)):(B=this.z.redSqr(),F=Q.redSub(B).redISub(B),_=m.redSub(l).redISub(w).redMul(F),I=Q.redMul(C.redSub(w)),D=Q.redMul(F))}else C=l.redAdd(w),B=this.curve._mulC(this.z).redSqr(),F=C.redSub(B).redSub(B),_=this.curve._mulC(m.redISub(C)).redMul(F),I=this.curve._mulC(C).redMul(l.redISub(w)),D=C.redMul(F);return this.curve.point(_,I,D)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(m){var l=this.y.redSub(this.x).redMul(m.y.redSub(m.x)),w=this.y.redAdd(this.x).redMul(m.y.redAdd(m.x)),_=this.t.redMul(this.curve.dd).redMul(m.t),I=this.z.redMul(m.z.redAdd(m.z)),D=w.redSub(l),C=I.redSub(_),B=I.redAdd(_),F=w.redAdd(l),Q=D.redMul(C),U=B.redMul(F),J=D.redMul(F),z=C.redMul(B);return this.curve.point(Q,U,z,J)},c.prototype._projAdd=function(m){var l=this.z.redMul(m.z),w=l.redSqr(),_=this.x.redMul(m.x),I=this.y.redMul(m.y),D=this.curve.d.redMul(_).redMul(I),C=w.redSub(D),B=w.redAdd(D),F=this.x.redAdd(this.y).redMul(m.x.redAdd(m.y)).redISub(_).redISub(I),Q=l.redMul(C).redMul(F),U,J;return this.curve.twisted?(U=l.redMul(B).redMul(I.redSub(this.curve._mulA(_))),J=C.redMul(B)):(U=l.redMul(B).redMul(I.redSub(_)),J=this.curve._mulC(C).redMul(B)),this.curve.point(Q,U,J)},c.prototype.add=function(m){return this.isInfinity()?m:m.isInfinity()?this:this.curve.extended?this._extAdd(m):this._projAdd(m)},c.prototype.mul=function(m){return this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve._wnafMul(this,m)},c.prototype.mulAdd=function(m,l,w){return this.curve._wnafMulAdd(1,[this,l],[m,w],2,!1)},c.prototype.jmulAdd=function(m,l,w){return this.curve._wnafMulAdd(1,[this,l],[m,w],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var m=this.z.redInvm();return this.x=this.x.redMul(m),this.y=this.y.redMul(m),this.t&&(this.t=this.t.redMul(m)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(m){return this===m||this.getX().cmp(m.getX())===0&&this.getY().cmp(m.getY())===0},c.prototype.eqXToP=function(m){var l=m.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var w=m.clone(),_=this.curve.redN.redMul(this.z);;){if(w.iadd(this.curve.n),w.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(_),this.x.cmp(l)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add,Zl}var xv;function sb(){return xv||(xv=1,function(e){var t=e;t.base=h0(),t.short=eS(),t.mont=rS(),t.edwards=iS()}(Vl)),Vl}var td={},ed={},Xe={},Iv;function Ds(){if(Iv)return Xe;Iv=1;var e=ua(),t=n0();Xe.inherits=t;function r(x,o){return(x.charCodeAt(o)&64512)!==55296||o<0||o+1>=x.length?!1:(x.charCodeAt(o+1)&64512)===56320}function i(x,o){if(Array.isArray(x))return x.slice();if(!x)return[];var h=[];if(typeof x=="string")if(o){if(o==="hex")for(x=x.replace(/[^a-z0-9]+/ig,""),x.length%2!==0&&(x="0"+x),v=0;v<x.length;v+=2)h.push(parseInt(x[v]+x[v+1],16))}else for(var u=0,v=0;v<x.length;v++){var y=x.charCodeAt(v);y<128?h[u++]=y:y<2048?(h[u++]=y>>6|192,h[u++]=y&63|128):r(x,v)?(y=65536+((y&1023)<<10)+(x.charCodeAt(++v)&1023),h[u++]=y>>18|240,h[u++]=y>>12&63|128,h[u++]=y>>6&63|128,h[u++]=y&63|128):(h[u++]=y>>12|224,h[u++]=y>>6&63|128,h[u++]=y&63|128)}else for(v=0;v<x.length;v++)h[v]=x[v]|0;return h}Xe.toArray=i;function s(x){for(var o="",h=0;h<x.length;h++)o+=g(x[h].toString(16));return o}Xe.toHex=s;function n(x){var o=x>>>24|x>>>8&65280|x<<8&16711680|(x&255)<<24;return o>>>0}Xe.htonl=n;function c(x,o){for(var h="",u=0;u<x.length;u++){var v=x[u];o==="little"&&(v=n(v)),h+=m(v.toString(16))}return h}Xe.toHex32=c;function g(x){return x.length===1?"0"+x:x}Xe.zero2=g;function m(x){return x.length===7?"0"+x:x.length===6?"00"+x:x.length===5?"000"+x:x.length===4?"0000"+x:x.length===3?"00000"+x:x.length===2?"000000"+x:x.length===1?"0000000"+x:x}Xe.zero8=m;function l(x,o,h,u){var v=h-o;e(v%4===0);for(var y=new Array(v/4),A=0,E=o;A<y.length;A++,E+=4){var p;u==="big"?p=x[E]<<24|x[E+1]<<16|x[E+2]<<8|x[E+3]:p=x[E+3]<<24|x[E+2]<<16|x[E+1]<<8|x[E],y[A]=p>>>0}return y}Xe.join32=l;function w(x,o){for(var h=new Array(x.length*4),u=0,v=0;u<x.length;u++,v+=4){var y=x[u];o==="big"?(h[v]=y>>>24,h[v+1]=y>>>16&255,h[v+2]=y>>>8&255,h[v+3]=y&255):(h[v+3]=y>>>24,h[v+2]=y>>>16&255,h[v+1]=y>>>8&255,h[v]=y&255)}return h}Xe.split32=w;function _(x,o){return x>>>o|x<<32-o}Xe.rotr32=_;function I(x,o){return x<<o|x>>>32-o}Xe.rotl32=I;function D(x,o){return x+o>>>0}Xe.sum32=D;function C(x,o,h){return x+o+h>>>0}Xe.sum32_3=C;function B(x,o,h,u){return x+o+h+u>>>0}Xe.sum32_4=B;function F(x,o,h,u,v){return x+o+h+u+v>>>0}Xe.sum32_5=F;function Q(x,o,h,u){var v=x[o],y=x[o+1],A=u+y>>>0,E=(A<u?1:0)+h+v;x[o]=E>>>0,x[o+1]=A}Xe.sum64=Q;function U(x,o,h,u){var v=o+u>>>0,y=(v<o?1:0)+x+h;return y>>>0}Xe.sum64_hi=U;function J(x,o,h,u){var v=o+u;return v>>>0}Xe.sum64_lo=J;function z(x,o,h,u,v,y,A,E){var p=0,f=o;f=f+u>>>0,p+=f<o?1:0,f=f+y>>>0,p+=f<y?1:0,f=f+E>>>0,p+=f<E?1:0;var M=x+h+v+A+p;return M>>>0}Xe.sum64_4_hi=z;function $(x,o,h,u,v,y,A,E){var p=o+u+y+E;return p>>>0}Xe.sum64_4_lo=$;function q(x,o,h,u,v,y,A,E,p,f){var M=0,V=o;V=V+u>>>0,M+=V<o?1:0,V=V+y>>>0,M+=V<y?1:0,V=V+E>>>0,M+=V<E?1:0,V=V+f>>>0,M+=V<f?1:0;var W=x+h+v+A+p+M;return W>>>0}Xe.sum64_5_hi=q;function R(x,o,h,u,v,y,A,E,p,f){var M=o+u+y+E+f;return M>>>0}Xe.sum64_5_lo=R;function H(x,o,h){var u=o<<32-h|x>>>h;return u>>>0}Xe.rotr64_hi=H;function rt(x,o,h){var u=x<<32-h|o>>>h;return u>>>0}Xe.rotr64_lo=rt;function ot(x,o,h){return x>>>h}Xe.shr64_hi=ot;function G(x,o,h){var u=x<<32-h|o>>>h;return u>>>0}return Xe.shr64_lo=G,Xe}var rd={},Dv;function Cf(){if(Dv)return rd;Dv=1;var e=Ds(),t=ua();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return rd.BlockHash=r,r.prototype.update=function(s,n){if(s=e.toArray(s,n),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var c=s.length%this._delta8;this.pending=s.slice(s.length-c,s.length),this.pending.length===0&&(this.pending=null),s=e.join32(s,0,s.length-c,this.endian);for(var g=0;g<s.length;g+=this._delta32)this._update(s,g,g+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),t(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,n=this._delta8,c=n-(s+this.padLength)%n,g=new Array(c+this.padLength);g[0]=128;for(var m=1;m<c;m++)g[m]=0;if(s<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)g[m++]=0;g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=s>>>24&255,g[m++]=s>>>16&255,g[m++]=s>>>8&255,g[m++]=s&255}else for(g[m++]=s&255,g[m++]=s>>>8&255,g[m++]=s>>>16&255,g[m++]=s>>>24&255,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,l=8;l<this.padLength;l++)g[m++]=0;return g},rd}var Wo={},ts={},Nv;function ob(){if(Nv)return ts;Nv=1;var e=Ds(),t=e.rotr32;function r(w,_,I,D){if(w===0)return i(_,I,D);if(w===1||w===3)return n(_,I,D);if(w===2)return s(_,I,D)}ts.ft_1=r;function i(w,_,I){return w&_^~w&I}ts.ch32=i;function s(w,_,I){return w&_^w&I^_&I}ts.maj32=s;function n(w,_,I){return w^_^I}ts.p32=n;function c(w){return t(w,2)^t(w,13)^t(w,22)}ts.s0_256=c;function g(w){return t(w,6)^t(w,11)^t(w,25)}ts.s1_256=g;function m(w){return t(w,7)^t(w,18)^w>>>3}ts.g0_256=m;function l(w){return t(w,17)^t(w,19)^w>>>10}return ts.g1_256=l,ts}var id,Cv;function nS(){if(Cv)return id;Cv=1;var e=Ds(),t=Cf(),r=ob(),i=e.rotl32,s=e.sum32,n=e.sum32_5,c=r.ft_1,g=t.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;g.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(l,g),id=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(_,I){for(var D=this.W,C=0;C<16;C++)D[C]=_[I+C];for(;C<D.length;C++)D[C]=i(D[C-3]^D[C-8]^D[C-14]^D[C-16],1);var B=this.h[0],F=this.h[1],Q=this.h[2],U=this.h[3],J=this.h[4];for(C=0;C<D.length;C++){var z=~~(C/20),$=n(i(B,5),c(z,F,Q,U),J,D[C],m[z]);J=U,U=Q,Q=i(F,30),F=B,B=$}this.h[0]=s(this.h[0],B),this.h[1]=s(this.h[1],F),this.h[2]=s(this.h[2],Q),this.h[3]=s(this.h[3],U),this.h[4]=s(this.h[4],J)},l.prototype._digest=function(_){return _==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},id}var nd,Rv;function ab(){if(Rv)return nd;Rv=1;var e=Ds(),t=Cf(),r=ob(),i=ua(),s=e.sum32,n=e.sum32_4,c=e.sum32_5,g=r.ch32,m=r.maj32,l=r.s0_256,w=r.s1_256,_=r.g0_256,I=r.g1_256,D=t.BlockHash,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function B(){if(!(this instanceof B))return new B;D.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=C,this.W=new Array(64)}return e.inherits(B,D),nd=B,B.blockSize=512,B.outSize=256,B.hmacStrength=192,B.padLength=64,B.prototype._update=function(Q,U){for(var J=this.W,z=0;z<16;z++)J[z]=Q[U+z];for(;z<J.length;z++)J[z]=n(I(J[z-2]),J[z-7],_(J[z-15]),J[z-16]);var $=this.h[0],q=this.h[1],R=this.h[2],H=this.h[3],rt=this.h[4],ot=this.h[5],G=this.h[6],x=this.h[7];for(i(this.k.length===J.length),z=0;z<J.length;z++){var o=c(x,w(rt),g(rt,ot,G),this.k[z],J[z]),h=s(l($),m($,q,R));x=G,G=ot,ot=rt,rt=s(H,o),H=R,R=q,q=$,$=s(o,h)}this.h[0]=s(this.h[0],$),this.h[1]=s(this.h[1],q),this.h[2]=s(this.h[2],R),this.h[3]=s(this.h[3],H),this.h[4]=s(this.h[4],rt),this.h[5]=s(this.h[5],ot),this.h[6]=s(this.h[6],G),this.h[7]=s(this.h[7],x)},B.prototype._digest=function(Q){return Q==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},nd}var sd,Pv;function sS(){if(Pv)return sd;Pv=1;var e=Ds(),t=ab();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),sd=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},sd}var od,Ov;function hb(){if(Ov)return od;Ov=1;var e=Ds(),t=Cf(),r=ua(),i=e.rotr64_hi,s=e.rotr64_lo,n=e.shr64_hi,c=e.shr64_lo,g=e.sum64,m=e.sum64_hi,l=e.sum64_lo,w=e.sum64_4_hi,_=e.sum64_4_lo,I=e.sum64_5_hi,D=e.sum64_5_lo,C=t.BlockHash,B=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function F(){if(!(this instanceof F))return new F;C.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=B,this.W=new Array(160)}e.inherits(F,C),od=F,F.blockSize=1024,F.outSize=512,F.hmacStrength=192,F.padLength=128,F.prototype._prepareBlock=function(h,u){for(var v=this.W,y=0;y<32;y++)v[y]=h[u+y];for(;y<v.length;y+=2){var A=G(v[y-4],v[y-3]),E=x(v[y-4],v[y-3]),p=v[y-14],f=v[y-13],M=rt(v[y-30],v[y-29]),V=ot(v[y-30],v[y-29]),W=v[y-32],b=v[y-31];v[y]=w(A,E,p,f,M,V,W,b),v[y+1]=_(A,E,p,f,M,V,W,b)}},F.prototype._update=function(h,u){this._prepareBlock(h,u);var v=this.W,y=this.h[0],A=this.h[1],E=this.h[2],p=this.h[3],f=this.h[4],M=this.h[5],V=this.h[6],W=this.h[7],b=this.h[8],L=this.h[9],O=this.h[10],T=this.h[11],j=this.h[12],N=this.h[13],k=this.h[14],Z=this.h[15];r(this.k.length===v.length);for(var nt=0;nt<v.length;nt+=2){var et=k,ct=Z,pt=R(b,L),bt=H(b,L),ie=Q(b,L,O,T,j),yt=U(b,L,O,T,j,N),_t=this.k[nt],Gt=this.k[nt+1],lt=v[nt],wt=v[nt+1],Yt=I(et,ct,pt,bt,ie,yt,_t,Gt,lt,wt),ut=D(et,ct,pt,bt,ie,yt,_t,Gt,lt,wt);et=$(y,A),ct=q(y,A),pt=J(y,A,E,p,f),bt=z(y,A,E,p,f,M);var At=m(et,ct,pt,bt),Kt=l(et,ct,pt,bt);k=j,Z=N,j=O,N=T,O=b,T=L,b=m(V,W,Yt,ut),L=l(W,W,Yt,ut),V=f,W=M,f=E,M=p,E=y,p=A,y=m(Yt,ut,At,Kt),A=l(Yt,ut,At,Kt)}g(this.h,0,y,A),g(this.h,2,E,p),g(this.h,4,f,M),g(this.h,6,V,W),g(this.h,8,b,L),g(this.h,10,O,T),g(this.h,12,j,N),g(this.h,14,k,Z)},F.prototype._digest=function(h){return h==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function Q(o,h,u,v,y){var A=o&u^~o&y;return A<0&&(A+=4294967296),A}function U(o,h,u,v,y,A){var E=h&v^~h&A;return E<0&&(E+=4294967296),E}function J(o,h,u,v,y){var A=o&u^o&y^u&y;return A<0&&(A+=4294967296),A}function z(o,h,u,v,y,A){var E=h&v^h&A^v&A;return E<0&&(E+=4294967296),E}function $(o,h){var u=i(o,h,28),v=i(h,o,2),y=i(h,o,7),A=u^v^y;return A<0&&(A+=4294967296),A}function q(o,h){var u=s(o,h,28),v=s(h,o,2),y=s(h,o,7),A=u^v^y;return A<0&&(A+=4294967296),A}function R(o,h){var u=i(o,h,14),v=i(o,h,18),y=i(h,o,9),A=u^v^y;return A<0&&(A+=4294967296),A}function H(o,h){var u=s(o,h,14),v=s(o,h,18),y=s(h,o,9),A=u^v^y;return A<0&&(A+=4294967296),A}function rt(o,h){var u=i(o,h,1),v=i(o,h,8),y=n(o,h,7),A=u^v^y;return A<0&&(A+=4294967296),A}function ot(o,h){var u=s(o,h,1),v=s(o,h,8),y=c(o,h,7),A=u^v^y;return A<0&&(A+=4294967296),A}function G(o,h){var u=i(o,h,19),v=i(h,o,29),y=n(o,h,6),A=u^v^y;return A<0&&(A+=4294967296),A}function x(o,h){var u=s(o,h,19),v=s(h,o,29),y=c(o,h,6),A=u^v^y;return A<0&&(A+=4294967296),A}return od}var ad,Bv;function oS(){if(Bv)return ad;Bv=1;var e=Ds(),t=hb();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),ad=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},ad}var Tv;function aS(){return Tv||(Tv=1,Wo.sha1=nS(),Wo.sha224=sS(),Wo.sha256=ab(),Wo.sha384=oS(),Wo.sha512=hb()),Wo}var hd={},Fv;function hS(){if(Fv)return hd;Fv=1;var e=Ds(),t=Cf(),r=e.rotl32,i=e.sum32,s=e.sum32_3,n=e.sum32_4,c=t.BlockHash;function g(){if(!(this instanceof g))return new g;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(g,c),hd.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(F,Q){for(var U=this.h[0],J=this.h[1],z=this.h[2],$=this.h[3],q=this.h[4],R=U,H=J,rt=z,ot=$,G=q,x=0;x<80;x++){var o=i(r(n(U,m(x,J,z,$),F[_[x]+Q],l(x)),D[x]),q);U=q,q=$,$=r(z,10),z=J,J=o,o=i(r(n(R,m(79-x,H,rt,ot),F[I[x]+Q],w(x)),C[x]),G),R=G,G=ot,ot=r(rt,10),rt=H,H=o}o=s(this.h[1],z,ot),this.h[1]=s(this.h[2],$,G),this.h[2]=s(this.h[3],q,R),this.h[3]=s(this.h[4],U,H),this.h[4]=s(this.h[0],J,rt),this.h[0]=o},g.prototype._digest=function(F){return F==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function m(B,F,Q,U){return B<=15?F^Q^U:B<=31?F&Q|~F&U:B<=47?(F|~Q)^U:B<=63?F&U|Q&~U:F^(Q|~U)}function l(B){return B<=15?0:B<=31?1518500249:B<=47?1859775393:B<=63?2400959708:2840853838}function w(B){return B<=15?1352829926:B<=31?1548603684:B<=47?1836072691:B<=63?2053994217:0}var _=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],I=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],D=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],C=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return hd}var fd,qv;function fS(){if(qv)return fd;qv=1;var e=Ds(),t=ua();function r(i,s,n){if(!(this instanceof r))return new r(i,s,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(s,n))}return fd=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),t(s.length<=this.blockSize);for(var n=s.length;n<this.blockSize;n++)s.push(0);for(n=0;n<s.length;n++)s[n]^=54;for(this.inner=new this.Hash().update(s),n=0;n<s.length;n++)s[n]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,n){return this.inner.update(s,n),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},fd}var Uv;function hp(){return Uv||(Uv=1,function(e){var t=e;t.utils=Ds(),t.common=Cf(),t.sha=aS(),t.ripemd=hS(),t.hmac=fS(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(ed)),ed}var ud,Lv;function uS(){return Lv||(Lv=1,ud={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),ud}var kv;function fp(){return kv||(kv=1,function(e){var t=e,r=hp(),i=sb(),s=_n(),n=s.assert;function c(l){l.type==="short"?this.curve=new i.short(l):l.type==="edwards"?this.curve=new i.edwards(l):this.curve=new i.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=c;function g(l,w){Object.defineProperty(t,l,{configurable:!0,enumerable:!0,get:function(){var _=new c(w);return Object.defineProperty(t,l,{configurable:!0,enumerable:!0,value:_}),_}})}g("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),g("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),g("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),g("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),g("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),g("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),g("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var m;try{m=uS()}catch{m=void 0}g("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",m]})}(td)),td}var cd,zv;function cS(){if(zv)return cd;zv=1;var e=hp(),t=ib(),r=ua();function i(s){if(!(this instanceof i))return new i(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=t.toArray(s.entropy,s.entropyEnc||"hex"),c=t.toArray(s.nonce,s.nonceEnc||"hex"),g=t.toArray(s.pers,s.persEnc||"hex");r(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,c,g)}return cd=i,i.prototype._init=function(n,c,g){var m=n.concat(c).concat(g);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(m),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},i.prototype._update=function(n){var c=this._hmac().update(this.V).update([0]);n&&(c=c.update(n)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(n,c,g,m){typeof c!="string"&&(m=g,g=c,c=null),n=t.toArray(n,c),g=t.toArray(g,m),r(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(n.concat(g||[])),this._reseed=1},i.prototype.generate=function(n,c,g,m){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(m=g,g=c,c=null),g&&(g=t.toArray(g,m||"hex"),this._update(g));for(var l=[];l.length<n;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var w=l.slice(0,n);return this._update(g),this._reseed++,t.encode(w,c)},cd}var ld,$v;function lS(){if($v)return ld;$v=1;var e=ao(),t=_n(),r=t.assert;function i(s,n){this.ec=s,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}return ld=i,i.fromPublic=function(n,c,g){return c instanceof i?c:new i(n,{pub:c,pubEnc:g})},i.fromPrivate=function(n,c,g){return c instanceof i?c:new i(n,{priv:c,privEnc:g})},i.prototype.validate=function(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:"Invalid public key"}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(n,c){return typeof n=="string"&&(c=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,n):this.pub},i.prototype.getPrivate=function(n){return n==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(n,c){this.priv=new e(n,c||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(n,c){if(n.x||n.y){this.ec.curve.type==="mont"?r(n.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(n.x&&n.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(n.x,n.y);return}this.pub=this.ec.curve.decodePoint(n,c)},i.prototype.derive=function(n){return n.validate()||r(n.validate(),"public point not validated"),n.mul(this.priv).getX()},i.prototype.sign=function(n,c,g){return this.ec.sign(n,this,c,g)},i.prototype.verify=function(n,c,g){return this.ec.verify(n,c,this,void 0,g)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},ld}var dd,Hv;function dS(){if(Hv)return dd;Hv=1;var e=ao(),t=_n(),r=t.assert;function i(m,l){if(m instanceof i)return m;this._importDER(m,l)||(r(m.r&&m.s,"Signature without r or s"),this.r=new e(m.r,16),this.s=new e(m.s,16),m.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=m.recoveryParam)}dd=i;function s(){this.place=0}function n(m,l){var w=m[l.place++];if(!(w&128))return w;var _=w&15;if(_===0||_>4||m[l.place]===0)return!1;for(var I=0,D=0,C=l.place;D<_;D++,C++)I<<=8,I|=m[C],I>>>=0;return I<=127?!1:(l.place=C,I)}function c(m){for(var l=0,w=m.length-1;!m[l]&&!(m[l+1]&128)&&l<w;)l++;return l===0?m:m.slice(l)}i.prototype._importDER=function(l,w){l=t.toArray(l,w);var _=new s;if(l[_.place++]!==48)return!1;var I=n(l,_);if(I===!1||I+_.place!==l.length||l[_.place++]!==2)return!1;var D=n(l,_);if(D===!1||l[_.place]&128)return!1;var C=l.slice(_.place,D+_.place);if(_.place+=D,l[_.place++]!==2)return!1;var B=n(l,_);if(B===!1||l.length!==B+_.place||l[_.place]&128)return!1;var F=l.slice(_.place,B+_.place);if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;if(F[0]===0)if(F[1]&128)F=F.slice(1);else return!1;return this.r=new e(C),this.s=new e(F),this.recoveryParam=null,!0};function g(m,l){if(l<128){m.push(l);return}var w=1+(Math.log(l)/Math.LN2>>>3);for(m.push(w|128);--w;)m.push(l>>>(w<<3)&255);m.push(l)}return i.prototype.toDER=function(l){var w=this.r.toArray(),_=this.s.toArray();for(w[0]&128&&(w=[0].concat(w)),_[0]&128&&(_=[0].concat(_)),w=c(w),_=c(_);!_[0]&&!(_[1]&128);)_=_.slice(1);var I=[2];g(I,w.length),I=I.concat(w),I.push(2),g(I,_.length);var D=I.concat(_),C=[48];return g(C,D.length),C=C.concat(D),t.encode(C,l)},dd}var pd,jv;function pS(){if(jv)return pd;jv=1;var e=ao(),t=cS(),r=_n(),i=fp(),s=nb(),n=r.assert,c=lS(),g=dS();function m(l){if(!(this instanceof m))return new m(l);typeof l=="string"&&(n(Object.prototype.hasOwnProperty.call(i,l),"Unknown curve "+l),l=i[l]),l instanceof i.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return pd=m,m.prototype.keyPair=function(w){return new c(this,w)},m.prototype.keyFromPrivate=function(w,_){return c.fromPrivate(this,w,_)},m.prototype.keyFromPublic=function(w,_){return c.fromPublic(this,w,_)},m.prototype.genKeyPair=function(w){w||(w={});for(var _=new t({hash:this.hash,pers:w.pers,persEnc:w.persEnc||"utf8",entropy:w.entropy||s(this.hash.hmacStrength),entropyEnc:w.entropy&&w.entropyEnc||"utf8",nonce:this.n.toArray()}),I=this.n.byteLength(),D=this.n.sub(new e(2));;){var C=new e(_.generate(I));if(!(C.cmp(D)>0))return C.iaddn(1),this.keyFromPrivate(C)}},m.prototype._truncateToN=function(w,_,I){var D;if(e.isBN(w)||typeof w=="number")w=new e(w,16),D=w.byteLength();else if(typeof w=="object")D=w.length,w=new e(w,16);else{var C=w.toString();D=C.length+1>>>1,w=new e(C,16)}typeof I!="number"&&(I=D*8);var B=I-this.n.bitLength();return B>0&&(w=w.ushrn(B)),!_&&w.cmp(this.n)>=0?w.sub(this.n):w},m.prototype.sign=function(w,_,I,D){if(typeof I=="object"&&(D=I,I=null),D||(D={}),typeof w!="string"&&typeof w!="number"&&!e.isBN(w)){n(typeof w=="object"&&w&&typeof w.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),n(w.length>>>0===w.length);for(var C=0;C<w.length;C++)n((w[C]&255)===w[C])}_=this.keyFromPrivate(_,I),w=this._truncateToN(w,!1,D.msgBitLength),n(!w.isNeg(),"Can not sign a negative message");var B=this.n.byteLength(),F=_.getPrivate().toArray("be",B),Q=w.toArray("be",B);n(new e(Q).eq(w),"Can not sign message");for(var U=new t({hash:this.hash,entropy:F,nonce:Q,pers:D.pers,persEnc:D.persEnc||"utf8"}),J=this.n.sub(new e(1)),z=0;;z++){var $=D.k?D.k(z):new e(U.generate(this.n.byteLength()));if($=this._truncateToN($,!0),!($.cmpn(1)<=0||$.cmp(J)>=0)){var q=this.g.mul($);if(!q.isInfinity()){var R=q.getX(),H=R.umod(this.n);if(H.cmpn(0)!==0){var rt=$.invm(this.n).mul(H.mul(_.getPrivate()).iadd(w));if(rt=rt.umod(this.n),rt.cmpn(0)!==0){var ot=(q.getY().isOdd()?1:0)|(R.cmp(H)!==0?2:0);return D.canonical&&rt.cmp(this.nh)>0&&(rt=this.n.sub(rt),ot^=1),new g({r:H,s:rt,recoveryParam:ot})}}}}}},m.prototype.verify=function(w,_,I,D,C){C||(C={}),w=this._truncateToN(w,!1,C.msgBitLength),I=this.keyFromPublic(I,D),_=new g(_,"hex");var B=_.r,F=_.s;if(B.cmpn(1)<0||B.cmp(this.n)>=0||F.cmpn(1)<0||F.cmp(this.n)>=0)return!1;var Q=F.invm(this.n),U=Q.mul(w).umod(this.n),J=Q.mul(B).umod(this.n),z;return this.curve._maxwellTrick?(z=this.g.jmulAdd(U,I.getPublic(),J),z.isInfinity()?!1:z.eqXToP(B)):(z=this.g.mulAdd(U,I.getPublic(),J),z.isInfinity()?!1:z.getX().umod(this.n).cmp(B)===0)},m.prototype.recoverPubKey=function(l,w,_,I){n((3&_)===_,"The recovery param is more than two bits"),w=new g(w,I);var D=this.n,C=new e(l),B=w.r,F=w.s,Q=_&1,U=_>>1;if(B.cmp(this.curve.p.umod(this.curve.n))>=0&&U)throw new Error("Unable to find sencond key candinate");U?B=this.curve.pointFromX(B.add(this.curve.n),Q):B=this.curve.pointFromX(B,Q);var J=w.r.invm(D),z=D.sub(C).mul(J).umod(D),$=F.mul(J).umod(D);return this.g.mulAdd(z,B,$)},m.prototype.getKeyRecoveryParam=function(l,w,_,I){if(w=new g(w,I),w.recoveryParam!==null)return w.recoveryParam;for(var D=0;D<4;D++){var C;try{C=this.recoverPubKey(l,w,D)}catch{continue}if(C.eq(_))return D}throw new Error("Unable to find valid recovery factor")},pd}var gd,Kv;function gS(){if(Kv)return gd;Kv=1;var e=_n(),t=e.assert,r=e.parseBytes,i=e.cachedProperty;function s(n,c){this.eddsa=n,this._secret=r(c.secret),n.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=r(c.pub)}return s.fromPublic=function(c,g){return g instanceof s?g:new s(c,{pub:g})},s.fromSecret=function(c,g){return g instanceof s?g:new s(c,{secret:g})},s.prototype.secret=function(){return this._secret},i(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(s,"privBytes",function(){var c=this.eddsa,g=this.hash(),m=c.encodingLength-1,l=g.slice(0,c.encodingLength);return l[0]&=248,l[m]&=127,l[m]|=64,l}),i(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(c){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},s.prototype.verify=function(c,g){return this.eddsa.verify(c,g,this)},s.prototype.getSecret=function(c){return t(this._secret,"KeyPair is public only"),e.encode(this.secret(),c)},s.prototype.getPublic=function(c){return e.encode(this.pubBytes(),c)},gd=s,gd}var vd,Gv;function vS(){if(Gv)return vd;Gv=1;var e=ao(),t=_n(),r=t.assert,i=t.cachedProperty,s=t.parseBytes;function n(c,g){this.eddsa=c,typeof g!="object"&&(g=s(g)),Array.isArray(g)&&(r(g.length===c.encodingLength*2,"Signature has invalid size"),g={R:g.slice(0,c.encodingLength),S:g.slice(c.encodingLength)}),r(g.R&&g.S,"Signature without R or S"),c.isPoint(g.R)&&(this._R=g.R),g.S instanceof e&&(this._S=g.S),this._Rencoded=Array.isArray(g.R)?g.R:g.Rencoded,this._Sencoded=Array.isArray(g.S)?g.S:g.Sencoded}return i(n,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(n,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(n,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(n,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},vd=n,vd}var md,Qv;function mS(){if(Qv)return md;Qv=1;var e=hp(),t=fp(),r=_n(),i=r.assert,s=r.parseBytes,n=gS(),c=vS();function g(m){if(i(m==="ed25519","only tested with ed25519 so far"),!(this instanceof g))return new g(m);m=t[m].curve,this.curve=m,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=e.sha512}return md=g,g.prototype.sign=function(l,w){l=s(l);var _=this.keyFromSecret(w),I=this.hashInt(_.messagePrefix(),l),D=this.g.mul(I),C=this.encodePoint(D),B=this.hashInt(C,_.pubBytes(),l).mul(_.priv()),F=I.add(B).umod(this.curve.n);return this.makeSignature({R:D,S:F,Rencoded:C})},g.prototype.verify=function(l,w,_){if(l=s(l),w=this.makeSignature(w),w.S().gte(w.eddsa.curve.n)||w.S().isNeg())return!1;var I=this.keyFromPublic(_),D=this.hashInt(w.Rencoded(),I.pubBytes(),l),C=this.g.mul(w.S()),B=w.R().add(I.pub().mul(D));return B.eq(C)},g.prototype.hashInt=function(){for(var l=this.hash(),w=0;w<arguments.length;w++)l.update(arguments[w]);return r.intFromLE(l.digest()).umod(this.curve.n)},g.prototype.keyFromPublic=function(l){return n.fromPublic(this,l)},g.prototype.keyFromSecret=function(l){return n.fromSecret(this,l)},g.prototype.makeSignature=function(l){return l instanceof c?l:new c(this,l)},g.prototype.encodePoint=function(l){var w=l.getY().toArray("le",this.encodingLength);return w[this.encodingLength-1]|=l.getX().isOdd()?128:0,w},g.prototype.decodePoint=function(l){l=r.parseBytes(l);var w=l.length-1,_=l.slice(0,w).concat(l[w]&-129),I=(l[w]&128)!==0,D=r.intFromLE(_);return this.curve.pointFromY(D,I)},g.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},g.prototype.decodeInt=function(l){return r.intFromLE(l)},g.prototype.isPoint=function(l){return l instanceof this.pointClass},md}var Jv;function bS(){return Jv||(Jv=1,function(e){var t=e;t.version=ZM.version,t.utils=_n(),t.rand=nb(),t.curve=sb(),t.curves=fp(),t.ec=pS(),t.eddsa=mS()}(Kl)),Kl}var yS=bS(),bd={},yd={},Vv;function wS(){return Vv||(Vv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=If(),r=Gn();e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var i=function(){function g(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return g.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},g.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},g.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},g.prototype.update=function(m,l){if(l===void 0&&(l=m.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var w=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=m[w++],l--;this._bufferLength===this.blockSize&&(n(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(w=n(this._tempHi,this._tempLo,this._stateHi,this._stateLo,m,w,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=m[w++],l--;return this},g.prototype.finish=function(m){if(!this._finished){var l=this._bytesHashed,w=this._bufferLength,_=l/536870912|0,I=l<<3,D=l%128<112?128:256;this._buffer[w]=128;for(var C=w+1;C<D-8;C++)this._buffer[C]=0;t.writeUint32BE(_,this._buffer,D-8),t.writeUint32BE(I,this._buffer,D-4),n(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,D),this._finished=!0}for(var C=0;C<this.digestLength/8;C++)t.writeUint32BE(this._stateHi[C],m,C*8),t.writeUint32BE(this._stateLo[C],m,C*8+4);return this},g.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},g.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},g.prototype.restoreState=function(m){return this._stateHi.set(m.stateHi),this._stateLo.set(m.stateLo),this._bufferLength=m.bufferLength,m.buffer&&this._buffer.set(m.buffer),this._bytesHashed=m.bytesHashed,this._finished=!1,this},g.prototype.cleanSavedState=function(m){r.wipe(m.stateHi),r.wipe(m.stateLo),m.buffer&&r.wipe(m.buffer),m.bufferLength=0,m.bytesHashed=0},g}();e.SHA512=i;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function n(g,m,l,w,_,I,D){for(var C=l[0],B=l[1],F=l[2],Q=l[3],U=l[4],J=l[5],z=l[6],$=l[7],q=w[0],R=w[1],H=w[2],rt=w[3],ot=w[4],G=w[5],x=w[6],o=w[7],h,u,v,y,A,E,p,f;D>=128;){for(var M=0;M<16;M++){var V=8*M+I;g[M]=t.readUint32BE(_,V),m[M]=t.readUint32BE(_,V+4)}for(var M=0;M<80;M++){var W=C,b=B,L=F,O=Q,T=U,j=J,N=z,k=$,Z=q,nt=R,et=H,ct=rt,pt=ot,bt=G,ie=x,yt=o;if(h=$,u=o,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=(U>>>14|ot<<18)^(U>>>18|ot<<14)^(ot>>>9|U<<23),u=(ot>>>14|U<<18)^(ot>>>18|U<<14)^(U>>>9|ot<<23),A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,h=U&J^~U&z,u=ot&G^~ot&x,A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,h=s[M*2],u=s[M*2+1],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,h=g[M%16],u=m[M%16],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,v=p&65535|f<<16,y=A&65535|E<<16,h=v,u=y,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=(C>>>28|q<<4)^(q>>>2|C<<30)^(q>>>7|C<<25),u=(q>>>28|C<<4)^(C>>>2|q<<30)^(C>>>7|q<<25),A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,h=C&B^C&F^B&F,u=q&R^q&H^R&H,A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,k=p&65535|f<<16,yt=A&65535|E<<16,h=O,u=ct,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=v,u=y,A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,O=p&65535|f<<16,ct=A&65535|E<<16,B=W,F=b,Q=L,U=O,J=T,z=j,$=N,C=k,R=Z,H=nt,rt=et,ot=ct,G=pt,x=bt,o=ie,q=yt,M%16===15)for(var V=0;V<16;V++)h=g[V],u=m[V],A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=g[(V+9)%16],u=m[(V+9)%16],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,v=g[(V+1)%16],y=m[(V+1)%16],h=(v>>>1|y<<31)^(v>>>8|y<<24)^v>>>7,u=(y>>>1|v<<31)^(y>>>8|v<<24)^(y>>>7|v<<25),A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,v=g[(V+14)%16],y=m[(V+14)%16],h=(v>>>19|y<<13)^(y>>>29|v<<3)^v>>>6,u=(y>>>19|v<<13)^(v>>>29|y<<3)^(y>>>6|v<<26),A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,g[V]=p&65535|f<<16,m[V]=A&65535|E<<16}h=C,u=q,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[0],u=w[0],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[0]=C=p&65535|f<<16,w[0]=q=A&65535|E<<16,h=B,u=R,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[1],u=w[1],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[1]=B=p&65535|f<<16,w[1]=R=A&65535|E<<16,h=F,u=H,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[2],u=w[2],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[2]=F=p&65535|f<<16,w[2]=H=A&65535|E<<16,h=Q,u=rt,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[3],u=w[3],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[3]=Q=p&65535|f<<16,w[3]=rt=A&65535|E<<16,h=U,u=ot,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[4],u=w[4],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[4]=U=p&65535|f<<16,w[4]=ot=A&65535|E<<16,h=J,u=G,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[5],u=w[5],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[5]=J=p&65535|f<<16,w[5]=G=A&65535|E<<16,h=z,u=x,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[6],u=w[6],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[6]=z=p&65535|f<<16,w[6]=x=A&65535|E<<16,h=$,u=o,A=u&65535,E=u>>>16,p=h&65535,f=h>>>16,h=l[7],u=w[7],A+=u&65535,E+=u>>>16,p+=h&65535,f+=h>>>16,E+=A>>>16,p+=E>>>16,f+=p>>>16,l[7]=$=p&65535|f<<16,w[7]=o=A&65535|E<<16,I+=128,D-=128}return I}function c(g){var m=new i;m.update(g);var l=m.digest();return m.clean(),l}e.hash=c}(yd)),yd}var Yv;function AS(){return Yv||(Yv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=ap(),r=wS(),i=Gn();e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function s(O){const T=new Float64Array(16);if(O)for(let j=0;j<O.length;j++)T[j]=O[j];return T}const n=new Uint8Array(32);n[0]=9;const c=s(),g=s([1]),m=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),w=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function D(O,T){for(let j=0;j<16;j++)O[j]=T[j]|0}function C(O){let T=1;for(let j=0;j<16;j++){let N=O[j]+T+65535;T=Math.floor(N/65536),O[j]=N-T*65536}O[0]+=T-1+37*(T-1)}function B(O,T,j){const N=~(j-1);for(let k=0;k<16;k++){const Z=N&(O[k]^T[k]);O[k]^=Z,T[k]^=Z}}function F(O,T){const j=s(),N=s();for(let k=0;k<16;k++)N[k]=T[k];C(N),C(N),C(N);for(let k=0;k<2;k++){j[0]=N[0]-65517;for(let nt=1;nt<15;nt++)j[nt]=N[nt]-65535-(j[nt-1]>>16&1),j[nt-1]&=65535;j[15]=N[15]-32767-(j[14]>>16&1);const Z=j[15]>>16&1;j[14]&=65535,B(N,j,1-Z)}for(let k=0;k<16;k++)O[2*k]=N[k]&255,O[2*k+1]=N[k]>>8}function Q(O,T){let j=0;for(let N=0;N<32;N++)j|=O[N]^T[N];return(1&j-1>>>8)-1}function U(O,T){const j=new Uint8Array(32),N=new Uint8Array(32);return F(j,O),F(N,T),Q(j,N)}function J(O){const T=new Uint8Array(32);return F(T,O),T[0]&1}function z(O,T){for(let j=0;j<16;j++)O[j]=T[2*j]+(T[2*j+1]<<8);O[15]&=32767}function $(O,T,j){for(let N=0;N<16;N++)O[N]=T[N]+j[N]}function q(O,T,j){for(let N=0;N<16;N++)O[N]=T[N]-j[N]}function R(O,T,j){let N,k,Z=0,nt=0,et=0,ct=0,pt=0,bt=0,ie=0,yt=0,_t=0,Gt=0,lt=0,wt=0,Yt=0,ut=0,At=0,Kt=0,dt=0,It=0,Jt=0,vt=0,Rt=0,te=0,mt=0,Pt=0,ce=0,Tt=0,Vt=0,le=0,Ft=0,Wt=0,pe=0,Mt=j[0],Lt=j[1],oe=j[2],St=j[3],kt=j[4],ne=j[5],Dt=j[6],jt=j[7],ae=j[8],Nt=j[9],zt=j[10],fe=j[11],xt=j[12],Ut=j[13],ue=j[14],Ct=j[15];N=T[0],Z+=N*Mt,nt+=N*Lt,et+=N*oe,ct+=N*St,pt+=N*kt,bt+=N*ne,ie+=N*Dt,yt+=N*jt,_t+=N*ae,Gt+=N*Nt,lt+=N*zt,wt+=N*fe,Yt+=N*xt,ut+=N*Ut,At+=N*ue,Kt+=N*Ct,N=T[1],nt+=N*Mt,et+=N*Lt,ct+=N*oe,pt+=N*St,bt+=N*kt,ie+=N*ne,yt+=N*Dt,_t+=N*jt,Gt+=N*ae,lt+=N*Nt,wt+=N*zt,Yt+=N*fe,ut+=N*xt,At+=N*Ut,Kt+=N*ue,dt+=N*Ct,N=T[2],et+=N*Mt,ct+=N*Lt,pt+=N*oe,bt+=N*St,ie+=N*kt,yt+=N*ne,_t+=N*Dt,Gt+=N*jt,lt+=N*ae,wt+=N*Nt,Yt+=N*zt,ut+=N*fe,At+=N*xt,Kt+=N*Ut,dt+=N*ue,It+=N*Ct,N=T[3],ct+=N*Mt,pt+=N*Lt,bt+=N*oe,ie+=N*St,yt+=N*kt,_t+=N*ne,Gt+=N*Dt,lt+=N*jt,wt+=N*ae,Yt+=N*Nt,ut+=N*zt,At+=N*fe,Kt+=N*xt,dt+=N*Ut,It+=N*ue,Jt+=N*Ct,N=T[4],pt+=N*Mt,bt+=N*Lt,ie+=N*oe,yt+=N*St,_t+=N*kt,Gt+=N*ne,lt+=N*Dt,wt+=N*jt,Yt+=N*ae,ut+=N*Nt,At+=N*zt,Kt+=N*fe,dt+=N*xt,It+=N*Ut,Jt+=N*ue,vt+=N*Ct,N=T[5],bt+=N*Mt,ie+=N*Lt,yt+=N*oe,_t+=N*St,Gt+=N*kt,lt+=N*ne,wt+=N*Dt,Yt+=N*jt,ut+=N*ae,At+=N*Nt,Kt+=N*zt,dt+=N*fe,It+=N*xt,Jt+=N*Ut,vt+=N*ue,Rt+=N*Ct,N=T[6],ie+=N*Mt,yt+=N*Lt,_t+=N*oe,Gt+=N*St,lt+=N*kt,wt+=N*ne,Yt+=N*Dt,ut+=N*jt,At+=N*ae,Kt+=N*Nt,dt+=N*zt,It+=N*fe,Jt+=N*xt,vt+=N*Ut,Rt+=N*ue,te+=N*Ct,N=T[7],yt+=N*Mt,_t+=N*Lt,Gt+=N*oe,lt+=N*St,wt+=N*kt,Yt+=N*ne,ut+=N*Dt,At+=N*jt,Kt+=N*ae,dt+=N*Nt,It+=N*zt,Jt+=N*fe,vt+=N*xt,Rt+=N*Ut,te+=N*ue,mt+=N*Ct,N=T[8],_t+=N*Mt,Gt+=N*Lt,lt+=N*oe,wt+=N*St,Yt+=N*kt,ut+=N*ne,At+=N*Dt,Kt+=N*jt,dt+=N*ae,It+=N*Nt,Jt+=N*zt,vt+=N*fe,Rt+=N*xt,te+=N*Ut,mt+=N*ue,Pt+=N*Ct,N=T[9],Gt+=N*Mt,lt+=N*Lt,wt+=N*oe,Yt+=N*St,ut+=N*kt,At+=N*ne,Kt+=N*Dt,dt+=N*jt,It+=N*ae,Jt+=N*Nt,vt+=N*zt,Rt+=N*fe,te+=N*xt,mt+=N*Ut,Pt+=N*ue,ce+=N*Ct,N=T[10],lt+=N*Mt,wt+=N*Lt,Yt+=N*oe,ut+=N*St,At+=N*kt,Kt+=N*ne,dt+=N*Dt,It+=N*jt,Jt+=N*ae,vt+=N*Nt,Rt+=N*zt,te+=N*fe,mt+=N*xt,Pt+=N*Ut,ce+=N*ue,Tt+=N*Ct,N=T[11],wt+=N*Mt,Yt+=N*Lt,ut+=N*oe,At+=N*St,Kt+=N*kt,dt+=N*ne,It+=N*Dt,Jt+=N*jt,vt+=N*ae,Rt+=N*Nt,te+=N*zt,mt+=N*fe,Pt+=N*xt,ce+=N*Ut,Tt+=N*ue,Vt+=N*Ct,N=T[12],Yt+=N*Mt,ut+=N*Lt,At+=N*oe,Kt+=N*St,dt+=N*kt,It+=N*ne,Jt+=N*Dt,vt+=N*jt,Rt+=N*ae,te+=N*Nt,mt+=N*zt,Pt+=N*fe,ce+=N*xt,Tt+=N*Ut,Vt+=N*ue,le+=N*Ct,N=T[13],ut+=N*Mt,At+=N*Lt,Kt+=N*oe,dt+=N*St,It+=N*kt,Jt+=N*ne,vt+=N*Dt,Rt+=N*jt,te+=N*ae,mt+=N*Nt,Pt+=N*zt,ce+=N*fe,Tt+=N*xt,Vt+=N*Ut,le+=N*ue,Ft+=N*Ct,N=T[14],At+=N*Mt,Kt+=N*Lt,dt+=N*oe,It+=N*St,Jt+=N*kt,vt+=N*ne,Rt+=N*Dt,te+=N*jt,mt+=N*ae,Pt+=N*Nt,ce+=N*zt,Tt+=N*fe,Vt+=N*xt,le+=N*Ut,Ft+=N*ue,Wt+=N*Ct,N=T[15],Kt+=N*Mt,dt+=N*Lt,It+=N*oe,Jt+=N*St,vt+=N*kt,Rt+=N*ne,te+=N*Dt,mt+=N*jt,Pt+=N*ae,ce+=N*Nt,Tt+=N*zt,Vt+=N*fe,le+=N*xt,Ft+=N*Ut,Wt+=N*ue,pe+=N*Ct,Z+=38*dt,nt+=38*It,et+=38*Jt,ct+=38*vt,pt+=38*Rt,bt+=38*te,ie+=38*mt,yt+=38*Pt,_t+=38*ce,Gt+=38*Tt,lt+=38*Vt,wt+=38*le,Yt+=38*Ft,ut+=38*Wt,At+=38*pe,k=1,N=Z+k+65535,k=Math.floor(N/65536),Z=N-k*65536,N=nt+k+65535,k=Math.floor(N/65536),nt=N-k*65536,N=et+k+65535,k=Math.floor(N/65536),et=N-k*65536,N=ct+k+65535,k=Math.floor(N/65536),ct=N-k*65536,N=pt+k+65535,k=Math.floor(N/65536),pt=N-k*65536,N=bt+k+65535,k=Math.floor(N/65536),bt=N-k*65536,N=ie+k+65535,k=Math.floor(N/65536),ie=N-k*65536,N=yt+k+65535,k=Math.floor(N/65536),yt=N-k*65536,N=_t+k+65535,k=Math.floor(N/65536),_t=N-k*65536,N=Gt+k+65535,k=Math.floor(N/65536),Gt=N-k*65536,N=lt+k+65535,k=Math.floor(N/65536),lt=N-k*65536,N=wt+k+65535,k=Math.floor(N/65536),wt=N-k*65536,N=Yt+k+65535,k=Math.floor(N/65536),Yt=N-k*65536,N=ut+k+65535,k=Math.floor(N/65536),ut=N-k*65536,N=At+k+65535,k=Math.floor(N/65536),At=N-k*65536,N=Kt+k+65535,k=Math.floor(N/65536),Kt=N-k*65536,Z+=k-1+37*(k-1),k=1,N=Z+k+65535,k=Math.floor(N/65536),Z=N-k*65536,N=nt+k+65535,k=Math.floor(N/65536),nt=N-k*65536,N=et+k+65535,k=Math.floor(N/65536),et=N-k*65536,N=ct+k+65535,k=Math.floor(N/65536),ct=N-k*65536,N=pt+k+65535,k=Math.floor(N/65536),pt=N-k*65536,N=bt+k+65535,k=Math.floor(N/65536),bt=N-k*65536,N=ie+k+65535,k=Math.floor(N/65536),ie=N-k*65536,N=yt+k+65535,k=Math.floor(N/65536),yt=N-k*65536,N=_t+k+65535,k=Math.floor(N/65536),_t=N-k*65536,N=Gt+k+65535,k=Math.floor(N/65536),Gt=N-k*65536,N=lt+k+65535,k=Math.floor(N/65536),lt=N-k*65536,N=wt+k+65535,k=Math.floor(N/65536),wt=N-k*65536,N=Yt+k+65535,k=Math.floor(N/65536),Yt=N-k*65536,N=ut+k+65535,k=Math.floor(N/65536),ut=N-k*65536,N=At+k+65535,k=Math.floor(N/65536),At=N-k*65536,N=Kt+k+65535,k=Math.floor(N/65536),Kt=N-k*65536,Z+=k-1+37*(k-1),O[0]=Z,O[1]=nt,O[2]=et,O[3]=ct,O[4]=pt,O[5]=bt,O[6]=ie,O[7]=yt,O[8]=_t,O[9]=Gt,O[10]=lt,O[11]=wt,O[12]=Yt,O[13]=ut,O[14]=At,O[15]=Kt}function H(O,T){R(O,T,T)}function rt(O,T){const j=s();let N;for(N=0;N<16;N++)j[N]=T[N];for(N=253;N>=0;N--)H(j,j),N!==2&&N!==4&&R(j,j,T);for(N=0;N<16;N++)O[N]=j[N]}function ot(O,T){const j=s();let N;for(N=0;N<16;N++)j[N]=T[N];for(N=250;N>=0;N--)H(j,j),N!==1&&R(j,j,T);for(N=0;N<16;N++)O[N]=j[N]}function G(O,T){const j=s(),N=s(),k=s(),Z=s(),nt=s(),et=s(),ct=s(),pt=s(),bt=s();q(j,O[1],O[0]),q(bt,T[1],T[0]),R(j,j,bt),$(N,O[0],O[1]),$(bt,T[0],T[1]),R(N,N,bt),R(k,O[3],T[3]),R(k,k,l),R(Z,O[2],T[2]),$(Z,Z,Z),q(nt,N,j),q(et,Z,k),$(ct,Z,k),$(pt,N,j),R(O[0],nt,et),R(O[1],pt,ct),R(O[2],ct,et),R(O[3],nt,pt)}function x(O,T,j){for(let N=0;N<4;N++)B(O[N],T[N],j)}function o(O,T){const j=s(),N=s(),k=s();rt(k,T[2]),R(j,T[0],k),R(N,T[1],k),F(O,N),O[31]^=J(j)<<7}function h(O,T,j){D(O[0],c),D(O[1],g),D(O[2],g),D(O[3],c);for(let N=255;N>=0;--N){const k=j[N/8|0]>>(N&7)&1;x(O,T,k),G(T,O),G(O,O),x(O,T,k)}}function u(O,T){const j=[s(),s(),s(),s()];D(j[0],w),D(j[1],_),D(j[2],g),R(j[3],w,_),h(O,j,T)}function v(O){if(O.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const T=(0,r.hash)(O);T[0]&=248,T[31]&=127,T[31]|=64;const j=new Uint8Array(32),N=[s(),s(),s(),s()];u(N,T),o(j,N);const k=new Uint8Array(64);return k.set(O),k.set(j,32),{publicKey:j,secretKey:k}}e.generateKeyPairFromSeed=v;function y(O){const T=(0,t.randomBytes)(32,O),j=v(T);return(0,i.wipe)(T),j}e.generateKeyPair=y;function A(O){if(O.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(O.subarray(32))}e.extractPublicKeyFromSecretKey=A;const E=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function p(O,T){let j,N,k,Z;for(N=63;N>=32;--N){for(j=0,k=N-32,Z=N-12;k<Z;++k)T[k]+=j-16*T[N]*E[k-(N-32)],j=Math.floor((T[k]+128)/256),T[k]-=j*256;T[k]+=j,T[N]=0}for(j=0,k=0;k<32;k++)T[k]+=j-(T[31]>>4)*E[k],j=T[k]>>8,T[k]&=255;for(k=0;k<32;k++)T[k]-=j*E[k];for(N=0;N<32;N++)T[N+1]+=T[N]>>8,O[N]=T[N]&255}function f(O){const T=new Float64Array(64);for(let j=0;j<64;j++)T[j]=O[j];for(let j=0;j<64;j++)O[j]=0;p(O,T)}function M(O,T){const j=new Float64Array(64),N=[s(),s(),s(),s()],k=(0,r.hash)(O.subarray(0,32));k[0]&=248,k[31]&=127,k[31]|=64;const Z=new Uint8Array(64);Z.set(k.subarray(32),32);const nt=new r.SHA512;nt.update(Z.subarray(32)),nt.update(T);const et=nt.digest();nt.clean(),f(et),u(N,et),o(Z,N),nt.reset(),nt.update(Z.subarray(0,32)),nt.update(O.subarray(32)),nt.update(T);const ct=nt.digest();f(ct);for(let pt=0;pt<32;pt++)j[pt]=et[pt];for(let pt=0;pt<32;pt++)for(let bt=0;bt<32;bt++)j[pt+bt]+=ct[pt]*k[bt];return p(Z.subarray(32),j),Z}e.sign=M;function V(O,T){const j=s(),N=s(),k=s(),Z=s(),nt=s(),et=s(),ct=s();return D(O[2],g),z(O[1],T),H(k,O[1]),R(Z,k,m),q(k,k,O[2]),$(Z,O[2],Z),H(nt,Z),H(et,nt),R(ct,et,nt),R(j,ct,k),R(j,j,Z),ot(j,j),R(j,j,k),R(j,j,Z),R(j,j,Z),R(O[0],j,Z),H(N,O[0]),R(N,N,Z),U(N,k)&&R(O[0],O[0],I),H(N,O[0]),R(N,N,Z),U(N,k)?-1:(J(O[0])===T[31]>>7&&q(O[0],c,O[0]),R(O[3],O[0],O[1]),0)}function W(O,T,j){const N=new Uint8Array(32),k=[s(),s(),s(),s()],Z=[s(),s(),s(),s()];if(j.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(V(Z,O))return!1;const nt=new r.SHA512;nt.update(j.subarray(0,32)),nt.update(O),nt.update(T);const et=nt.digest();return f(et),h(k,Z,et),u(Z,j.subarray(32)),G(k,Z),o(N,k),!Q(j,N)}e.verify=W;function b(O){let T=[s(),s(),s(),s()];if(V(T,O))throw new Error("Ed25519: invalid public key");let j=s(),N=s(),k=T[1];$(j,g,k),q(N,g,k),rt(N,N),R(j,j,N);let Z=new Uint8Array(32);return F(Z,j),Z}e.convertPublicKeyToX25519=b;function L(O){const T=(0,r.hash)(O.subarray(0,32));T[0]&=248,T[31]&=127,T[31]|=64;const j=new Uint8Array(T.subarray(0,32));return(0,i.wipe)(T),j}e.convertSecretKeyToX25519=L}(bd)),bd}var fb=AS();const _S=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),ES=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(i,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function aa(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return ES(e)}catch{return e}}function oo(e){return typeof e=="string"?e:_S(e)||""}const MS={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function Wv(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const s=e[i];r.push(...s.accounts)}),r}var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SS(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var xS={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var n=!i&&typeof self=="object",c=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?s=ub:n&&(s=self);var g=!s.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,m=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],I=[1,256,65536,16777216],D=[6,1536,393216,100663296],C=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],F=[224,256,384,512],Q=[128,256],U=["hex","buffer","arrayBuffer","array","digest"],J={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"}),m&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(b){return typeof b=="object"&&b.buffer&&b.buffer.constructor===ArrayBuffer});for(var z=function(b,L,O){return function(T){return new M(b,L,b).update(T)[O]()}},$=function(b,L,O){return function(T,j){return new M(b,L,j).update(T)[O]()}},q=function(b,L,O){return function(T,j,N,k){return h["cshake"+b].update(T,j,N,k)[O]()}},R=function(b,L,O){return function(T,j,N,k){return h["kmac"+b].update(T,j,N,k)[O]()}},H=function(b,L,O,T){for(var j=0;j<U.length;++j){var N=U[j];b[N]=L(O,T,N)}return b},rt=function(b,L){var O=z(b,L,"hex");return O.create=function(){return new M(b,L,b)},O.update=function(T){return O.create().update(T)},H(O,z,b,L)},ot=function(b,L){var O=$(b,L,"hex");return O.create=function(T){return new M(b,L,T)},O.update=function(T,j){return O.create(j).update(T)},H(O,$,b,L)},G=function(b,L){var O=J[b],T=q(b,L,"hex");return T.create=function(j,N,k){return!N&&!k?h["shake"+b].create(j):new M(b,L,j).bytepad([N,k],O)},T.update=function(j,N,k,Z){return T.create(N,k,Z).update(j)},H(T,q,b,L)},x=function(b,L){var O=J[b],T=R(b,L,"hex");return T.create=function(j,N,k){return new V(b,L,N).bytepad(["KMAC",k],O).bytepad([j],O)},T.update=function(j,N,k,Z){return T.create(j,k,Z).update(N)},H(T,R,b,L)},o=[{name:"keccak",padding:I,bits:F,createMethod:rt},{name:"sha3",padding:D,bits:F,createMethod:rt},{name:"shake",padding:w,bits:Q,createMethod:ot},{name:"cshake",padding:_,bits:Q,createMethod:G},{name:"kmac",padding:_,bits:Q,createMethod:x}],h={},u=[],v=0;v<o.length;++v)for(var y=o[v],A=y.bits,E=0;E<A.length;++E){var p=y.name+"_"+A[E];if(u.push(p),h[p]=y.createMethod(A[E],y.padding),y.name!=="sha3"){var f=y.name+A[E];u.push(f),h[f]=h[p]}}function M(b,L,O){this.blocks=[],this.s=[],this.padding=L,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(b<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}M.prototype.update=function(b){if(this.finalized)throw new Error(r);var L,O=typeof b;if(O!=="string"){if(O==="object"){if(b===null)throw new Error(t);if(m&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!m||!ArrayBuffer.isView(b)))throw new Error(t)}else throw new Error(t);L=!0}for(var T=this.blocks,j=this.byteCount,N=b.length,k=this.blockCount,Z=0,nt=this.s,et,ct;Z<N;){if(this.reset)for(this.reset=!1,T[0]=this.block,et=1;et<k+1;++et)T[et]=0;if(L)for(et=this.start;Z<N&&et<j;++Z)T[et>>2]|=b[Z]<<C[et++&3];else for(et=this.start;Z<N&&et<j;++Z)ct=b.charCodeAt(Z),ct<128?T[et>>2]|=ct<<C[et++&3]:ct<2048?(T[et>>2]|=(192|ct>>6)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]):ct<55296||ct>=57344?(T[et>>2]|=(224|ct>>12)<<C[et++&3],T[et>>2]|=(128|ct>>6&63)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]):(ct=65536+((ct&1023)<<10|b.charCodeAt(++Z)&1023),T[et>>2]|=(240|ct>>18)<<C[et++&3],T[et>>2]|=(128|ct>>12&63)<<C[et++&3],T[et>>2]|=(128|ct>>6&63)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]);if(this.lastByteIndex=et,et>=j){for(this.start=et-j,this.block=T[k],et=0;et<k;++et)nt[et]^=T[et];W(nt),this.reset=!0}else this.start=et}return this},M.prototype.encode=function(b,L){var O=b&255,T=1,j=[O];for(b=b>>8,O=b&255;O>0;)j.unshift(O),b=b>>8,O=b&255,++T;return L?j.push(T):j.unshift(T),this.update(j),j.length},M.prototype.encodeString=function(b){var L,O=typeof b;if(O!=="string"){if(O==="object"){if(b===null)throw new Error(t);if(m&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!m||!ArrayBuffer.isView(b)))throw new Error(t)}else throw new Error(t);L=!0}var T=0,j=b.length;if(L)T=j;else for(var N=0;N<b.length;++N){var k=b.charCodeAt(N);k<128?T+=1:k<2048?T+=2:k<55296||k>=57344?T+=3:(k=65536+((k&1023)<<10|b.charCodeAt(++N)&1023),T+=4)}return T+=this.encode(T*8),this.update(b),T},M.prototype.bytepad=function(b,L){for(var O=this.encode(L),T=0;T<b.length;++T)O+=this.encodeString(b[T]);var j=L-O%L,N=[];return N.length=j,this.update(N),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var b=this.blocks,L=this.lastByteIndex,O=this.blockCount,T=this.s;if(b[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(b[0]=b[O],L=1;L<O+1;++L)b[L]=0;for(b[O-1]|=2147483648,L=0;L<O;++L)T[L]^=b[L];W(T)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k="",Z;N<O;){for(j=0;j<b&&N<O;++j,++N)Z=L[j],k+=l[Z>>4&15]+l[Z&15]+l[Z>>12&15]+l[Z>>8&15]+l[Z>>20&15]+l[Z>>16&15]+l[Z>>28&15]+l[Z>>24&15];N%b===0&&(W(L),j=0)}return T&&(Z=L[j],k+=l[Z>>4&15]+l[Z&15],T>1&&(k+=l[Z>>12&15]+l[Z>>8&15]),T>2&&(k+=l[Z>>20&15]+l[Z>>16&15])),k},M.prototype.arrayBuffer=function(){this.finalize();var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k=this.outputBits>>3,Z;T?Z=new ArrayBuffer(O+1<<2):Z=new ArrayBuffer(k);for(var nt=new Uint32Array(Z);N<O;){for(j=0;j<b&&N<O;++j,++N)nt[N]=L[j];N%b===0&&W(L)}return T&&(nt[j]=L[j],Z=Z.slice(0,k)),Z},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k=[],Z,nt;N<O;){for(j=0;j<b&&N<O;++j,++N)Z=N<<2,nt=L[j],k[Z]=nt&255,k[Z+1]=nt>>8&255,k[Z+2]=nt>>16&255,k[Z+3]=nt>>24&255;N%b===0&&W(L)}return T&&(Z=N<<2,nt=L[j],k[Z]=nt&255,T>1&&(k[Z+1]=nt>>8&255),T>2&&(k[Z+2]=nt>>16&255)),k};function V(b,L,O){M.call(this,b,L,O)}V.prototype=new M,V.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var W=function(b){var L,O,T,j,N,k,Z,nt,et,ct,pt,bt,ie,yt,_t,Gt,lt,wt,Yt,ut,At,Kt,dt,It,Jt,vt,Rt,te,mt,Pt,ce,Tt,Vt,le,Ft,Wt,pe,Mt,Lt,oe,St,kt,ne,Dt,jt,ae,Nt,zt,fe,xt,Ut,ue,Ct,Xt,be,Ht,Qt,ze,$e,He,je,Ke,xe;for(T=0;T<48;T+=2)j=b[0]^b[10]^b[20]^b[30]^b[40],N=b[1]^b[11]^b[21]^b[31]^b[41],k=b[2]^b[12]^b[22]^b[32]^b[42],Z=b[3]^b[13]^b[23]^b[33]^b[43],nt=b[4]^b[14]^b[24]^b[34]^b[44],et=b[5]^b[15]^b[25]^b[35]^b[45],ct=b[6]^b[16]^b[26]^b[36]^b[46],pt=b[7]^b[17]^b[27]^b[37]^b[47],bt=b[8]^b[18]^b[28]^b[38]^b[48],ie=b[9]^b[19]^b[29]^b[39]^b[49],L=bt^(k<<1|Z>>>31),O=ie^(Z<<1|k>>>31),b[0]^=L,b[1]^=O,b[10]^=L,b[11]^=O,b[20]^=L,b[21]^=O,b[30]^=L,b[31]^=O,b[40]^=L,b[41]^=O,L=j^(nt<<1|et>>>31),O=N^(et<<1|nt>>>31),b[2]^=L,b[3]^=O,b[12]^=L,b[13]^=O,b[22]^=L,b[23]^=O,b[32]^=L,b[33]^=O,b[42]^=L,b[43]^=O,L=k^(ct<<1|pt>>>31),O=Z^(pt<<1|ct>>>31),b[4]^=L,b[5]^=O,b[14]^=L,b[15]^=O,b[24]^=L,b[25]^=O,b[34]^=L,b[35]^=O,b[44]^=L,b[45]^=O,L=nt^(bt<<1|ie>>>31),O=et^(ie<<1|bt>>>31),b[6]^=L,b[7]^=O,b[16]^=L,b[17]^=O,b[26]^=L,b[27]^=O,b[36]^=L,b[37]^=O,b[46]^=L,b[47]^=O,L=ct^(j<<1|N>>>31),O=pt^(N<<1|j>>>31),b[8]^=L,b[9]^=O,b[18]^=L,b[19]^=O,b[28]^=L,b[29]^=O,b[38]^=L,b[39]^=O,b[48]^=L,b[49]^=O,yt=b[0],_t=b[1],ae=b[11]<<4|b[10]>>>28,Nt=b[10]<<4|b[11]>>>28,te=b[20]<<3|b[21]>>>29,mt=b[21]<<3|b[20]>>>29,He=b[31]<<9|b[30]>>>23,je=b[30]<<9|b[31]>>>23,kt=b[40]<<18|b[41]>>>14,ne=b[41]<<18|b[40]>>>14,le=b[2]<<1|b[3]>>>31,Ft=b[3]<<1|b[2]>>>31,Gt=b[13]<<12|b[12]>>>20,lt=b[12]<<12|b[13]>>>20,zt=b[22]<<10|b[23]>>>22,fe=b[23]<<10|b[22]>>>22,Pt=b[33]<<13|b[32]>>>19,ce=b[32]<<13|b[33]>>>19,Ke=b[42]<<2|b[43]>>>30,xe=b[43]<<2|b[42]>>>30,Xt=b[5]<<30|b[4]>>>2,be=b[4]<<30|b[5]>>>2,Wt=b[14]<<6|b[15]>>>26,pe=b[15]<<6|b[14]>>>26,wt=b[25]<<11|b[24]>>>21,Yt=b[24]<<11|b[25]>>>21,xt=b[34]<<15|b[35]>>>17,Ut=b[35]<<15|b[34]>>>17,Tt=b[45]<<29|b[44]>>>3,Vt=b[44]<<29|b[45]>>>3,It=b[6]<<28|b[7]>>>4,Jt=b[7]<<28|b[6]>>>4,Ht=b[17]<<23|b[16]>>>9,Qt=b[16]<<23|b[17]>>>9,Mt=b[26]<<25|b[27]>>>7,Lt=b[27]<<25|b[26]>>>7,ut=b[36]<<21|b[37]>>>11,At=b[37]<<21|b[36]>>>11,ue=b[47]<<24|b[46]>>>8,Ct=b[46]<<24|b[47]>>>8,Dt=b[8]<<27|b[9]>>>5,jt=b[9]<<27|b[8]>>>5,vt=b[18]<<20|b[19]>>>12,Rt=b[19]<<20|b[18]>>>12,ze=b[29]<<7|b[28]>>>25,$e=b[28]<<7|b[29]>>>25,oe=b[38]<<8|b[39]>>>24,St=b[39]<<8|b[38]>>>24,Kt=b[48]<<14|b[49]>>>18,dt=b[49]<<14|b[48]>>>18,b[0]=yt^~Gt&wt,b[1]=_t^~lt&Yt,b[10]=It^~vt&te,b[11]=Jt^~Rt&mt,b[20]=le^~Wt&Mt,b[21]=Ft^~pe&Lt,b[30]=Dt^~ae&zt,b[31]=jt^~Nt&fe,b[40]=Xt^~Ht&ze,b[41]=be^~Qt&$e,b[2]=Gt^~wt&ut,b[3]=lt^~Yt&At,b[12]=vt^~te&Pt,b[13]=Rt^~mt&ce,b[22]=Wt^~Mt&oe,b[23]=pe^~Lt&St,b[32]=ae^~zt&xt,b[33]=Nt^~fe&Ut,b[42]=Ht^~ze&He,b[43]=Qt^~$e&je,b[4]=wt^~ut&Kt,b[5]=Yt^~At&dt,b[14]=te^~Pt&Tt,b[15]=mt^~ce&Vt,b[24]=Mt^~oe&kt,b[25]=Lt^~St&ne,b[34]=zt^~xt&ue,b[35]=fe^~Ut&Ct,b[44]=ze^~He&Ke,b[45]=$e^~je&xe,b[6]=ut^~Kt&yt,b[7]=At^~dt&_t,b[16]=Pt^~Tt&It,b[17]=ce^~Vt&Jt,b[26]=oe^~kt&le,b[27]=St^~ne&Ft,b[36]=xt^~ue&Dt,b[37]=Ut^~Ct&jt,b[46]=He^~Ke&Xt,b[47]=je^~xe&be,b[8]=Kt^~yt&Gt,b[9]=dt^~_t&lt,b[18]=Tt^~It&vt,b[19]=Vt^~Jt&Rt,b[28]=kt^~le&Wt,b[29]=ne^~Ft&pe,b[38]=ue^~Dt&ae,b[39]=Ct^~jt&Nt,b[48]=Ke^~Xt&Ht,b[49]=xe^~be&Qt,b[0]^=B[T],b[1]^=B[T+1]};if(g)e.exports=h;else for(v=0;v<u.length;++v)s[u[v]]=h[u[v]]})()})(xS);const IS="logger/5.7.0";let Xv=!1,Zv=!1;const Ac={debug:1,default:2,info:2,warning:3,error:4,off:5};let t3=Ac.default,wd=null;function DS(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(e){return e.message}return null}const e3=DS();var I1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(I1||(I1={}));var Fn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Fn||(Fn={}));const r3="0123456789abcdef";let Ti=class Fr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Ac[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(t3>Ac[i])&&console.log.apply(console,r)}debug(...t){this._log(Fr.levels.DEBUG,t)}info(...t){this._log(Fr.levels.INFO,t)}warn(...t){this._log(Fr.levels.WARNING,t)}makeError(t,r,i){if(Zv)return this.makeError("censored error",r,{});r||(r=Fr.errors.UNKNOWN_ERROR),i||(i={});const s=[];Object.keys(i).forEach(m=>{const l=i[m];try{if(l instanceof Uint8Array){let w="";for(let _=0;_<l.length;_++)w+=r3[l[_]>>4],w+=r3[l[_]&15];s.push(m+"=Uint8Array(0x"+w+")")}else s.push(m+"="+JSON.stringify(l))}catch{s.push(m+"="+JSON.stringify(i[m].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const n=t;let c="";switch(r){case Fn.NUMERIC_FAULT:{c="NUMERIC_FAULT";const m=t;switch(m){case"overflow":case"underflow":case"division-by-zero":c+="-"+m;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Fn.CALL_EXCEPTION:case Fn.INSUFFICIENT_FUNDS:case Fn.MISSING_NEW:case Fn.NONCE_EXPIRED:case Fn.REPLACEMENT_UNDERPRICED:case Fn.TRANSACTION_REPLACED:case Fn.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),s.length&&(t+=" ("+s.join(", ")+")");const g=new Error(t);return g.reason=n,g.code=r,Object.keys(i).forEach(function(m){g[m]=i[m]}),g}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Fr.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,s){t||this.throwError(r,i,s)}assertArgument(t,r,i,s){t||this.throwArgumentError(r,i,s)}checkNormalize(t){e3&&this.throwError("platform missing String.prototype.normalize",Fr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:e3})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Fr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Fr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Fr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Fr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Fr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Fr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Fr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return wd||(wd=new Fr(IS)),wd}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Fr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Xv){if(!t)return;this.globalLogger().throwError("error censorship permanent",Fr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zv=!!t,Xv=!!r}static setLogLevel(t){const r=Ac[t.toLowerCase()];if(r==null){Fr.globalLogger().warn("invalid log level - "+t);return}t3=r}static from(t){return new Fr(t)}};Ti.errors=Fn,Ti.levels=I1;const NS="bytes/5.7.0",Oo=new Ti(NS);function cb(e){return!!e.toHexString}function _c(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return _c(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function i3(e){return typeof e=="number"&&e==e&&e%1===0}function Rf(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!i3(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!i3(r)||r<0||r>=256)return!1}return!0}function lb(e,t){if(t||(t={}),typeof e=="number"){Oo.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),_c(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),cb(e)&&(e=e.toHexString()),Xa(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Oo.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let s=0;s<r.length;s+=2)i.push(parseInt(r.substring(s,s+2),16));return _c(new Uint8Array(i))}return Rf(e)?_c(new Uint8Array(e)):Oo.throwArgumentError("invalid arrayify value","value",e)}function Xa(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Ad="0123456789abcdef";function db(e,t){if(t||(t={}),typeof e=="number"){Oo.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=Ad[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),cb(e))return e.toHexString();if(Xa(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Oo.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Rf(e)){let r="0x";for(let i=0;i<e.length;i++){let s=e[i];r+=Ad[(s&240)>>4]+Ad[s&15]}return r}return Oo.throwArgumentError("invalid hexlify value","value",e)}function Uc(e,t){for(typeof e!="string"?e=db(e):Xa(e)||Oo.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Oo.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var pb={exports:{}},CS={},RS=Object.freeze({__proto__:null,default:CS}),PS=SS(RS);(function(e){(function(t,r){function i(o,h){if(!o)throw new Error(h||"Assertion failed")}function s(o,h){o.super_=h;var u=function(){};u.prototype=h.prototype,o.prototype=new u,o.prototype.constructor=o}function n(o,h,u){if(n.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(u=h,h=10),this._init(o||0,h||10,u||"be"))}typeof t=="object"?t.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=PS.Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,h){return o.cmp(h)>0?o:h},n.min=function(o,h){return o.cmp(h)<0?o:h},n.prototype._init=function(o,h,u){if(typeof o=="number")return this._initNumber(o,h,u);if(typeof o=="object")return this._initArray(o,h,u);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(h===16?this._parseHex(o,v,u):(this._parseBase(o,h,v),u==="le"&&this._initArray(this.toArray(),h,u)))},n.prototype._initNumber=function(o,h,u){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),h,u)},n.prototype._initArray=function(o,h,u){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,A,E=0;if(u==="be")for(v=o.length-1,y=0;v>=0;v-=3)A=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[y]|=A<<E&67108863,this.words[y+1]=A>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);else if(u==="le")for(v=0,y=0;v<o.length;v+=3)A=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[y]|=A<<E&67108863,this.words[y+1]=A>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);return this._strip()};function g(o,h){var u=o.charCodeAt(h);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;i(!1,"Invalid character in "+o)}function m(o,h,u){var v=g(o,u);return u-1>=h&&(v|=g(o,u-1)<<4),v}n.prototype._parseHex=function(o,h,u){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y=0,A=0,E;if(u==="be")for(v=o.length-1;v>=h;v-=2)E=m(o,h,v)<<y,this.words[A]|=E&67108863,y>=18?(y-=18,A+=1,this.words[A]|=E>>>26):y+=8;else{var p=o.length-h;for(v=p%2===0?h+1:h;v<o.length;v+=2)E=m(o,h,v)<<y,this.words[A]|=E&67108863,y>=18?(y-=18,A+=1,this.words[A]|=E>>>26):y+=8}this._strip()};function l(o,h,u,v){for(var y=0,A=0,E=Math.min(o.length,u),p=h;p<E;p++){var f=o.charCodeAt(p)-48;y*=v,f>=49?A=f-49+10:f>=17?A=f-17+10:A=f,i(f>=0&&A<v,"Invalid character"),y+=A}return y}n.prototype._parseBase=function(o,h,u){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=h)v++;v--,y=y/h|0;for(var A=o.length-u,E=A%v,p=Math.min(A,A-E)+u,f=0,M=u;M<p;M+=v)f=l(o,M,M+v,h),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var V=1;for(f=l(o,M,o.length,h),M=0;M<E;M++)V*=h;this.imuln(V),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function w(o,h){o.words=h.words,o.length=h.length,o.negative=h.negative,o.red=h.red}if(n.prototype._move=function(o){w(o,this)},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{n.prototype.inspect=_}else n.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,h){o=o||10,h=h|0||1;var u;if(o===16||o==="hex"){u="";for(var v=0,y=0,A=0;A<this.length;A++){var E=this.words[A],p=((E<<v|y)&16777215).toString(16);y=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,A--),y!==0||A!==this.length-1?u=I[6-p.length]+p+u:u=p+u}for(y!==0&&(u=y.toString(16)+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(o===(o|0)&&o>=2&&o<=36){var f=D[o],M=C[o];u="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modrn(M).toString(o);V=V.idivn(M),V.isZero()?u=W+u:u=I[f-W.length]+W+u}for(this.isZero()&&(u="0"+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16,2)},c&&(n.prototype.toBuffer=function(o,h){return this.toArrayLike(c,o,h)}),n.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var B=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};n.prototype.toArrayLike=function(o,h,u){this._strip();var v=this.byteLength(),y=u||Math.max(1,v);i(v<=y,"byte array longer than desired length"),i(y>0,"Requested array length <= 0");var A=B(o,y),E=h==="le"?"LE":"BE";return this["_toArrayLike"+E](A,v),A},n.prototype._toArrayLikeLE=function(o,h){for(var u=0,v=0,y=0,A=0;y<this.length;y++){var E=this.words[y]<<A|v;o[u++]=E&255,u<o.length&&(o[u++]=E>>8&255),u<o.length&&(o[u++]=E>>16&255),A===6?(u<o.length&&(o[u++]=E>>24&255),v=0,A=0):(v=E>>>24,A+=2)}if(u<o.length)for(o[u++]=v;u<o.length;)o[u++]=0},n.prototype._toArrayLikeBE=function(o,h){for(var u=o.length-1,v=0,y=0,A=0;y<this.length;y++){var E=this.words[y]<<A|v;o[u--]=E&255,u>=0&&(o[u--]=E>>8&255),u>=0&&(o[u--]=E>>16&255),A===6?(u>=0&&(o[u--]=E>>24&255),v=0,A=0):(v=E>>>24,A+=2)}if(u>=0)for(o[u--]=v;u>=0;)o[u--]=0},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var h=o,u=0;return h>=4096&&(u+=13,h>>>=13),h>=64&&(u+=7,h>>>=7),h>=8&&(u+=4,h>>>=4),h>=2&&(u+=2,h>>>=2),u+h},n.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,u=0;return h&8191||(u+=13,h>>>=13),h&127||(u+=7,h>>>=7),h&15||(u+=4,h>>>=4),h&3||(u+=2,h>>>=2),h&1||u++,u},n.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function F(o){for(var h=new Array(o.bitLength()),u=0;u<h.length;u++){var v=u/26|0,y=u%26;h[u]=o.words[v]>>>y&1}return h}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var u=this._zeroBits(this.words[h]);if(o+=u,u!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var u=0;u<h.length;u++)this.words[u]=this.words[u]&o.words[u];return this.length=h.length,this._strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var h,u;this.length>o.length?(h=this,u=o):(h=o,u=this);for(var v=0;v<u.length;v++)this.words[v]=h.words[v]^u.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,u=o%26;this._expand(h),u>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return u>0&&(this.words[v]=~this.words[v]&67108863>>26-u),this._strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,h){i(typeof o=="number"&&o>=0);var u=o/26|0,v=o%26;return this._expand(u+1),h?this.words[u]=this.words[u]|1<<v:this.words[u]=this.words[u]&~(1<<v),this._strip()},n.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var u,v;this.length>o.length?(u=this,v=o):(u=o,v=this);for(var y=0,A=0;A<v.length;A++)h=(u.words[A]|0)+(v.words[A]|0)+y,this.words[A]=h&67108863,y=h>>>26;for(;y!==0&&A<u.length;A++)h=(u.words[A]|0)+y,this.words[A]=h&67108863,y=h>>>26;if(this.length=u.length,y!==0)this.words[this.length]=y,this.length++;else if(u!==this)for(;A<u.length;A++)this.words[A]=u.words[A];return this},n.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var u=this.cmp(o);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,y;u>0?(v=this,y=o):(v=o,y=this);for(var A=0,E=0;E<y.length;E++)h=(v.words[E]|0)-(y.words[E]|0)+A,A=h>>26,this.words[E]=h&67108863;for(;A!==0&&E<v.length;E++)h=(v.words[E]|0)+A,A=h>>26,this.words[E]=h&67108863;if(A===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function Q(o,h,u){u.negative=h.negative^o.negative;var v=o.length+h.length|0;u.length=v,v=v-1|0;var y=o.words[0]|0,A=h.words[0]|0,E=y*A,p=E&67108863,f=E/67108864|0;u.words[0]=p;for(var M=1;M<v;M++){for(var V=f>>>26,W=f&67108863,b=Math.min(M,h.length-1),L=Math.max(0,M-o.length+1);L<=b;L++){var O=M-L|0;y=o.words[O]|0,A=h.words[L]|0,E=y*A+W,V+=E/67108864|0,W=E&67108863}u.words[M]=W|0,f=V|0}return f!==0?u.words[M]=f|0:u.length--,u._strip()}var U=function(o,h,u){var v=o.words,y=h.words,A=u.words,E=0,p,f,M,V=v[0]|0,W=V&8191,b=V>>>13,L=v[1]|0,O=L&8191,T=L>>>13,j=v[2]|0,N=j&8191,k=j>>>13,Z=v[3]|0,nt=Z&8191,et=Z>>>13,ct=v[4]|0,pt=ct&8191,bt=ct>>>13,ie=v[5]|0,yt=ie&8191,_t=ie>>>13,Gt=v[6]|0,lt=Gt&8191,wt=Gt>>>13,Yt=v[7]|0,ut=Yt&8191,At=Yt>>>13,Kt=v[8]|0,dt=Kt&8191,It=Kt>>>13,Jt=v[9]|0,vt=Jt&8191,Rt=Jt>>>13,te=y[0]|0,mt=te&8191,Pt=te>>>13,ce=y[1]|0,Tt=ce&8191,Vt=ce>>>13,le=y[2]|0,Ft=le&8191,Wt=le>>>13,pe=y[3]|0,Mt=pe&8191,Lt=pe>>>13,oe=y[4]|0,St=oe&8191,kt=oe>>>13,ne=y[5]|0,Dt=ne&8191,jt=ne>>>13,ae=y[6]|0,Nt=ae&8191,zt=ae>>>13,fe=y[7]|0,xt=fe&8191,Ut=fe>>>13,ue=y[8]|0,Ct=ue&8191,Xt=ue>>>13,be=y[9]|0,Ht=be&8191,Qt=be>>>13;u.negative=o.negative^h.negative,u.length=19,p=Math.imul(W,mt),f=Math.imul(W,Pt),f=f+Math.imul(b,mt)|0,M=Math.imul(b,Pt);var ze=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,p=Math.imul(O,mt),f=Math.imul(O,Pt),f=f+Math.imul(T,mt)|0,M=Math.imul(T,Pt),p=p+Math.imul(W,Tt)|0,f=f+Math.imul(W,Vt)|0,f=f+Math.imul(b,Tt)|0,M=M+Math.imul(b,Vt)|0;var $e=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+($e>>>26)|0,$e&=67108863,p=Math.imul(N,mt),f=Math.imul(N,Pt),f=f+Math.imul(k,mt)|0,M=Math.imul(k,Pt),p=p+Math.imul(O,Tt)|0,f=f+Math.imul(O,Vt)|0,f=f+Math.imul(T,Tt)|0,M=M+Math.imul(T,Vt)|0,p=p+Math.imul(W,Ft)|0,f=f+Math.imul(W,Wt)|0,f=f+Math.imul(b,Ft)|0,M=M+Math.imul(b,Wt)|0;var He=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(nt,mt),f=Math.imul(nt,Pt),f=f+Math.imul(et,mt)|0,M=Math.imul(et,Pt),p=p+Math.imul(N,Tt)|0,f=f+Math.imul(N,Vt)|0,f=f+Math.imul(k,Tt)|0,M=M+Math.imul(k,Vt)|0,p=p+Math.imul(O,Ft)|0,f=f+Math.imul(O,Wt)|0,f=f+Math.imul(T,Ft)|0,M=M+Math.imul(T,Wt)|0,p=p+Math.imul(W,Mt)|0,f=f+Math.imul(W,Lt)|0,f=f+Math.imul(b,Mt)|0,M=M+Math.imul(b,Lt)|0;var je=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(je>>>26)|0,je&=67108863,p=Math.imul(pt,mt),f=Math.imul(pt,Pt),f=f+Math.imul(bt,mt)|0,M=Math.imul(bt,Pt),p=p+Math.imul(nt,Tt)|0,f=f+Math.imul(nt,Vt)|0,f=f+Math.imul(et,Tt)|0,M=M+Math.imul(et,Vt)|0,p=p+Math.imul(N,Ft)|0,f=f+Math.imul(N,Wt)|0,f=f+Math.imul(k,Ft)|0,M=M+Math.imul(k,Wt)|0,p=p+Math.imul(O,Mt)|0,f=f+Math.imul(O,Lt)|0,f=f+Math.imul(T,Mt)|0,M=M+Math.imul(T,Lt)|0,p=p+Math.imul(W,St)|0,f=f+Math.imul(W,kt)|0,f=f+Math.imul(b,St)|0,M=M+Math.imul(b,kt)|0;var Ke=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(yt,mt),f=Math.imul(yt,Pt),f=f+Math.imul(_t,mt)|0,M=Math.imul(_t,Pt),p=p+Math.imul(pt,Tt)|0,f=f+Math.imul(pt,Vt)|0,f=f+Math.imul(bt,Tt)|0,M=M+Math.imul(bt,Vt)|0,p=p+Math.imul(nt,Ft)|0,f=f+Math.imul(nt,Wt)|0,f=f+Math.imul(et,Ft)|0,M=M+Math.imul(et,Wt)|0,p=p+Math.imul(N,Mt)|0,f=f+Math.imul(N,Lt)|0,f=f+Math.imul(k,Mt)|0,M=M+Math.imul(k,Lt)|0,p=p+Math.imul(O,St)|0,f=f+Math.imul(O,kt)|0,f=f+Math.imul(T,St)|0,M=M+Math.imul(T,kt)|0,p=p+Math.imul(W,Dt)|0,f=f+Math.imul(W,jt)|0,f=f+Math.imul(b,Dt)|0,M=M+Math.imul(b,jt)|0;var xe=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(xe>>>26)|0,xe&=67108863,p=Math.imul(lt,mt),f=Math.imul(lt,Pt),f=f+Math.imul(wt,mt)|0,M=Math.imul(wt,Pt),p=p+Math.imul(yt,Tt)|0,f=f+Math.imul(yt,Vt)|0,f=f+Math.imul(_t,Tt)|0,M=M+Math.imul(_t,Vt)|0,p=p+Math.imul(pt,Ft)|0,f=f+Math.imul(pt,Wt)|0,f=f+Math.imul(bt,Ft)|0,M=M+Math.imul(bt,Wt)|0,p=p+Math.imul(nt,Mt)|0,f=f+Math.imul(nt,Lt)|0,f=f+Math.imul(et,Mt)|0,M=M+Math.imul(et,Lt)|0,p=p+Math.imul(N,St)|0,f=f+Math.imul(N,kt)|0,f=f+Math.imul(k,St)|0,M=M+Math.imul(k,kt)|0,p=p+Math.imul(O,Dt)|0,f=f+Math.imul(O,jt)|0,f=f+Math.imul(T,Dt)|0,M=M+Math.imul(T,jt)|0,p=p+Math.imul(W,Nt)|0,f=f+Math.imul(W,zt)|0,f=f+Math.imul(b,Nt)|0,M=M+Math.imul(b,zt)|0;var dr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(ut,mt),f=Math.imul(ut,Pt),f=f+Math.imul(At,mt)|0,M=Math.imul(At,Pt),p=p+Math.imul(lt,Tt)|0,f=f+Math.imul(lt,Vt)|0,f=f+Math.imul(wt,Tt)|0,M=M+Math.imul(wt,Vt)|0,p=p+Math.imul(yt,Ft)|0,f=f+Math.imul(yt,Wt)|0,f=f+Math.imul(_t,Ft)|0,M=M+Math.imul(_t,Wt)|0,p=p+Math.imul(pt,Mt)|0,f=f+Math.imul(pt,Lt)|0,f=f+Math.imul(bt,Mt)|0,M=M+Math.imul(bt,Lt)|0,p=p+Math.imul(nt,St)|0,f=f+Math.imul(nt,kt)|0,f=f+Math.imul(et,St)|0,M=M+Math.imul(et,kt)|0,p=p+Math.imul(N,Dt)|0,f=f+Math.imul(N,jt)|0,f=f+Math.imul(k,Dt)|0,M=M+Math.imul(k,jt)|0,p=p+Math.imul(O,Nt)|0,f=f+Math.imul(O,zt)|0,f=f+Math.imul(T,Nt)|0,M=M+Math.imul(T,zt)|0,p=p+Math.imul(W,xt)|0,f=f+Math.imul(W,Ut)|0,f=f+Math.imul(b,xt)|0,M=M+Math.imul(b,Ut)|0;var Dr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,p=Math.imul(dt,mt),f=Math.imul(dt,Pt),f=f+Math.imul(It,mt)|0,M=Math.imul(It,Pt),p=p+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Vt)|0,f=f+Math.imul(At,Tt)|0,M=M+Math.imul(At,Vt)|0,p=p+Math.imul(lt,Ft)|0,f=f+Math.imul(lt,Wt)|0,f=f+Math.imul(wt,Ft)|0,M=M+Math.imul(wt,Wt)|0,p=p+Math.imul(yt,Mt)|0,f=f+Math.imul(yt,Lt)|0,f=f+Math.imul(_t,Mt)|0,M=M+Math.imul(_t,Lt)|0,p=p+Math.imul(pt,St)|0,f=f+Math.imul(pt,kt)|0,f=f+Math.imul(bt,St)|0,M=M+Math.imul(bt,kt)|0,p=p+Math.imul(nt,Dt)|0,f=f+Math.imul(nt,jt)|0,f=f+Math.imul(et,Dt)|0,M=M+Math.imul(et,jt)|0,p=p+Math.imul(N,Nt)|0,f=f+Math.imul(N,zt)|0,f=f+Math.imul(k,Nt)|0,M=M+Math.imul(k,zt)|0,p=p+Math.imul(O,xt)|0,f=f+Math.imul(O,Ut)|0,f=f+Math.imul(T,xt)|0,M=M+Math.imul(T,Ut)|0,p=p+Math.imul(W,Ct)|0,f=f+Math.imul(W,Xt)|0,f=f+Math.imul(b,Ct)|0,M=M+Math.imul(b,Xt)|0;var pr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(vt,mt),f=Math.imul(vt,Pt),f=f+Math.imul(Rt,mt)|0,M=Math.imul(Rt,Pt),p=p+Math.imul(dt,Tt)|0,f=f+Math.imul(dt,Vt)|0,f=f+Math.imul(It,Tt)|0,M=M+Math.imul(It,Vt)|0,p=p+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Wt)|0,f=f+Math.imul(At,Ft)|0,M=M+Math.imul(At,Wt)|0,p=p+Math.imul(lt,Mt)|0,f=f+Math.imul(lt,Lt)|0,f=f+Math.imul(wt,Mt)|0,M=M+Math.imul(wt,Lt)|0,p=p+Math.imul(yt,St)|0,f=f+Math.imul(yt,kt)|0,f=f+Math.imul(_t,St)|0,M=M+Math.imul(_t,kt)|0,p=p+Math.imul(pt,Dt)|0,f=f+Math.imul(pt,jt)|0,f=f+Math.imul(bt,Dt)|0,M=M+Math.imul(bt,jt)|0,p=p+Math.imul(nt,Nt)|0,f=f+Math.imul(nt,zt)|0,f=f+Math.imul(et,Nt)|0,M=M+Math.imul(et,zt)|0,p=p+Math.imul(N,xt)|0,f=f+Math.imul(N,Ut)|0,f=f+Math.imul(k,xt)|0,M=M+Math.imul(k,Ut)|0,p=p+Math.imul(O,Ct)|0,f=f+Math.imul(O,Xt)|0,f=f+Math.imul(T,Ct)|0,M=M+Math.imul(T,Xt)|0,p=p+Math.imul(W,Ht)|0,f=f+Math.imul(W,Qt)|0,f=f+Math.imul(b,Ht)|0,M=M+Math.imul(b,Qt)|0;var Nr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,p=Math.imul(vt,Tt),f=Math.imul(vt,Vt),f=f+Math.imul(Rt,Tt)|0,M=Math.imul(Rt,Vt),p=p+Math.imul(dt,Ft)|0,f=f+Math.imul(dt,Wt)|0,f=f+Math.imul(It,Ft)|0,M=M+Math.imul(It,Wt)|0,p=p+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(At,Mt)|0,M=M+Math.imul(At,Lt)|0,p=p+Math.imul(lt,St)|0,f=f+Math.imul(lt,kt)|0,f=f+Math.imul(wt,St)|0,M=M+Math.imul(wt,kt)|0,p=p+Math.imul(yt,Dt)|0,f=f+Math.imul(yt,jt)|0,f=f+Math.imul(_t,Dt)|0,M=M+Math.imul(_t,jt)|0,p=p+Math.imul(pt,Nt)|0,f=f+Math.imul(pt,zt)|0,f=f+Math.imul(bt,Nt)|0,M=M+Math.imul(bt,zt)|0,p=p+Math.imul(nt,xt)|0,f=f+Math.imul(nt,Ut)|0,f=f+Math.imul(et,xt)|0,M=M+Math.imul(et,Ut)|0,p=p+Math.imul(N,Ct)|0,f=f+Math.imul(N,Xt)|0,f=f+Math.imul(k,Ct)|0,M=M+Math.imul(k,Xt)|0,p=p+Math.imul(O,Ht)|0,f=f+Math.imul(O,Qt)|0,f=f+Math.imul(T,Ht)|0,M=M+Math.imul(T,Qt)|0;var Cr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,p=Math.imul(vt,Ft),f=Math.imul(vt,Wt),f=f+Math.imul(Rt,Ft)|0,M=Math.imul(Rt,Wt),p=p+Math.imul(dt,Mt)|0,f=f+Math.imul(dt,Lt)|0,f=f+Math.imul(It,Mt)|0,M=M+Math.imul(It,Lt)|0,p=p+Math.imul(ut,St)|0,f=f+Math.imul(ut,kt)|0,f=f+Math.imul(At,St)|0,M=M+Math.imul(At,kt)|0,p=p+Math.imul(lt,Dt)|0,f=f+Math.imul(lt,jt)|0,f=f+Math.imul(wt,Dt)|0,M=M+Math.imul(wt,jt)|0,p=p+Math.imul(yt,Nt)|0,f=f+Math.imul(yt,zt)|0,f=f+Math.imul(_t,Nt)|0,M=M+Math.imul(_t,zt)|0,p=p+Math.imul(pt,xt)|0,f=f+Math.imul(pt,Ut)|0,f=f+Math.imul(bt,xt)|0,M=M+Math.imul(bt,Ut)|0,p=p+Math.imul(nt,Ct)|0,f=f+Math.imul(nt,Xt)|0,f=f+Math.imul(et,Ct)|0,M=M+Math.imul(et,Xt)|0,p=p+Math.imul(N,Ht)|0,f=f+Math.imul(N,Qt)|0,f=f+Math.imul(k,Ht)|0,M=M+Math.imul(k,Qt)|0;var gr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(vt,Mt),f=Math.imul(vt,Lt),f=f+Math.imul(Rt,Mt)|0,M=Math.imul(Rt,Lt),p=p+Math.imul(dt,St)|0,f=f+Math.imul(dt,kt)|0,f=f+Math.imul(It,St)|0,M=M+Math.imul(It,kt)|0,p=p+Math.imul(ut,Dt)|0,f=f+Math.imul(ut,jt)|0,f=f+Math.imul(At,Dt)|0,M=M+Math.imul(At,jt)|0,p=p+Math.imul(lt,Nt)|0,f=f+Math.imul(lt,zt)|0,f=f+Math.imul(wt,Nt)|0,M=M+Math.imul(wt,zt)|0,p=p+Math.imul(yt,xt)|0,f=f+Math.imul(yt,Ut)|0,f=f+Math.imul(_t,xt)|0,M=M+Math.imul(_t,Ut)|0,p=p+Math.imul(pt,Ct)|0,f=f+Math.imul(pt,Xt)|0,f=f+Math.imul(bt,Ct)|0,M=M+Math.imul(bt,Xt)|0,p=p+Math.imul(nt,Ht)|0,f=f+Math.imul(nt,Qt)|0,f=f+Math.imul(et,Ht)|0,M=M+Math.imul(et,Qt)|0;var Mr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,p=Math.imul(vt,St),f=Math.imul(vt,kt),f=f+Math.imul(Rt,St)|0,M=Math.imul(Rt,kt),p=p+Math.imul(dt,Dt)|0,f=f+Math.imul(dt,jt)|0,f=f+Math.imul(It,Dt)|0,M=M+Math.imul(It,jt)|0,p=p+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,zt)|0,f=f+Math.imul(At,Nt)|0,M=M+Math.imul(At,zt)|0,p=p+Math.imul(lt,xt)|0,f=f+Math.imul(lt,Ut)|0,f=f+Math.imul(wt,xt)|0,M=M+Math.imul(wt,Ut)|0,p=p+Math.imul(yt,Ct)|0,f=f+Math.imul(yt,Xt)|0,f=f+Math.imul(_t,Ct)|0,M=M+Math.imul(_t,Xt)|0,p=p+Math.imul(pt,Ht)|0,f=f+Math.imul(pt,Qt)|0,f=f+Math.imul(bt,Ht)|0,M=M+Math.imul(bt,Qt)|0;var Sr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,p=Math.imul(vt,Dt),f=Math.imul(vt,jt),f=f+Math.imul(Rt,Dt)|0,M=Math.imul(Rt,jt),p=p+Math.imul(dt,Nt)|0,f=f+Math.imul(dt,zt)|0,f=f+Math.imul(It,Nt)|0,M=M+Math.imul(It,zt)|0,p=p+Math.imul(ut,xt)|0,f=f+Math.imul(ut,Ut)|0,f=f+Math.imul(At,xt)|0,M=M+Math.imul(At,Ut)|0,p=p+Math.imul(lt,Ct)|0,f=f+Math.imul(lt,Xt)|0,f=f+Math.imul(wt,Ct)|0,M=M+Math.imul(wt,Xt)|0,p=p+Math.imul(yt,Ht)|0,f=f+Math.imul(yt,Qt)|0,f=f+Math.imul(_t,Ht)|0,M=M+Math.imul(_t,Qt)|0;var Ze=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,p=Math.imul(vt,Nt),f=Math.imul(vt,zt),f=f+Math.imul(Rt,Nt)|0,M=Math.imul(Rt,zt),p=p+Math.imul(dt,xt)|0,f=f+Math.imul(dt,Ut)|0,f=f+Math.imul(It,xt)|0,M=M+Math.imul(It,Ut)|0,p=p+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,Xt)|0,f=f+Math.imul(At,Ct)|0,M=M+Math.imul(At,Xt)|0,p=p+Math.imul(lt,Ht)|0,f=f+Math.imul(lt,Qt)|0,f=f+Math.imul(wt,Ht)|0,M=M+Math.imul(wt,Qt)|0;var Rr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,p=Math.imul(vt,xt),f=Math.imul(vt,Ut),f=f+Math.imul(Rt,xt)|0,M=Math.imul(Rt,Ut),p=p+Math.imul(dt,Ct)|0,f=f+Math.imul(dt,Xt)|0,f=f+Math.imul(It,Ct)|0,M=M+Math.imul(It,Xt)|0,p=p+Math.imul(ut,Ht)|0,f=f+Math.imul(ut,Qt)|0,f=f+Math.imul(At,Ht)|0,M=M+Math.imul(At,Qt)|0;var Pr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,p=Math.imul(vt,Ct),f=Math.imul(vt,Xt),f=f+Math.imul(Rt,Ct)|0,M=Math.imul(Rt,Xt),p=p+Math.imul(dt,Ht)|0,f=f+Math.imul(dt,Qt)|0,f=f+Math.imul(It,Ht)|0,M=M+Math.imul(It,Qt)|0;var Or=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,p=Math.imul(vt,Ht),f=Math.imul(vt,Qt),f=f+Math.imul(Rt,Ht)|0,M=Math.imul(Rt,Qt);var ai=(E+p|0)+((f&8191)<<13)|0;return E=(M+(f>>>13)|0)+(ai>>>26)|0,ai&=67108863,A[0]=ze,A[1]=$e,A[2]=He,A[3]=je,A[4]=Ke,A[5]=xe,A[6]=dr,A[7]=Dr,A[8]=pr,A[9]=Nr,A[10]=Cr,A[11]=gr,A[12]=Mr,A[13]=Sr,A[14]=Ze,A[15]=Rr,A[16]=Pr,A[17]=Or,A[18]=ai,E!==0&&(A[19]=E,u.length++),u};Math.imul||(U=Q);function J(o,h,u){u.negative=h.negative^o.negative,u.length=o.length+h.length;for(var v=0,y=0,A=0;A<u.length-1;A++){var E=y;y=0;for(var p=v&67108863,f=Math.min(A,h.length-1),M=Math.max(0,A-o.length+1);M<=f;M++){var V=A-M,W=o.words[V]|0,b=h.words[M]|0,L=W*b,O=L&67108863;E=E+(L/67108864|0)|0,O=O+p|0,p=O&67108863,E=E+(O>>>26)|0,y+=E>>>26,E&=67108863}u.words[A]=p,v=E,E=y}return v!==0?u.words[A]=v:u.length--,u._strip()}function z(o,h,u){return J(o,h,u)}n.prototype.mulTo=function(o,h){var u,v=this.length+o.length;return this.length===10&&o.length===10?u=U(this,o,h):v<63?u=Q(this,o,h):v<1024?u=J(this,o,h):u=z(this,o,h),u},n.prototype.mul=function(o){var h=new n(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},n.prototype.mulf=function(o){var h=new n(null);return h.words=new Array(this.length+o.length),z(this,o,h)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){var h=o<0;h&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var u=0,v=0;v<this.length;v++){var y=(this.words[v]|0)*o,A=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=A>>>26,this.words[v]=A&67108863}return u!==0&&(this.words[v]=u,this.length++),h?this.ineg():this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var h=F(o);if(h.length===0)return new n(1);for(var u=this,v=0;v<h.length&&h[v]===0;v++,u=u.sqr());if(++v<h.length)for(var y=u.sqr();v<h.length;v++,y=y.sqr())h[v]!==0&&(u=u.mul(y));return u},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26,v=67108863>>>26-h<<26-h,y;if(h!==0){var A=0;for(y=0;y<this.length;y++){var E=this.words[y]&v,p=(this.words[y]|0)-E<<h;this.words[y]=p|A,A=E>>>26-h}A&&(this.words[y]=A,this.length++)}if(u!==0){for(y=this.length-1;y>=0;y--)this.words[y+u]=this.words[y];for(y=0;y<u;y++)this.words[y]=0;this.length+=u}return this._strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,h,u){i(typeof o=="number"&&o>=0);var v;h?v=(h-h%26)/26:v=0;var y=o%26,A=Math.min((o-y)/26,this.length),E=67108863^67108863>>>y<<y,p=u;if(v-=A,v=Math.max(0,v),p){for(var f=0;f<A;f++)p.words[f]=this.words[f];p.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var M=0;for(f=this.length-1;f>=0&&(M!==0||f>=v);f--){var V=this.words[f]|0;this.words[f]=M<<26-y|V>>>y,M=V&E}return p&&M!==0&&(p.words[p.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(o,h,u){return i(this.negative===0),this.iushrn(o,h,u)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26,v=1<<h;if(this.length<=u)return!1;var y=this.words[u];return!!(y&v)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(h!==0&&u++,this.length=Math.min(u,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,h,u){var v=o.length+u,y;this._expand(v);var A,E=0;for(y=0;y<o.length;y++){A=(this.words[y+u]|0)+E;var p=(o.words[y]|0)*h;A-=p&67108863,E=(A>>26)-(p/67108864|0),this.words[y+u]=A&67108863}for(;y<this.length-u;y++)A=(this.words[y+u]|0)+E,E=A>>26,this.words[y+u]=A&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,y=0;y<this.length;y++)A=-(this.words[y]|0)+E,E=A>>26,this.words[y]=A&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(o,h){var u=this.length-o.length,v=this.clone(),y=o,A=y.words[y.length-1]|0,E=this._countBits(A);u=26-E,u!==0&&(y=y.ushln(u),v.iushln(u),A=y.words[y.length-1]|0);var p=v.length-y.length,f;if(h!=="mod"){f=new n(null),f.length=p+1,f.words=new Array(f.length);for(var M=0;M<f.length;M++)f.words[M]=0}var V=v.clone()._ishlnsubmul(y,1,p);V.negative===0&&(v=V,f&&(f.words[p]=1));for(var W=p-1;W>=0;W--){var b=(v.words[y.length+W]|0)*67108864+(v.words[y.length+W-1]|0);for(b=Math.min(b/A|0,67108863),v._ishlnsubmul(y,b,W);v.negative!==0;)b--,v.negative=0,v._ishlnsubmul(y,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=b)}return f&&f._strip(),v._strip(),h!=="div"&&u!==0&&v.iushrn(u),{div:f||null,mod:v}},n.prototype.divmod=function(o,h,u){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,y,A;return this.negative!==0&&o.negative===0?(A=this.neg().divmod(o,h),h!=="mod"&&(v=A.div.neg()),h!=="div"&&(y=A.mod.neg(),u&&y.negative!==0&&y.iadd(o)),{div:v,mod:y}):this.negative===0&&o.negative!==0?(A=this.divmod(o.neg(),h),h!=="mod"&&(v=A.div.neg()),{div:v,mod:A.mod}):this.negative&o.negative?(A=this.neg().divmod(o.neg(),h),h!=="div"&&(y=A.mod.neg(),u&&y.negative!==0&&y.isub(o)),{div:A.div,mod:y}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modrn(o.words[0]))}:this._wordDiv(o,h)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var u=h.div.negative!==0?h.mod.isub(o):h.mod,v=o.ushrn(1),y=o.andln(1),A=u.cmp(v);return A<0||y===1&&A===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modrn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var u=(1<<26)%o,v=0,y=this.length-1;y>=0;y--)v=(u*v+(this.words[y]|0))%o;return h?-v:v},n.prototype.modn=function(o){return this.modrn(o)},n.prototype.idivn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var u=0,v=this.length-1;v>=0;v--){var y=(this.words[v]|0)+u*67108864;this.words[v]=y/o|0,u=y%o}return this._strip(),h?this.ineg():this},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var h=this,u=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new n(1),y=new n(0),A=new n(0),E=new n(1),p=0;h.isEven()&&u.isEven();)h.iushrn(1),u.iushrn(1),++p;for(var f=u.clone(),M=h.clone();!h.isZero();){for(var V=0,W=1;!(h.words[0]&W)&&V<26;++V,W<<=1);if(V>0)for(h.iushrn(V);V-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(f),y.isub(M)),v.iushrn(1),y.iushrn(1);for(var b=0,L=1;!(u.words[0]&L)&&b<26;++b,L<<=1);if(b>0)for(u.iushrn(b);b-- >0;)(A.isOdd()||E.isOdd())&&(A.iadd(f),E.isub(M)),A.iushrn(1),E.iushrn(1);h.cmp(u)>=0?(h.isub(u),v.isub(A),y.isub(E)):(u.isub(h),A.isub(v),E.isub(y))}return{a:A,b:E,gcd:u.iushln(p)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var h=this,u=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new n(1),y=new n(0),A=u.clone();h.cmpn(1)>0&&u.cmpn(1)>0;){for(var E=0,p=1;!(h.words[0]&p)&&E<26;++E,p<<=1);if(E>0)for(h.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);for(var f=0,M=1;!(u.words[0]&M)&&f<26;++f,M<<=1);if(f>0)for(u.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);h.cmp(u)>=0?(h.isub(u),v.isub(y)):(u.isub(h),y.isub(v))}var V;return h.cmpn(1)===0?V=v:V=y,V.cmpn(0)<0&&V.iadd(o),V},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),u=o.clone();h.negative=0,u.negative=0;for(var v=0;h.isEven()&&u.isEven();v++)h.iushrn(1),u.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;u.isEven();)u.iushrn(1);var y=h.cmp(u);if(y<0){var A=h;h=u,u=A}else if(y===0||u.cmpn(1)===0)break;h.isub(u)}while(!0);return u.iushln(v)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var h=o%26,u=(o-h)/26,v=1<<h;if(this.length<=u)return this._expand(u+1),this.words[u]|=v,this;for(var y=v,A=u;y!==0&&A<this.length;A++){var E=this.words[A]|0;E+=y,y=E>>>26,E&=67108863,this.words[A]=E}return y!==0&&(this.words[A]=y,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var u;if(this.length>1)u=1;else{h&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;u=v===o?0:v<o?-1:1}return this.negative!==0?-u|0:u},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,u=this.length-1;u>=0;u--){var v=this.words[u]|0,y=o.words[u]|0;if(v!==y){v<y?h=-1:v>y&&(h=1);break}}return h},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new G(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var $={k256:null,p224:null,p192:null,p25519:null};function q(o,h){this.name=o,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},q.prototype.ireduce=function(o){var h=o,u;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),u=h.bitLength();while(u>this.n);var v=u<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},q.prototype.split=function(o,h){o.iushrn(this.n,0,h)},q.prototype.imulK=function(o){return o.imul(this.k)};function R(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(R,q),R.prototype.split=function(o,h){for(var u=4194303,v=Math.min(o.length,9),y=0;y<v;y++)h.words[y]=o.words[y];if(h.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var A=o.words[9];for(h.words[h.length++]=A&u,y=10;y<o.length;y++){var E=o.words[y]|0;o.words[y-10]=(E&u)<<4|A>>>22,A=E}A>>>=22,o.words[y-10]=A,A===0&&o.length>10?o.length-=10:o.length-=9},R.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,u=0;u<o.length;u++){var v=o.words[u]|0;h+=v*977,o.words[u]=h&67108863,h=v*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,q);function rt(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(rt,q);function ot(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(ot,q),ot.prototype.imulK=function(o){for(var h=0,u=0;u<o.length;u++){var v=(o.words[u]|0)*19+h,y=v&67108863;v>>>=26,o.words[u]=y,h=v}return h!==0&&(o.words[o.length++]=h),o},n._prime=function(o){if($[o])return $[o];var h;if(o==="k256")h=new R;else if(o==="p224")h=new H;else if(o==="p192")h=new rt;else if(o==="p25519")h=new ot;else throw new Error("Unknown prime "+o);return $[o]=h,h};function G(o){if(typeof o=="string"){var h=n._prime(o);this.m=h.p,this.prime=h}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}G.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,h){i((o.negative|h.negative)===0,"red works only with positives"),i(o.red&&o.red===h.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(w(o,o.umod(this.m)._forceRed(this)),o)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,h){this._verify2(o,h);var u=o.add(h);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},G.prototype.iadd=function(o,h){this._verify2(o,h);var u=o.iadd(h);return u.cmp(this.m)>=0&&u.isub(this.m),u},G.prototype.sub=function(o,h){this._verify2(o,h);var u=o.sub(h);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},G.prototype.isub=function(o,h){this._verify2(o,h);var u=o.isub(h);return u.cmpn(0)<0&&u.iadd(this.m),u},G.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},G.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},G.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var u=this.m.add(new n(1)).iushrn(2);return this.pow(o,u)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);i(!v.isZero());var A=new n(1).toRed(this),E=A.redNeg(),p=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,p).cmp(E)!==0;)f.redIAdd(E);for(var M=this.pow(f,v),V=this.pow(o,v.addn(1).iushrn(1)),W=this.pow(o,v),b=y;W.cmp(A)!==0;){for(var L=W,O=0;L.cmp(A)!==0;O++)L=L.redSqr();i(O<b);var T=this.pow(M,new n(1).iushln(b-O-1));V=V.redMul(T),M=T.redSqr(),W=W.redMul(M),b=O}return V},G.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},G.prototype.pow=function(o,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var u=4,v=new Array(1<<u);v[0]=new n(1).toRed(this),v[1]=o;for(var y=2;y<v.length;y++)v[y]=this.mul(v[y-1],o);var A=v[0],E=0,p=0,f=h.bitLength()%26;for(f===0&&(f=26),y=h.length-1;y>=0;y--){for(var M=h.words[y],V=f-1;V>=0;V--){var W=M>>V&1;if(A!==v[0]&&(A=this.sqr(A)),W===0&&E===0){p=0;continue}E<<=1,E|=W,p++,!(p!==u&&(y!==0||V!==0))&&(A=this.mul(A,v[E]),p=0,E=0)}f=26}return A},G.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},G.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},n.mont=function(o){return new x(o)};function x(o){G.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(x,G),x.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},x.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},x.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var u=o.imul(h),v=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=u.isub(v).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},x.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new n(0)._forceRed(this);var u=o.mul(h),v=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=u.isub(v).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},x.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ub)})(pb);var _e=pb.exports;const gb="bignumber/5.7.0";var D1=_e.BN;const Vs=new Ti(gb),_d={},n3=9007199254740991;function OS(e){return e!=null&&(wi.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Xa(e)||typeof e=="bigint"||Rf(e))}let s3=!1,wi=class Bn{constructor(t,r){t!==_d&&Vs.throwError("cannot call constructor directly; use BigNumber.from",Ti.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Di(Oe(this).fromTwos(t))}toTwos(t){return Di(Oe(this).toTwos(t))}abs(){return this._hex[0]==="-"?Bn.from(this._hex.substring(1)):this}add(t){return Di(Oe(this).add(Oe(t)))}sub(t){return Di(Oe(this).sub(Oe(t)))}div(t){return Bn.from(t).isZero()&&an("division-by-zero","div"),Di(Oe(this).div(Oe(t)))}mul(t){return Di(Oe(this).mul(Oe(t)))}mod(t){const r=Oe(t);return r.isNeg()&&an("division-by-zero","mod"),Di(Oe(this).umod(r))}pow(t){const r=Oe(t);return r.isNeg()&&an("negative-power","pow"),Di(Oe(this).pow(r))}and(t){const r=Oe(t);return(this.isNegative()||r.isNeg())&&an("unbound-bitwise-result","and"),Di(Oe(this).and(r))}or(t){const r=Oe(t);return(this.isNegative()||r.isNeg())&&an("unbound-bitwise-result","or"),Di(Oe(this).or(r))}xor(t){const r=Oe(t);return(this.isNegative()||r.isNeg())&&an("unbound-bitwise-result","xor"),Di(Oe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&an("negative-width","mask"),Di(Oe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&an("negative-width","shl"),Di(Oe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&an("negative-width","shr"),Di(Oe(this).shrn(t))}eq(t){return Oe(this).eq(Oe(t))}lt(t){return Oe(this).lt(Oe(t))}lte(t){return Oe(this).lte(Oe(t))}gt(t){return Oe(this).gt(Oe(t))}gte(t){return Oe(this).gte(Oe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Oe(this).isZero()}toNumber(){try{return Oe(this).toNumber()}catch{an("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Vs.throwError("this platform does not support BigInt",Ti.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?s3||(s3=!0,Vs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Vs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ti.errors.UNEXPECTED_ARGUMENT,{}):Vs.throwError("BigNumber.toString does not accept parameters",Ti.errors.UNEXPECTED_ARGUMENT,{})),Oe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Bn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Bn(_d,Af(t)):t.match(/^-?[0-9]+$/)?new Bn(_d,Af(new D1(t))):Vs.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&an("underflow","BigNumber.from",t),(t>=n3||t<=-n3)&&an("overflow","BigNumber.from",t),Bn.from(String(t));const r=t;if(typeof r=="bigint")return Bn.from(r.toString());if(Rf(r))return Bn.from(db(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Bn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Xa(i)||i[0]==="-"&&Xa(i.substring(1))))return Bn.from(i)}return Vs.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function Af(e){if(typeof e!="string")return Af(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Vs.throwArgumentError("invalid hex","value",e),e=Af(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Di(e){return wi.from(Af(e))}function Oe(e){const t=wi.from(e).toHexString();return t[0]==="-"?new D1("-"+t.substring(3),16):new D1(t.substring(2),16)}function an(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Vs.throwError(e,Ti.errors.NUMERIC_FAULT,i)}const gi=new Ti(gb),cf={},vb=wi.from(0),mb=wi.from(-1);function bb(e,t,r,i){const s={fault:t,operation:r};return i!==void 0&&(s.value=i),gi.throwError(e,Ti.errors.NUMERIC_FAULT,s)}let lf="0";for(;lf.length<256;)lf+=lf;function up(e){if(typeof e!="number")try{e=wi.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+lf.substring(0,e):gi.throwArgumentError("invalid decimal size","decimals",e)}function Ed(e,t){t==null&&(t=0);const r=up(t);e=wi.from(e);const i=e.lt(vb);i&&(e=e.mul(mb));let s=e.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];const n=e.div(r).toString();return r.length===1?e=n:e=n+"."+s,i&&(e="-"+e),e}function Hs(e,t){t==null&&(t=0);const r=up(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&gi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&gi.throwArgumentError("missing value","value",e);const s=e.split(".");s.length>2&&gi.throwArgumentError("too many decimal points","value",e);let n=s[0],c=s[1];for(n||(n="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&bb("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const g=wi.from(n),m=wi.from(c);let l=g.mul(r).add(m);return i&&(l=l.mul(mb)),l}let Md=class N1{constructor(t,r,i,s){t!==cf&&gi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ti.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=s,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(s),this._multiplier=up(s),Object.freeze(this)}static from(t){if(t instanceof N1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,s=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||gi.throwArgumentError("invalid fixed format","format",t),r=n[1]!=="u",i=parseInt(n[2]),s=parseInt(n[3])}}else if(t){const n=(c,g,m)=>t[c]==null?m:(typeof t[c]!==g&&gi.throwArgumentError("invalid fixed format ("+c+" not "+g+")","format."+c,t[c]),t[c]);r=n("signed","boolean",r),i=n("width","number",i),s=n("decimals","number",s)}return i%8&&gi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),s>80&&gi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new N1(cf,r,i,s)}},yb=class li{constructor(t,r,i,s){t!==cf&&gi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ti.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&gi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Hs(this._value,this.format.decimals),i=Hs(t._value,t.format.decimals);return li.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Hs(this._value,this.format.decimals),i=Hs(t._value,t.format.decimals);return li.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Hs(this._value,this.format.decimals),i=Hs(t._value,t.format.decimals);return li.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Hs(this._value,this.format.decimals),i=Hs(t._value,t.format.decimals);return li.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=li.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(o3.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=li.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(o3.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&gi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=li.from("1"+lf.substring(0,t),this.format),s=BS.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(s).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&gi.throwArgumentError("invalid byte width","width",t);const r=wi.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Uc(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return li.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!OS(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),li.fromString(Ed(t,r),Md.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Md.from(r),s=Hs(t,i.decimals);!i.signed&&s.lt(vb)&&bb("unsigned value cannot be negative","overflow","value",t);let n=null;i.signed?n=s.toTwos(i.width).toHexString():(n=s.toHexString(),n=Uc(n,i.width/8));const c=Ed(s,i.decimals);return new li(cf,n,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Md.from(r);if(lb(t).length>i.width/8)throw new Error("overflow");let s=wi.from(t);i.signed&&(s=s.fromTwos(i.width));const n=s.toTwos((i.signed?0:1)+i.width).toHexString(),c=Ed(s,i.decimals);return new li(cf,n,c,i)}static from(t,r){if(typeof t=="string")return li.fromString(t,r);if(Rf(t))return li.fromBytes(t,r);try{return li.fromValue(t,0,r)}catch(i){if(i.code!==Ti.errors.INVALID_ARGUMENT)throw i}return gi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const o3=yb.from(1),BS=yb.from("0.5");var a3;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(a3||(a3={}));var h3;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(h3||(h3={}));function TS(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Sd(e,t){t||(t=function(s){return[parseInt(s,16)]});let r=0,i={};return e.split(",").forEach(s=>{let n=s.split(":");r+=parseInt(n[0],16),i[r]=t(n[1])}),i}function f3(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let s=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:s,h:t}})}f3("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Sd("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Sd("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Sd("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",TS),f3("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function FS(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return lb(t)}function wb(e,t){t==null&&(t=1);const r=[],i=r.forEach,s=function(n,c){i.call(n,function(g){c>0&&Array.isArray(g)?s(g,c-1):r.push(g)})};return s(e,t),r}function qS(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function US(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),s=1,n=[0,1];for(let $=1;$<i;$++)n.push(s+=r());let c=r(),g=t;t+=c;let m=0,l=0;function w(){return m==0&&(l=l<<8|e[t++],m=8),l>>--m&1}const _=31,I=Math.pow(2,_),D=I>>>1,C=D>>1,B=I-1;let F=0;for(let $=0;$<_;$++)F=F<<1|w();let Q=[],U=0,J=I;for(;;){let $=Math.floor(((F-U+1)*s-1)/J),q=0,R=i;for(;R-q>1;){let ot=q+R>>>1;$<n[ot]?R=ot:q=ot}if(q==0)break;Q.push(q);let H=U+Math.floor(J*n[q]/s),rt=U+Math.floor(J*n[q+1]/s)-1;for(;!((H^rt)&D);)F=F<<1&B|w(),H=H<<1&B,rt=rt<<1&B|1;for(;H&~rt&C;)F=F&D|F<<1&B>>>1|w(),H=H<<1^D,rt=(rt^D)<<1|D|1;U=H,J=1+rt-H}let z=i-4;return Q.map($=>{switch($-z){case 3:return z+65792+(e[g++]<<16|e[g++]<<8|e[g++]);case 2:return z+256+(e[g++]<<8|e[g++]);case 1:return z+e[g++];default:return $-1}})}function LS(e){let t=0;return()=>e[t++]}function kS(e){return LS(US(e))}function zS(e){return e&1?~e>>1:e>>1}function $S(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function u3(e,t){let r=Array(e);for(let i=0,s=-1;i<e;i++)r[i]=s+=1+t();return r}function HS(e,t){let r=Array(e);for(let i=0,s=0;i<e;i++)r[i]=s+=zS(t());return r}function Lc(e,t){let r=u3(e(),e),i=e(),s=u3(i,e),n=$S(i,e);for(let c=0;c<i;c++)for(let g=0;g<n[c];g++)r.push(s[c]+g);return t?r.map(c=>t[c]):r}function jS(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(GS(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(QS(r,e))}return qS(wb(t))}function KS(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function Ab(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let s=0;s<t;s++)HS(e,r).forEach((n,c)=>i[c].push(n));return i}function GS(e,t){let r=1+t(),i=t(),s=KS(t),n=Ab(s.length,1+e,t);return wb(n.map((c,g)=>{const m=c[0],l=c.slice(1);return Array(s[g]).fill(void 0).map((w,_)=>{let I=_*i;return[m+_*r,l.map(D=>D+I)]})}))}function QS(e,t){let r=1+t();return Ab(r,1+e,t).map(i=>[i[0],i.slice(1)])}function JS(e){let t=Lc(e).sort((i,s)=>i-s);return r();function r(){let i=[];for(;;){let l=Lc(e,t);if(l.length==0)break;i.push({set:new Set(l),node:r()})}i.sort((l,w)=>w.set.size-l.set.size);let s=e(),n=s%3;s=s/3|0;let c=!!(s&1);s>>=1;let g=s==1,m=s==2;return{branches:i,valid:n,fe0f:c,save:g,check:m}}}function VS(){return kS(FS("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"))}const Wu=VS();new Set(Lc(Wu)),new Set(Lc(Wu)),jS(Wu),JS(Wu);const YS=new Uint8Array(32);YS.fill(0);const WS=new Uint8Array(32);WS.fill(0),wi.from(-1);const XS=wi.from(0),ZS=wi.from(1);wi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Uc(ZS.toHexString(),32),Uc(XS.toHexString(),32);var is={},Fe={},Pf=_b;function _b(e,t){if(!e)throw new Error(t||"Assertion failed")}_b.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var C1={exports:{}};typeof Object.create=="function"?C1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:C1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var tx=Pf,ex=C1.exports;Fe.inherits=ex;function rx(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function ix(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),s=0;s<e.length;s+=2)r.push(parseInt(e[s]+e[s+1],16))}else for(var i=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n<128?r[i++]=n:n<2048?(r[i++]=n>>6|192,r[i++]=n&63|128):rx(e,s)?(n=65536+((n&1023)<<10)+(e.charCodeAt(++s)&1023),r[i++]=n>>18|240,r[i++]=n>>12&63|128,r[i++]=n>>6&63|128,r[i++]=n&63|128):(r[i++]=n>>12|224,r[i++]=n>>6&63|128,r[i++]=n&63|128)}else for(s=0;s<e.length;s++)r[s]=e[s]|0;return r}Fe.toArray=ix;function nx(e){for(var t="",r=0;r<e.length;r++)t+=Mb(e[r].toString(16));return t}Fe.toHex=nx;function Eb(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Fe.htonl=Eb;function sx(e,t){for(var r="",i=0;i<e.length;i++){var s=e[i];t==="little"&&(s=Eb(s)),r+=Sb(s.toString(16))}return r}Fe.toHex32=sx;function Mb(e){return e.length===1?"0"+e:e}Fe.zero2=Mb;function Sb(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Fe.zero8=Sb;function ox(e,t,r,i){var s=r-t;tx(s%4===0);for(var n=new Array(s/4),c=0,g=t;c<n.length;c++,g+=4){var m;i==="big"?m=e[g]<<24|e[g+1]<<16|e[g+2]<<8|e[g+3]:m=e[g+3]<<24|e[g+2]<<16|e[g+1]<<8|e[g],n[c]=m>>>0}return n}Fe.join32=ox;function ax(e,t){for(var r=new Array(e.length*4),i=0,s=0;i<e.length;i++,s+=4){var n=e[i];t==="big"?(r[s]=n>>>24,r[s+1]=n>>>16&255,r[s+2]=n>>>8&255,r[s+3]=n&255):(r[s+3]=n>>>24,r[s+2]=n>>>16&255,r[s+1]=n>>>8&255,r[s]=n&255)}return r}Fe.split32=ax;function hx(e,t){return e>>>t|e<<32-t}Fe.rotr32=hx;function fx(e,t){return e<<t|e>>>32-t}Fe.rotl32=fx;function ux(e,t){return e+t>>>0}Fe.sum32=ux;function cx(e,t,r){return e+t+r>>>0}Fe.sum32_3=cx;function lx(e,t,r,i){return e+t+r+i>>>0}Fe.sum32_4=lx;function dx(e,t,r,i,s){return e+t+r+i+s>>>0}Fe.sum32_5=dx;function px(e,t,r,i){var s=e[t],n=e[t+1],c=i+n>>>0,g=(c<i?1:0)+r+s;e[t]=g>>>0,e[t+1]=c}Fe.sum64=px;function gx(e,t,r,i){var s=t+i>>>0,n=(s<t?1:0)+e+r;return n>>>0}Fe.sum64_hi=gx;function vx(e,t,r,i){var s=t+i;return s>>>0}Fe.sum64_lo=vx;function mx(e,t,r,i,s,n,c,g){var m=0,l=t;l=l+i>>>0,m+=l<t?1:0,l=l+n>>>0,m+=l<n?1:0,l=l+g>>>0,m+=l<g?1:0;var w=e+r+s+c+m;return w>>>0}Fe.sum64_4_hi=mx;function bx(e,t,r,i,s,n,c,g){var m=t+i+n+g;return m>>>0}Fe.sum64_4_lo=bx;function yx(e,t,r,i,s,n,c,g,m,l){var w=0,_=t;_=_+i>>>0,w+=_<t?1:0,_=_+n>>>0,w+=_<n?1:0,_=_+g>>>0,w+=_<g?1:0,_=_+l>>>0,w+=_<l?1:0;var I=e+r+s+c+m+w;return I>>>0}Fe.sum64_5_hi=yx;function wx(e,t,r,i,s,n,c,g,m,l){var w=t+i+n+g+l;return w>>>0}Fe.sum64_5_lo=wx;function Ax(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Fe.rotr64_hi=Ax;function _x(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Fe.rotr64_lo=_x;function Ex(e,t,r){return e>>>r}Fe.shr64_hi=Ex;function Mx(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Fe.shr64_lo=Mx;var oh={},c3=Fe,Sx=Pf;function Xu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}oh.BlockHash=Xu,Xu.prototype.update=function(e,t){if(e=c3.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=c3.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},Xu.prototype.digest=function(e){return this.update(this._pad()),Sx(this.pending===null),this._digest(e)},Xu.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var n=8;n<this.padLength;n++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,n=8;n<this.padLength;n++)i[s++]=0;return i};var La={},Ns={},xx=Fe,ms=xx.rotr32;function Ix(e,t,r,i){if(e===0)return xb(t,r,i);if(e===1||e===3)return Db(t,r,i);if(e===2)return Ib(t,r,i)}Ns.ft_1=Ix;function xb(e,t,r){return e&t^~e&r}Ns.ch32=xb;function Ib(e,t,r){return e&t^e&r^t&r}Ns.maj32=Ib;function Db(e,t,r){return e^t^r}Ns.p32=Db;function Dx(e){return ms(e,2)^ms(e,13)^ms(e,22)}Ns.s0_256=Dx;function Nx(e){return ms(e,6)^ms(e,11)^ms(e,25)}Ns.s1_256=Nx;function Cx(e){return ms(e,7)^ms(e,18)^e>>>3}Ns.g0_256=Cx;function Rx(e){return ms(e,17)^ms(e,19)^e>>>10}Ns.g1_256=Rx;var Za=Fe,Px=oh,Ox=Ns,xd=Za.rotl32,Gh=Za.sum32,Bx=Za.sum32_5,Tx=Ox.ft_1,Nb=Px.BlockHash,Fx=[1518500249,1859775393,2400959708,3395469782];function cs(){if(!(this instanceof cs))return new cs;Nb.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Za.inherits(cs,Nb);var qx=cs;cs.blockSize=512,cs.outSize=160,cs.hmacStrength=80,cs.padLength=64,cs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=xd(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],n=this.h[1],c=this.h[2],g=this.h[3],m=this.h[4];for(i=0;i<r.length;i++){var l=~~(i/20),w=Bx(xd(s,5),Tx(l,n,c,g),m,r[i],Fx[l]);m=g,g=c,c=xd(n,30),n=s,s=w}this.h[0]=Gh(this.h[0],s),this.h[1]=Gh(this.h[1],n),this.h[2]=Gh(this.h[2],c),this.h[3]=Gh(this.h[3],g),this.h[4]=Gh(this.h[4],m)},cs.prototype._digest=function(e){return e==="hex"?Za.toHex32(this.h,"big"):Za.split32(this.h,"big")};var th=Fe,Ux=oh,ah=Ns,Lx=Pf,Dn=th.sum32,kx=th.sum32_4,zx=th.sum32_5,$x=ah.ch32,Hx=ah.maj32,jx=ah.s0_256,Kx=ah.s1_256,Gx=ah.g0_256,Qx=ah.g1_256,Cb=Ux.BlockHash,Jx=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ls(){if(!(this instanceof ls))return new ls;Cb.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Jx,this.W=new Array(64)}th.inherits(ls,Cb);var Rb=ls;ls.blockSize=512,ls.outSize=256,ls.hmacStrength=192,ls.padLength=64,ls.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=kx(Qx(r[i-2]),r[i-7],Gx(r[i-15]),r[i-16]);var s=this.h[0],n=this.h[1],c=this.h[2],g=this.h[3],m=this.h[4],l=this.h[5],w=this.h[6],_=this.h[7];for(Lx(this.k.length===r.length),i=0;i<r.length;i++){var I=zx(_,Kx(m),$x(m,l,w),this.k[i],r[i]),D=Dn(jx(s),Hx(s,n,c));_=w,w=l,l=m,m=Dn(g,I),g=c,c=n,n=s,s=Dn(I,D)}this.h[0]=Dn(this.h[0],s),this.h[1]=Dn(this.h[1],n),this.h[2]=Dn(this.h[2],c),this.h[3]=Dn(this.h[3],g),this.h[4]=Dn(this.h[4],m),this.h[5]=Dn(this.h[5],l),this.h[6]=Dn(this.h[6],w),this.h[7]=Dn(this.h[7],_)},ls.prototype._digest=function(e){return e==="hex"?th.toHex32(this.h,"big"):th.split32(this.h,"big")};var R1=Fe,Pb=Rb;function Zs(){if(!(this instanceof Zs))return new Zs;Pb.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}R1.inherits(Zs,Pb);var Vx=Zs;Zs.blockSize=512,Zs.outSize=224,Zs.hmacStrength=192,Zs.padLength=64,Zs.prototype._digest=function(e){return e==="hex"?R1.toHex32(this.h.slice(0,7),"big"):R1.split32(this.h.slice(0,7),"big")};var Fi=Fe,Yx=oh,Wx=Pf,bs=Fi.rotr64_hi,ys=Fi.rotr64_lo,Ob=Fi.shr64_hi,Bb=Fi.shr64_lo,yo=Fi.sum64,Id=Fi.sum64_hi,Dd=Fi.sum64_lo,Xx=Fi.sum64_4_hi,Zx=Fi.sum64_4_lo,tI=Fi.sum64_5_hi,eI=Fi.sum64_5_lo,Tb=Yx.BlockHash,rI=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ln(){if(!(this instanceof Ln))return new Ln;Tb.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=rI,this.W=new Array(160)}Fi.inherits(Ln,Tb);var Fb=Ln;Ln.blockSize=1024,Ln.outSize=512,Ln.hmacStrength=192,Ln.padLength=128,Ln.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=dI(r[i-4],r[i-3]),n=pI(r[i-4],r[i-3]),c=r[i-14],g=r[i-13],m=cI(r[i-30],r[i-29]),l=lI(r[i-30],r[i-29]),w=r[i-32],_=r[i-31];r[i]=Xx(s,n,c,g,m,l,w,_),r[i+1]=Zx(s,n,c,g,m,l,w,_)}},Ln.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],n=this.h[2],c=this.h[3],g=this.h[4],m=this.h[5],l=this.h[6],w=this.h[7],_=this.h[8],I=this.h[9],D=this.h[10],C=this.h[11],B=this.h[12],F=this.h[13],Q=this.h[14],U=this.h[15];Wx(this.k.length===r.length);for(var J=0;J<r.length;J+=2){var z=Q,$=U,q=fI(_,I),R=uI(_,I),H=iI(_,I,D,C,B),rt=nI(_,I,D,C,B,F),ot=this.k[J],G=this.k[J+1],x=r[J],o=r[J+1],h=tI(z,$,q,R,H,rt,ot,G,x,o),u=eI(z,$,q,R,H,rt,ot,G,x,o);z=aI(i,s),$=hI(i,s),q=sI(i,s,n,c,g),R=oI(i,s,n,c,g,m);var v=Id(z,$,q,R),y=Dd(z,$,q,R);Q=B,U=F,B=D,F=C,D=_,C=I,_=Id(l,w,h,u),I=Dd(w,w,h,u),l=g,w=m,g=n,m=c,n=i,c=s,i=Id(h,u,v,y),s=Dd(h,u,v,y)}yo(this.h,0,i,s),yo(this.h,2,n,c),yo(this.h,4,g,m),yo(this.h,6,l,w),yo(this.h,8,_,I),yo(this.h,10,D,C),yo(this.h,12,B,F),yo(this.h,14,Q,U)},Ln.prototype._digest=function(e){return e==="hex"?Fi.toHex32(this.h,"big"):Fi.split32(this.h,"big")};function iI(e,t,r,i,s){var n=e&r^~e&s;return n<0&&(n+=4294967296),n}function nI(e,t,r,i,s,n){var c=t&i^~t&n;return c<0&&(c+=4294967296),c}function sI(e,t,r,i,s){var n=e&r^e&s^r&s;return n<0&&(n+=4294967296),n}function oI(e,t,r,i,s,n){var c=t&i^t&n^i&n;return c<0&&(c+=4294967296),c}function aI(e,t){var r=bs(e,t,28),i=bs(t,e,2),s=bs(t,e,7),n=r^i^s;return n<0&&(n+=4294967296),n}function hI(e,t){var r=ys(e,t,28),i=ys(t,e,2),s=ys(t,e,7),n=r^i^s;return n<0&&(n+=4294967296),n}function fI(e,t){var r=bs(e,t,14),i=bs(e,t,18),s=bs(t,e,9),n=r^i^s;return n<0&&(n+=4294967296),n}function uI(e,t){var r=ys(e,t,14),i=ys(e,t,18),s=ys(t,e,9),n=r^i^s;return n<0&&(n+=4294967296),n}function cI(e,t){var r=bs(e,t,1),i=bs(e,t,8),s=Ob(e,t,7),n=r^i^s;return n<0&&(n+=4294967296),n}function lI(e,t){var r=ys(e,t,1),i=ys(e,t,8),s=Bb(e,t,7),n=r^i^s;return n<0&&(n+=4294967296),n}function dI(e,t){var r=bs(e,t,19),i=bs(t,e,29),s=Ob(e,t,6),n=r^i^s;return n<0&&(n+=4294967296),n}function pI(e,t){var r=ys(e,t,19),i=ys(t,e,29),s=Bb(e,t,6),n=r^i^s;return n<0&&(n+=4294967296),n}var P1=Fe,qb=Fb;function to(){if(!(this instanceof to))return new to;qb.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}P1.inherits(to,qb);var gI=to;to.blockSize=1024,to.outSize=384,to.hmacStrength=192,to.padLength=128,to.prototype._digest=function(e){return e==="hex"?P1.toHex32(this.h.slice(0,12),"big"):P1.split32(this.h.slice(0,12),"big")},La.sha1=qx,La.sha224=Vx,La.sha256=Rb,La.sha384=gI,La.sha512=Fb;var Ub={},na=Fe,vI=oh,Zu=na.rotl32,l3=na.sum32,Qh=na.sum32_3,d3=na.sum32_4,Lb=vI.BlockHash;function ns(){if(!(this instanceof ns))return new ns;Lb.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}na.inherits(ns,Lb),Ub.ripemd160=ns,ns.blockSize=512,ns.outSize=160,ns.hmacStrength=192,ns.padLength=64,ns.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],n=this.h[3],c=this.h[4],g=r,m=i,l=s,w=n,_=c,I=0;I<80;I++){var D=l3(Zu(d3(r,p3(I,i,s,n),e[yI[I]+t],mI(I)),AI[I]),c);r=c,c=n,n=Zu(s,10),s=i,i=D,D=l3(Zu(d3(g,p3(79-I,m,l,w),e[wI[I]+t],bI(I)),_I[I]),_),g=_,_=w,w=Zu(l,10),l=m,m=D}D=Qh(this.h[1],s,w),this.h[1]=Qh(this.h[2],n,_),this.h[2]=Qh(this.h[3],c,g),this.h[3]=Qh(this.h[4],r,m),this.h[4]=Qh(this.h[0],i,l),this.h[0]=D},ns.prototype._digest=function(e){return e==="hex"?na.toHex32(this.h,"little"):na.split32(this.h,"little")};function p3(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function mI(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function bI(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var yI=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],wI=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],AI=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_I=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],EI=Fe,MI=Pf;function Ka(e,t,r){if(!(this instanceof Ka))return new Ka(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(EI.toArray(t,r))}var SI=Ka;Ka.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),MI(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Ka.prototype.update=function(e,t){return this.inner.update(e,t),this},Ka.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Fe,t.common=oh,t.sha=La,t.ripemd=Ub,t.hmac=SI,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(is);function hh(e,t,r){return r={path:t,exports:{},require:function(i,s){return xI(i,s??r.path)}},e(r,r.exports),r.exports}function xI(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var cp=kb;function kb(e,t){if(!e)throw new Error(t||"Assertion failed")}kb.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var $n=hh(function(e,t){var r=t;function i(c,g){if(Array.isArray(c))return c.slice();if(!c)return[];var m=[];if(typeof c!="string"){for(var l=0;l<c.length;l++)m[l]=c[l]|0;return m}if(g==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var l=0;l<c.length;l+=2)m.push(parseInt(c[l]+c[l+1],16))}else for(var l=0;l<c.length;l++){var w=c.charCodeAt(l),_=w>>8,I=w&255;_?m.push(_,I):m.push(I)}return m}r.toArray=i;function s(c){return c.length===1?"0"+c:c}r.zero2=s;function n(c){for(var g="",m=0;m<c.length;m++)g+=s(c[m].toString(16));return g}r.toHex=n,r.encode=function(c,g){return g==="hex"?n(c):c}}),Ji=hh(function(e,t){var r=t;r.assert=cp,r.toArray=$n.toArray,r.zero2=$n.zero2,r.toHex=$n.toHex,r.encode=$n.encode;function i(m,l,w){var _=new Array(Math.max(m.bitLength(),w)+1);_.fill(0);for(var I=1<<l+1,D=m.clone(),C=0;C<_.length;C++){var B,F=D.andln(I-1);D.isOdd()?(F>(I>>1)-1?B=(I>>1)-F:B=F,D.isubn(B)):B=0,_[C]=B,D.iushrn(1)}return _}r.getNAF=i;function s(m,l){var w=[[],[]];m=m.clone(),l=l.clone();for(var _=0,I=0,D;m.cmpn(-_)>0||l.cmpn(-I)>0;){var C=m.andln(3)+_&3,B=l.andln(3)+I&3;C===3&&(C=-1),B===3&&(B=-1);var F;C&1?(D=m.andln(7)+_&7,(D===3||D===5)&&B===2?F=-C:F=C):F=0,w[0].push(F);var Q;B&1?(D=l.andln(7)+I&7,(D===3||D===5)&&C===2?Q=-B:Q=B):Q=0,w[1].push(Q),2*_===F+1&&(_=1-_),2*I===Q+1&&(I=1-I),m.iushrn(1),l.iushrn(1)}return w}r.getJSF=s;function n(m,l,w){var _="_"+l;m.prototype[l]=function(){return this[_]!==void 0?this[_]:this[_]=w.call(this)}}r.cachedProperty=n;function c(m){return typeof m=="string"?r.toArray(m,"hex"):m}r.parseBytes=c;function g(m){return new _e(m,"hex","le")}r.intFromLE=g}),tc=Ji.getNAF,II=Ji.getJSF,kc=Ji.assert;function So(e,t){this.type=e,this.p=new _e(t.p,16),this.red=t.prime?_e.red(t.prime):_e.mont(this.p),this.zero=new _e(0).toRed(this.red),this.one=new _e(1).toRed(this.red),this.two=new _e(2).toRed(this.red),this.n=t.n&&new _e(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ca=So;So.prototype.point=function(){throw new Error("Not implemented")},So.prototype.validate=function(){throw new Error("Not implemented")},So.prototype._fixedNafMul=function(e,t){kc(e.precomputed);var r=e._getDoubles(),i=tc(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var n=[],c,g;for(c=0;c<i.length;c+=r.step){g=0;for(var m=c+r.step-1;m>=c;m--)g=(g<<1)+i[m];n.push(g)}for(var l=this.jpoint(null,null,null),w=this.jpoint(null,null,null),_=s;_>0;_--){for(c=0;c<n.length;c++)g=n[c],g===_?w=w.mixedAdd(r.points[c]):g===-_&&(w=w.mixedAdd(r.points[c].neg()));l=l.add(w)}return l.toP()},So.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,n=tc(t,r,this._bitLength),c=this.jpoint(null,null,null),g=n.length-1;g>=0;g--){for(var m=0;g>=0&&n[g]===0;g--)m++;if(g>=0&&m++,c=c.dblp(m),g<0)break;var l=n[g];kc(l!==0),e.type==="affine"?l>0?c=c.mixedAdd(s[l-1>>1]):c=c.mixedAdd(s[-l-1>>1].neg()):l>0?c=c.add(s[l-1>>1]):c=c.add(s[-l-1>>1].neg())}return e.type==="affine"?c.toP():c},So.prototype._wnafMulAdd=function(e,t,r,i,s){var n=this._wnafT1,c=this._wnafT2,g=this._wnafT3,m=0,l,w,_;for(l=0;l<i;l++){_=t[l];var I=_._getNAFPoints(e);n[l]=I.wnd,c[l]=I.points}for(l=i-1;l>=1;l-=2){var D=l-1,C=l;if(n[D]!==1||n[C]!==1){g[D]=tc(r[D],n[D],this._bitLength),g[C]=tc(r[C],n[C],this._bitLength),m=Math.max(g[D].length,m),m=Math.max(g[C].length,m);continue}var B=[t[D],null,null,t[C]];t[D].y.cmp(t[C].y)===0?(B[1]=t[D].add(t[C]),B[2]=t[D].toJ().mixedAdd(t[C].neg())):t[D].y.cmp(t[C].y.redNeg())===0?(B[1]=t[D].toJ().mixedAdd(t[C]),B[2]=t[D].add(t[C].neg())):(B[1]=t[D].toJ().mixedAdd(t[C]),B[2]=t[D].toJ().mixedAdd(t[C].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],Q=II(r[D],r[C]);for(m=Math.max(Q[0].length,m),g[D]=new Array(m),g[C]=new Array(m),w=0;w<m;w++){var U=Q[0][w]|0,J=Q[1][w]|0;g[D][w]=F[(U+1)*3+(J+1)],g[C][w]=0,c[D]=B}}var z=this.jpoint(null,null,null),$=this._wnafT4;for(l=m;l>=0;l--){for(var q=0;l>=0;){var R=!0;for(w=0;w<i;w++)$[w]=g[w][l]|0,$[w]!==0&&(R=!1);if(!R)break;q++,l--}if(l>=0&&q++,z=z.dblp(q),l<0)break;for(w=0;w<i;w++){var H=$[w];H!==0&&(H>0?_=c[w][H-1>>1]:H<0&&(_=c[w][-H-1>>1].neg()),_.type==="affine"?z=z.mixedAdd(_):z=z.add(_))}}for(l=0;l<i;l++)c[l]=null;return s?z:z.toP()};function hn(e,t){this.curve=e,this.type=t,this.precomputed=null}So.BasePoint=hn,hn.prototype.eq=function(){throw new Error("Not implemented")},hn.prototype.validate=function(){return this.curve.validate(this)},So.prototype.decodePoint=function(e,t){e=Ji.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?kc(e[e.length-1]%2===0):e[0]===7&&kc(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},hn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},hn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},hn.prototype.encode=function(e,t){return Ji.encode(this._encode(t),e)},hn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},hn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},hn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var n=0;n<e;n++)i=i.dbl();r.push(i)}return{step:e,points:r}},hn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}},hn.prototype._getBeta=function(){return null},hn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var lp=hh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),DI=Ji.assert;function yn(e){ca.call(this,"short",e),this.a=new _e(e.a,16).toRed(this.red),this.b=new _e(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}lp(yn,ca);var NI=yn;yn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new _e(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new _e(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],DI(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var n;return e.basis?n=e.basis.map(function(c){return{a:new _e(c.a,16),b:new _e(c.b,16)}}):n=this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},yn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_e.mont(e),r=new _e(2).toRed(t).redInvm(),i=r.redNeg(),s=new _e(3).toRed(t).redNeg().redSqrt().redMul(r),n=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[n,c]},yn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new _e(1),n=new _e(0),c=new _e(0),g=new _e(1),m,l,w,_,I,D,C,B=0,F,Q;r.cmpn(0)!==0;){var U=i.div(r);F=i.sub(U.mul(r)),Q=c.sub(U.mul(s));var J=g.sub(U.mul(n));if(!w&&F.cmp(t)<0)m=C.neg(),l=s,w=F.neg(),_=Q;else if(w&&++B===2)break;C=F,i=r,r=F,c=s,s=Q,g=n,n=J}I=F.neg(),D=Q;var z=w.sqr().add(_.sqr()),$=I.sqr().add(D.sqr());return $.cmp(z)>=0&&(I=m,D=l),w.negative&&(w=w.neg(),_=_.neg()),I.negative&&(I=I.neg(),D=D.neg()),[{a:w,b:_},{a:I,b:D}]},yn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),n=r.b.neg().mul(e).divRound(this.n),c=s.mul(r.a),g=n.mul(i.a),m=s.mul(r.b),l=n.mul(i.b),w=e.sub(c).sub(g),_=m.add(l).neg();return{k1:w,k2:_}},yn.prototype.pointFromX=function(e,t){e=new _e(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},yn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0},yn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,n=0;n<e.length;n++){var c=this._endoSplit(t[n]),g=e[n],m=g._getBeta();c.k1.negative&&(c.k1.ineg(),g=g.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[n*2]=g,i[n*2+1]=m,s[n*2]=c.k1,s[n*2+1]=c.k2}for(var l=this._wnafMulAdd(1,i,s,n*2,r),w=0;w<n*2;w++)i[w]=null,s[w]=null;return l};function zr(e,t,r,i){ca.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _e(t,16),this.y=new _e(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}lp(zr,ca.BasePoint),yn.prototype.point=function(e,t,r){return new zr(this,e,t,r)},yn.prototype.pointFromJSON=function(e,t){return zr.fromJSON(this,e,t)},zr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},zr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},zr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(c){return e.point(c[0],c[1],r)}var n=t[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(s))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(s))}},i},zr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},zr.prototype.isInfinity=function(){return this.inf},zr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},zr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),n=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,c)},zr.prototype.getX=function(){return this.x.fromRed()},zr.prototype.getY=function(){return this.y.fromRed()},zr.prototype.mul=function(e){return e=new _e(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},zr.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},zr.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},zr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},zr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},zr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Vr(e,t,r,i){ca.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _e(0)):(this.x=new _e(t,16),this.y=new _e(r,16),this.z=new _e(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}lp(Vr,ca.BasePoint),yn.prototype.jpoint=function(e,t,r){return new Vr(this,e,t,r)},Vr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Vr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Vr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),n=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),g=i.redSub(s),m=n.redSub(c);if(g.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=g.redSqr(),w=l.redMul(g),_=i.redMul(l),I=m.redSqr().redIAdd(w).redISub(_).redISub(_),D=m.redMul(_.redISub(I)).redISub(n.redMul(w)),C=this.z.redMul(e.z).redMul(g);return this.curve.jpoint(I,D,C)},Vr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,n=e.y.redMul(t).redMul(this.z),c=r.redSub(i),g=s.redSub(n);if(c.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),l=m.redMul(c),w=r.redMul(m),_=g.redSqr().redIAdd(l).redISub(w).redISub(w),I=g.redMul(w.redISub(_)).redISub(s.redMul(l)),D=this.z.redMul(c);return this.curve.jpoint(_,I,D)},Vr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,n=this.x,c=this.y,g=this.z,m=g.redSqr().redSqr(),l=c.redAdd(c);for(t=0;t<e;t++){var w=n.redSqr(),_=l.redSqr(),I=_.redSqr(),D=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(m)),C=n.redMul(_),B=D.redSqr().redISub(C.redAdd(C)),F=C.redISub(B),Q=D.redMul(F);Q=Q.redIAdd(Q).redISub(I);var U=l.redMul(g);t+1<e&&(m=m.redMul(I)),n=B,g=U,l=Q}return this.curve.jpoint(n,l.redMul(s),g)},Vr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Vr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(n);c=c.redIAdd(c);var g=i.redAdd(i).redIAdd(i),m=g.redSqr().redISub(c).redISub(c),l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),e=m,t=g.redMul(c.redISub(m)).redISub(l),r=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),_=this.y.redSqr(),I=_.redSqr(),D=this.x.redAdd(_).redSqr().redISub(w).redISub(I);D=D.redIAdd(D);var C=w.redAdd(w).redIAdd(w),B=C.redSqr(),F=I.redIAdd(I);F=F.redIAdd(F),F=F.redIAdd(F),e=B.redISub(D).redISub(D),t=C.redMul(D.redISub(e)).redISub(F),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Vr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(n);c=c.redIAdd(c);var g=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=g.redSqr().redISub(c).redISub(c);e=m;var l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),t=g.redMul(c.redISub(m)).redISub(l),r=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),_=this.y.redSqr(),I=this.x.redMul(_),D=this.x.redSub(w).redMul(this.x.redAdd(w));D=D.redAdd(D).redIAdd(D);var C=I.redIAdd(I);C=C.redIAdd(C);var B=C.redAdd(C);e=D.redSqr().redISub(B),r=this.y.redAdd(this.z).redSqr().redISub(_).redISub(w);var F=_.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),t=D.redMul(C.redISub(e)).redISub(F)}return this.curve.jpoint(e,t,r)},Vr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),n=t.redSqr(),c=r.redSqr(),g=n.redAdd(n).redIAdd(n).redIAdd(e.redMul(s)),m=t.redAdd(t);m=m.redIAdd(m);var l=m.redMul(c),w=g.redSqr().redISub(l.redAdd(l)),_=l.redISub(w),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var D=g.redMul(_).redISub(I),C=r.redAdd(r).redMul(i);return this.curve.jpoint(w,D,C)},Vr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),n=s.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(n);var g=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var l=s.redIAdd(c).redSqr().redISub(n).redISub(g).redISub(m),w=t.redMul(l);w=w.redIAdd(w),w=w.redIAdd(w);var _=this.x.redMul(g).redISub(w);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.y.redMul(l.redMul(m.redISub(l)).redISub(c.redMul(g)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var D=this.z.redAdd(c).redSqr().redISub(r).redISub(g);return this.curve.jpoint(_,I,D)},Vr.prototype.mul=function(e,t){return e=new _e(e,t),this.curve._wnafMul(this,e)},Vr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},Vr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}},Vr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Vr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ec=hh(function(e,t){var r=t;r.base=ca,r.short=NI,r.mont=null,r.edwards=null}),Mc=hh(function(e,t){var r=t,i=Ji.assert;function s(g){g.type==="short"?this.curve=new Ec.short(g):g.type==="edwards"?this.curve=new Ec.edwards(g):this.curve=new Ec.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function n(g,m){Object.defineProperty(r,g,{configurable:!0,enumerable:!0,get:function(){var l=new s(m);return Object.defineProperty(r,g,{configurable:!0,enumerable:!0,value:l}),l}})}n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:is.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:is.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:is.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:is.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:is.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:is.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:is.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:is.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function xo(e){if(!(this instanceof xo))return new xo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=$n.toArray(e.entropy,e.entropyEnc||"hex"),r=$n.toArray(e.nonce,e.nonceEnc||"hex"),i=$n.toArray(e.pers,e.persEnc||"hex");cp(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var g3=xo;xo.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},xo.prototype._hmac=function(){return new is.hmac(this.hash,this.K)},xo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},xo.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=$n.toArray(e,t),r=$n.toArray(r,i),cp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},xo.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=$n.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var n=s.slice(0,e);return this._update(r),this._reseed++,$n.encode(n,t)};var Nd=Ji.assert;function ni(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Cd=ni;ni.fromPublic=function(e,t,r){return t instanceof ni?t:new ni(e,{pub:t,pubEnc:r})},ni.fromPrivate=function(e,t,r){return t instanceof ni?t:new ni(e,{priv:t,privEnc:r})},ni.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ni.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ni.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ni.prototype._importPrivate=function(e,t){this.priv=new _e(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ni.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Nd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Nd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},ni.prototype.derive=function(e){return e.validate()||Nd(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ni.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ni.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ni.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var CI=Ji.assert;function f0(e,t){if(e instanceof f0)return e;this._importDER(e,t)||(CI(e.r&&e.s,"Signature without r or s"),this.r=new _e(e.r,16),this.s=new _e(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var ec=f0;function RI(){this.place=0}function Rd(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var s=0,n=0,c=t.place;n<i;n++,c++)s<<=8,s|=e[c],s>>>=0;return s<=127?!1:(t.place=c,s)}function v3(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}f0.prototype._importDER=function(e,t){e=Ji.toArray(e,t);var r=new RI;if(e[r.place++]!==48)return!1;var i=Rd(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=Rd(e,r);if(s===!1)return!1;var n=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var c=Rd(e,r);if(c===!1||e.length!==c+r.place)return!1;var g=e.slice(r.place,c+r.place);if(n[0]===0)if(n[1]&128)n=n.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new _e(n),this.s=new _e(g),this.recoveryParam=null,!0};function Pd(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}f0.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=v3(t),r=v3(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Pd(i,t.length),i=i.concat(t),i.push(2),Pd(i,r.length);var s=i.concat(r),n=[48];return Pd(n,s.length),n=n.concat(s),Ji.encode(n,e)};var PI=function(){throw new Error("unsupported")},zb=Ji.assert;function gn(e){if(!(this instanceof gn))return new gn(e);typeof e=="string"&&(zb(Object.prototype.hasOwnProperty.call(Mc,e),"Unknown curve "+e),e=Mc[e]),e instanceof Mc.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var OI=gn;gn.prototype.keyPair=function(e){return new Cd(this,e)},gn.prototype.keyFromPrivate=function(e,t){return Cd.fromPrivate(this,e,t)},gn.prototype.keyFromPublic=function(e,t){return Cd.fromPublic(this,e,t)},gn.prototype.genKeyPair=function(e){e||(e={});for(var t=new g3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||PI(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new _e(2));;){var s=new _e(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},gn.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},gn.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _e(e,16));for(var s=this.n.byteLength(),n=t.getPrivate().toArray("be",s),c=e.toArray("be",s),g=new g3({hash:this.hash,entropy:n,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new _e(1)),l=0;;l++){var w=i.k?i.k(l):new _e(g.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(m)>=0)){var _=this.g.mul(w);if(!_.isInfinity()){var I=_.getX(),D=I.umod(this.n);if(D.cmpn(0)!==0){var C=w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var B=(_.getY().isOdd()?1:0)|(I.cmp(D)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),B^=1),new ec({r:D,s:C,recoveryParam:B})}}}}}},gn.prototype.verify=function(e,t,r,i){e=this._truncateToN(new _e(e,16)),r=this.keyFromPublic(r,i),t=new ec(t,"hex");var s=t.r,n=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var c=n.invm(this.n),g=c.mul(e).umod(this.n),m=c.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(g,r.getPublic(),m),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(g,r.getPublic(),m),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)},gn.prototype.recoverPubKey=function(e,t,r,i){zb((3&r)===r,"The recovery param is more than two bits"),t=new ec(t,i);var s=this.n,n=new _e(e),c=t.r,g=t.s,m=r&1,l=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?c=this.curve.pointFromX(c.add(this.curve.n),m):c=this.curve.pointFromX(c,m);var w=t.r.invm(s),_=s.sub(n).mul(w).umod(s),I=g.mul(w).umod(s);return this.g.mulAdd(_,c,I)},gn.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new ec(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var s=0;s<4;s++){var n;try{n=this.recoverPubKey(e,t,s)}catch{continue}if(n.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var BI=hh(function(e,t){var r=t;r.version="6.5.4",r.utils=Ji,r.rand=function(){throw new Error("unsupported")},r.curve=Ec,r.curves=Mc,r.ec=OI,r.eddsa=null});BI.ec;var m3;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(m3||(m3={}));const TI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function FI(e,t){const{message:r,code:i}=TI[e];return{message:r,code:i}}function O1(e,t){return!!Array.isArray(e)}class la{}let qI=class extends la{constructor(t){super()}};const b3=ee.FIVE_SECONDS,fh={pulse:"heartbeat_pulse"};let UI=class $b extends qI{constructor(t){super(t),this.events=new Wi.EventEmitter,this.interval=b3,this.interval=(t==null?void 0:t.interval)||b3}static async init(t){const r=new $b(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ee.toMiliseconds(this.interval))}pulse(){this.events.emit(fh.pulse)}};const LI=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,kI=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,zI=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function $I(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){HI(e);return}return t}function HI(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function rc(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!zI.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(LI.test(e)||kI.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,$I)}return JSON.parse(e)}catch(i){if(t.strict)throw i;return e}}function jI(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Kr(e,...t){try{return jI(e(...t))}catch(r){return Promise.reject(r)}}function KI(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function GI(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Sc(e){if(KI(e))return String(e);if(GI(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Sc(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const B1="base64:";function QI(e){return typeof e=="string"?e:B1+YI(e)}function JI(e){return typeof e!="string"||!e.startsWith(B1)?e:VI(e.slice(B1.length))}function VI(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function YI(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Ri(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function WI(...e){return Ri(e.join(":"))}function ic(e){return e=Ri(e),e?e+":":""}const XI="memory",ZI=()=>{const e=new Map;return{name:XI,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function tD(e={}){const t={mounts:{"":e.driver||ZI()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const w of t.mountpoints)if(l.startsWith(w))return{base:w,relativeKey:l.slice(w.length),driver:t.mounts[w]};return{base:"",relativeKey:l,driver:t.mounts[""]}},i=(l,w)=>t.mountpoints.filter(_=>_.startsWith(l)||w&&l.startsWith(_)).map(_=>({relativeBase:l.length>_.length?l.slice(_.length):void 0,mountpoint:_,driver:t.mounts[_]})),s=(l,w)=>{if(t.watching){w=Ri(w);for(const _ of t.watchListeners)_(l,w)}},n=async()=>{if(!t.watching){t.watching=!0;for(const l in t.mounts)t.unwatch[l]=await y3(t.mounts[l],s,l)}},c=async()=>{if(t.watching){for(const l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},g=(l,w,_)=>{const I=new Map,D=C=>{let B=I.get(C.base);return B||(B={driver:C.driver,base:C.base,items:[]},I.set(C.base,B)),B};for(const C of l){const B=typeof C=="string",F=Ri(B?C:C.key),Q=B?void 0:C.value,U=B||!C.options?w:{...w,...C.options},J=r(F);D(J).items.push({key:F,value:Q,relativeKey:J.relativeKey,options:U})}return Promise.all([...I.values()].map(C=>_(C))).then(C=>C.flat())},m={hasItem(l,w={}){l=Ri(l);const{relativeKey:_,driver:I}=r(l);return Kr(I.hasItem,_,w)},getItem(l,w={}){l=Ri(l);const{relativeKey:_,driver:I}=r(l);return Kr(I.getItem,_,w).then(D=>rc(D))},getItems(l,w={}){return g(l,w,_=>_.driver.getItems?Kr(_.driver.getItems,_.items.map(I=>({key:I.relativeKey,options:I.options})),w).then(I=>I.map(D=>({key:WI(_.base,D.key),value:rc(D.value)}))):Promise.all(_.items.map(I=>Kr(_.driver.getItem,I.relativeKey,I.options).then(D=>({key:I.key,value:rc(D)})))))},getItemRaw(l,w={}){l=Ri(l);const{relativeKey:_,driver:I}=r(l);return I.getItemRaw?Kr(I.getItemRaw,_,w):Kr(I.getItem,_,w).then(D=>JI(D))},async setItem(l,w,_={}){if(w===void 0)return m.removeItem(l);l=Ri(l);const{relativeKey:I,driver:D}=r(l);D.setItem&&(await Kr(D.setItem,I,Sc(w),_),D.watch||s("update",l))},async setItems(l,w){await g(l,w,async _=>{if(_.driver.setItems)return Kr(_.driver.setItems,_.items.map(I=>({key:I.relativeKey,value:Sc(I.value),options:I.options})),w);_.driver.setItem&&await Promise.all(_.items.map(I=>Kr(_.driver.setItem,I.relativeKey,Sc(I.value),I.options)))})},async setItemRaw(l,w,_={}){if(w===void 0)return m.removeItem(l,_);l=Ri(l);const{relativeKey:I,driver:D}=r(l);if(D.setItemRaw)await Kr(D.setItemRaw,I,w,_);else if(D.setItem)await Kr(D.setItem,I,QI(w),_);else return;D.watch||s("update",l)},async removeItem(l,w={}){typeof w=="boolean"&&(w={removeMeta:w}),l=Ri(l);const{relativeKey:_,driver:I}=r(l);I.removeItem&&(await Kr(I.removeItem,_,w),(w.removeMeta||w.removeMata)&&await Kr(I.removeItem,_+"$",w),I.watch||s("remove",l))},async getMeta(l,w={}){typeof w=="boolean"&&(w={nativeOnly:w}),l=Ri(l);const{relativeKey:_,driver:I}=r(l),D=Object.create(null);if(I.getMeta&&Object.assign(D,await Kr(I.getMeta,_,w)),!w.nativeOnly){const C=await Kr(I.getItem,_+"$",w).then(B=>rc(B));C&&typeof C=="object"&&(typeof C.atime=="string"&&(C.atime=new Date(C.atime)),typeof C.mtime=="string"&&(C.mtime=new Date(C.mtime)),Object.assign(D,C))}return D},setMeta(l,w,_={}){return this.setItem(l+"$",w,_)},removeMeta(l,w={}){return this.removeItem(l+"$",w)},async getKeys(l,w={}){l=ic(l);const _=i(l,!0);let I=[];const D=[];for(const C of _){const B=await Kr(C.driver.getKeys,C.relativeBase,w);for(const F of B){const Q=C.mountpoint+Ri(F);I.some(U=>Q.startsWith(U))||D.push(Q)}I=[C.mountpoint,...I.filter(F=>!F.startsWith(C.mountpoint))]}return l?D.filter(C=>C.startsWith(l)&&C[C.length-1]!=="$"):D.filter(C=>C[C.length-1]!=="$")},async clear(l,w={}){l=ic(l),await Promise.all(i(l,!1).map(async _=>{if(_.driver.clear)return Kr(_.driver.clear,_.relativeBase,w);if(_.driver.removeItem){const I=await _.driver.getKeys(_.relativeBase||"",w);return Promise.all(I.map(D=>_.driver.removeItem(D,w)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>w3(l)))},async watch(l){return await n(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(w=>w!==l),t.watchListeners.length===0&&await c()}},async unwatch(){t.watchListeners=[],await c()},mount(l,w){if(l=ic(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((_,I)=>I.length-_.length)),t.mounts[l]=w,t.watching&&Promise.resolve(y3(w,s,l)).then(_=>{t.unwatch[l]=_}).catch(console.error),m},async unmount(l,w=!0){var _,I;l=ic(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&((I=(_=t.unwatch)[l])==null||I.call(_),delete t.unwatch[l]),w&&await w3(t.mounts[l]),t.mountpoints=t.mountpoints.filter(D=>D!==l),delete t.mounts[l])},getMount(l=""){l=Ri(l)+":";const w=r(l);return{driver:w.driver,base:w.base}},getMounts(l="",w={}){return l=Ri(l),i(l,w.parents).map(I=>({driver:I.driver,base:I.mountpoint}))},keys:(l,w={})=>m.getKeys(l,w),get:(l,w={})=>m.getItem(l,w),set:(l,w,_={})=>m.setItem(l,w,_),has:(l,w={})=>m.hasItem(l,w),del:(l,w={})=>m.removeItem(l,w),remove:(l,w={})=>m.removeItem(l,w)};return m}function y3(e,t,r){return e.watch?e.watch((i,s)=>t(i,r+s)):()=>{}}async function w3(e){typeof e.dispose=="function"&&await Kr(e.dispose)}function da(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function Hb(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const i=da(r);return(s,n)=>i.then(c=>n(c.transaction(t,s).objectStore(t)))}let Od;function Of(){return Od||(Od=Hb("keyval-store","keyval")),Od}function A3(e,t=Of()){return t("readonly",r=>da(r.get(e)))}function eD(e,t,r=Of()){return r("readwrite",i=>(i.put(t,e),da(i.transaction)))}function rD(e,t=Of()){return t("readwrite",r=>(r.delete(e),da(r.transaction)))}function iD(e=Of()){return e("readwrite",t=>(t.clear(),da(t.transaction)))}function nD(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},da(e.transaction)}function sD(e=Of()){return e("readonly",t=>{if(t.getAllKeys)return da(t.getAllKeys());const r=[];return nD(t,i=>r.push(i.key)).then(()=>r)})}const oD="idb-keyval";var aD=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s;let i;return e.dbName&&e.storeName&&(i=Hb(e.dbName,e.storeName)),{name:oD,options:e,async hasItem(s){return!(typeof await A3(r(s),i)>"u")},async getItem(s){return await A3(r(s),i)??null},setItem(s,n){return eD(r(s),n,i)},removeItem(s){return rD(r(s),i)},getKeys(){return sD(i)},clear(){return iD(i)}}};const hD="WALLET_CONNECT_V2_INDEXED_DB",fD="keyvaluestorage";let uD=class{constructor(){this.indexedDb=tD({driver:aD({dbName:hD,storeName:fD})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,oo(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xc={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,i){this[r]=String(i)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Bd<"u"&&Bd.localStorage?xc.exports=Bd.localStorage:typeof window<"u"&&window.localStorage?xc.exports=window.localStorage:xc.exports=new t})();function cD(e){var t;return[e[0],aa((t=e[1])!=null?t:"")]}let lD=class{constructor(){this.localStorage=xc.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(cD)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return aa(r)}async setItem(t,r){this.localStorage.setItem(t,oo(r))}async removeItem(t){this.localStorage.removeItem(t)}};const dD="wc_storage_version",_3=1,pD=async(e,t,r)=>{const i=dD,s=await t.getItem(i);if(s&&s>=_3){r(t);return}const n=await e.getKeys();if(!n.length){r(t);return}const c=[];for(;n.length;){const g=n.shift();if(!g)continue;const m=g.toLowerCase();if(m.includes("wc@")||m.includes("walletconnect")||m.includes("wc_")||m.includes("wallet_connect")){const l=await e.getItem(g);await t.setItem(g,l),c.push(g)}}await t.setItem(i,_3),r(t),gD(e,c)},gD=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let vD=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new lD;this.storage=t;try{const r=new uD;pD(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};var Td,E3;function mD(){if(E3)return Td;E3=1;function e(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Td=t;function t(r,i,s){var n=s&&s.stringify||e,c=1;if(typeof r=="object"&&r!==null){var g=i.length+c;if(g===1)return r;var m=new Array(g);m[0]=n(r);for(var l=1;l<g;l++)m[l]=n(i[l]);return m.join(" ")}if(typeof r!="string")return r;var w=i.length;if(w===0)return r;for(var _="",I=1-c,D=-1,C=r&&r.length||0,B=0;B<C;){if(r.charCodeAt(B)===37&&B+1<C){switch(D=D>-1?D:0,r.charCodeAt(B+1)){case 100:case 102:if(I>=w||i[I]==null)break;D<B&&(_+=r.slice(D,B)),_+=Number(i[I]),D=B+2,B++;break;case 105:if(I>=w||i[I]==null)break;D<B&&(_+=r.slice(D,B)),_+=Math.floor(Number(i[I])),D=B+2,B++;break;case 79:case 111:case 106:if(I>=w||i[I]===void 0)break;D<B&&(_+=r.slice(D,B));var F=typeof i[I];if(F==="string"){_+="'"+i[I]+"'",D=B+2,B++;break}if(F==="function"){_+=i[I].name||"<anonymous>",D=B+2,B++;break}_+=n(i[I]),D=B+2,B++;break;case 115:if(I>=w)break;D<B&&(_+=r.slice(D,B)),_+=String(i[I]),D=B+2,B++;break;case 37:D<B&&(_+=r.slice(D,B)),_+="%",D=B+2,B++,I--;break}++I}++B}return D===-1?r:(D<C&&(_+=r.slice(D)),_)}return Td}var Fd,M3;function bD(){if(M3)return Fd;M3=1;const e=mD();Fd=s;const t=$().console||{},r={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:B,wrapResponseSerializer:B,wrapErrorSerializer:B,req:C,res:C,err:I};function i(q,R){return Array.isArray(q)?q.filter(function(rt){return rt!=="!stdSerializers.err"}):q===!0?Object.keys(R):!1}function s(q){q=q||{},q.browser=q.browser||{};const R=q.browser.transmit;if(R&&typeof R.send!="function")throw Error("pino: transmit option must have a send function");const H=q.browser.write||t;q.browser.write&&(q.browser.asObject=!0);const rt=q.serializers||{},ot=i(q.browser.serialize,rt);let G=q.browser.serialize;Array.isArray(q.browser.serialize)&&q.browser.serialize.indexOf("!stdSerializers.err")>-1&&(G=!1);const x=["error","fatal","warn","info","debug","trace"];typeof H=="function"&&(H.error=H.fatal=H.warn=H.info=H.debug=H.trace=H),q.enabled===!1&&(q.level="silent");const o=q.level||"info",h=Object.create(H);h.log||(h.log=F),Object.defineProperty(h,"levelVal",{get:v}),Object.defineProperty(h,"level",{get:y,set:A});const u={transmit:R,serialize:ot,asObject:q.browser.asObject,levels:x,timestamp:D(q)};h.levels=s.levels,h.level=o,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=F,h.serializers=rt,h._serialize=ot,h._stdErrSerialize=G,h.child=E,R&&(h._logEvent=_());function v(){return this.level==="silent"?1/0:this.levels.values[this.level]}function y(){return this._level}function A(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,n(u,h,"error","log"),n(u,h,"fatal","error"),n(u,h,"warn","error"),n(u,h,"info","log"),n(u,h,"debug","log"),n(u,h,"trace","log")}function E(p,f){if(!p)throw new Error("missing bindings for child Pino");f=f||{},ot&&p.serializers&&(f.serializers=p.serializers);const M=f.serializers;if(ot&&M){var V=Object.assign({},rt,M),W=q.browser.serialize===!0?Object.keys(V):ot;delete p.serializers,m([p],W,V,this._stdErrSerialize)}function b(L){this._childLevel=(L._childLevel|0)+1,this.error=l(L,p,"error"),this.fatal=l(L,p,"fatal"),this.warn=l(L,p,"warn"),this.info=l(L,p,"info"),this.debug=l(L,p,"debug"),this.trace=l(L,p,"trace"),V&&(this.serializers=V,this._serialize=W),R&&(this._logEvent=_([].concat(L._logEvent.bindings,p)))}return b.prototype=this,new b(this)}return h}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=r,s.stdTimeFunctions=Object.assign({},{nullTime:Q,epochTime:U,unixTime:J,isoTime:z});function n(q,R,H,rt){const ot=Object.getPrototypeOf(R);R[H]=R.levelVal>R.levels.values[H]?F:ot[H]?ot[H]:t[H]||t[rt]||F,c(q,R,H)}function c(q,R,H){!q.transmit&&R[H]===F||(R[H]=function(rt){return function(){const G=q.timestamp(),x=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var h=0;h<x.length;h++)x[h]=arguments[h];if(q.serialize&&!q.asObject&&m(x,this._serialize,this.serializers,this._stdErrSerialize),q.asObject?rt.call(o,g(this,H,x,G)):rt.apply(o,x),q.transmit){const u=q.transmit.level||R.level,v=s.levels.values[u],y=s.levels.values[H];if(y<v)return;w(this,{ts:G,methodLevel:H,methodValue:y,transmitLevel:u,transmitValue:s.levels.values[q.transmit.level||R.level],send:q.transmit.send,val:R.levelVal},x)}}}(R[H]))}function g(q,R,H,rt){q._serialize&&m(H,q._serialize,q.serializers,q._stdErrSerialize);const ot=H.slice();let G=ot[0];const x={};rt&&(x.time=rt),x.level=s.levels.values[R];let o=(q._childLevel|0)+1;if(o<1&&(o=1),G!==null&&typeof G=="object"){for(;o--&&typeof ot[0]=="object";)Object.assign(x,ot.shift());G=ot.length?e(ot.shift(),ot):void 0}else typeof G=="string"&&(G=e(ot.shift(),ot));return G!==void 0&&(x.msg=G),x}function m(q,R,H,rt){for(const ot in q)if(rt&&q[ot]instanceof Error)q[ot]=s.stdSerializers.err(q[ot]);else if(typeof q[ot]=="object"&&!Array.isArray(q[ot]))for(const G in q[ot])R&&R.indexOf(G)>-1&&G in H&&(q[ot][G]=H[G](q[ot][G]))}function l(q,R,H){return function(){const rt=new Array(1+arguments.length);rt[0]=R;for(var ot=1;ot<rt.length;ot++)rt[ot]=arguments[ot-1];return q[H].apply(this,rt)}}function w(q,R,H){const rt=R.send,ot=R.ts,G=R.methodLevel,x=R.methodValue,o=R.val,h=q._logEvent.bindings;m(H,q._serialize||Object.keys(q.serializers),q.serializers,q._stdErrSerialize===void 0?!0:q._stdErrSerialize),q._logEvent.ts=ot,q._logEvent.messages=H.filter(function(u){return h.indexOf(u)===-1}),q._logEvent.level.label=G,q._logEvent.level.value=x,rt(G,q._logEvent,o),q._logEvent=_(h)}function _(q){return{ts:0,messages:[],bindings:q||[],level:{label:"",value:0}}}function I(q){const R={type:q.constructor.name,msg:q.message,stack:q.stack};for(const H in q)R[H]===void 0&&(R[H]=q[H]);return R}function D(q){return typeof q.timestamp=="function"?q.timestamp:q.timestamp===!1?Q:U}function C(){return{}}function B(q){return q}function F(){}function Q(){return!1}function U(){return Date.now()}function J(){return Math.round(Date.now()/1e3)}function z(){return new Date(Date.now()).toISOString()}function $(){function q(R){return typeof R<"u"&&R}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return q(self)||q(window)||q(this)||{}}}return Fd}var ka=bD();const Bf=i0(ka),yD={level:"info"},Tf="custom_context",dp=1e3*1024;let wD=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},S3=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new wD(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}},jb=class{constructor(t,r=dp){this.level=t??"error",this.levelValue=ka.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new S3(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===ka.levels.values.error?console.error(t):r===ka.levels.values.warn?console.warn(t):r===ka.levels.values.debug?console.debug(t):r===ka.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(oo({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new S3(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(oo({extraMetadata:t})),new Blob(r,{type:"application/json"})}},AD=class{constructor(t,r=dp){this.baseChunkLogger=new jb(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),i=document.createElement("a");i.href=r,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}};class _D{constructor(t,r=dp){this.baseChunkLogger=new jb(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var ED=Object.defineProperty,MD=Object.defineProperties,SD=Object.getOwnPropertyDescriptors,x3=Object.getOwnPropertySymbols,xD=Object.prototype.hasOwnProperty,ID=Object.prototype.propertyIsEnumerable,I3=(e,t,r)=>t in e?ED(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zc=(e,t)=>{for(var r in t||(t={}))xD.call(t,r)&&I3(e,r,t[r]);if(x3)for(var r of x3(t))ID.call(t,r)&&I3(e,r,t[r]);return e},$c=(e,t)=>MD(e,SD(t));function u0(e){return $c(zc({},e),{level:(e==null?void 0:e.level)||yD.level})}function DD(e,t=Tf){return e[t]||""}function ND(e,t,r=Tf){return e[r]=t,e}function Li(e,t=Tf){let r="";return typeof e.bindings>"u"?r=DD(e,t):r=e.bindings().context||"",r}function CD(e,t,r=Tf){const i=Li(e,r);return i.trim()?`${i}/${t}`:t}function _i(e,t,r=Tf){const i=CD(e,t,r),s=e.child({context:i});return ND(s,i,r)}function RD(e){var t,r;const i=new AD((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Bf($c(zc({},e.opts),{level:"trace",browser:$c(zc({},(r=e.opts)==null?void 0:r.browser),{write:s=>i.write(s)})})),chunkLoggerController:i}}function PD(e){var t;const r=new _D((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Bf($c(zc({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function OD(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?RD(e):PD(e)}let BD=class extends la{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},TD=class extends la{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},FD=class{constructor(t,r){this.logger=t,this.core=r}},qD=class extends la{constructor(t,r){super(),this.relayer=t,this.logger=r}},UD=class extends la{constructor(t){super()}},LD=class{constructor(t,r,i,s){this.core=t,this.logger=r,this.name=i}},kD=class extends la{constructor(t,r){super(),this.relayer=t,this.logger=r}},zD=class extends la{constructor(t,r){super(),this.core=t,this.logger=r}},$D=class{constructor(t,r,i){this.core=t,this.logger=r,this.store=i}},HD=class{constructor(t,r){this.projectId=t,this.logger=r}},jD=class{constructor(t,r,i){this.core=t,this.logger=r,this.telemetryEnabled=i}},KD=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},GD=class{constructor(t){this.client=t}};const QD="EdDSA",JD="JWT",Hc=".",c0="base64url",Kb="utf8",Gb="utf8",VD=":",YD="did",WD="key",D3="base58btc",XD="z",ZD="K36",tN=32;function N3(e){return aa(Qr(Gr(e,c0),Kb))}function jc(e){return Qr(Gr(oo(e),Kb),c0)}function Qb(e){const t=Gr(ZD,D3),r=XD+Qr(yc([t,e]),D3);return[YD,WD,r].join(VD)}function eN(e){return Qr(e,c0)}function rN(e){return Gr(e,c0)}function iN(e){return Gr([jc(e.header),jc(e.payload)].join(Hc),Gb)}function nN(e){return[jc(e.header),jc(e.payload),eN(e.signature)].join(Hc)}function T1(e){const t=e.split(Hc),r=N3(t[0]),i=N3(t[1]),s=rN(t[2]),n=Gr(t.slice(0,2).join(Hc),Gb);return{header:r,payload:i,signature:s,data:n}}function C3(e=Df.randomBytes(tN)){return fb.generateKeyPairFromSeed(e)}async function sN(e,t,r,i,s=ee.fromMiliseconds(Date.now())){const n={alg:QD,typ:JD},c=Qb(i.publicKey),g=s+r,m={iss:c,sub:e,aud:t,iat:s,exp:g},l=iN({header:n,payload:m}),w=fb.sign(i.secretKey,l);return nN({header:n,payload:m,signature:w})}var oN={};const aN=":";function qd(e){const[t,r]=e.split(aN);return{namespace:t,reference:r}}function Jb(e,t){return e.includes(":")?[e]:t.chains||[]}var hN=Object.defineProperty,R3=Object.getOwnPropertySymbols,fN=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,P3=(e,t,r)=>t in e?hN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O3=(e,t)=>{for(var r in t||(t={}))fN.call(t,r)&&P3(e,r,t[r]);if(R3)for(var r of R3(t))uN.call(t,r)&&P3(e,r,t[r]);return e};const cN="ReactNative",Gi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},lN="js";function Kc(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function uh(){return!Wa.getDocument()&&!!Wa.getNavigator()&&navigator.product===cN}function Ff(){return!Kc()&&!!Wa.getNavigator()&&!!Wa.getDocument()}function qf(){return uh()?Gi.reactNative:Kc()?Gi.node:Ff()?Gi.browser:Gi.unknown}function dN(){var e;try{return uh()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function pN(e,t){let r=qc.parse(e);return r=O3(O3({},r),t),e=qc.stringify(r),e}function Vb(){return EE.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function gN(){if(qf()===Gi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:i}=global.Platform;return[r,i].join("-")}const e=z_();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function vN(){var e;const t=qf();return t===Gi.browser?[t,((e=Wa.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function Yb(e,t,r){const i=gN(),s=vN();return[[e,t].join("-"),[lN,r].join("-"),i,s].join("/")}function mN({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:s,projectId:n,useOnCloseEvent:c,bundleId:g}){const m=r.split("?"),l=Yb(e,t,i),w={auth:s,ua:l,projectId:n,useOnCloseEvent:c||void 0,origin:g||void 0},_=pN(m[1]||"",w);return m[0]+"?"+_}function ra(e,t){return e.filter(r=>t.includes(r)).length===e.length}function Wb(e){return Object.fromEntries(e.entries())}function Xb(e){return new Map(Object.entries(e))}function ta(e=ee.FIVE_MINUTES,t){const r=ee.toMiliseconds(e||ee.FIVE_MINUTES);let i,s,n;return{resolve:c=>{n&&i&&(clearTimeout(n),i(c))},reject:c=>{n&&s&&(clearTimeout(n),s(c))},done:()=>new Promise((c,g)=>{n=setTimeout(()=>{g(new Error(t))},r),i=c,s=g})}}function Ga(e,t,r){return new Promise(async(i,s)=>{const n=setTimeout(()=>s(new Error(r)),t);try{const c=await e;i(c)}catch(c){s(c)}clearTimeout(n)})}function Zb(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function bN(e){return Zb("topic",e)}function yN(e){return Zb("id",e)}function ty(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Ur(e,t){return ee.fromMiliseconds(Date.now()+ee.toMiliseconds(e))}function _o(e){return Date.now()>=ee.toMiliseconds(e)}function Re(e,t){return`${e}${t?`:${t}`:""}`}function wN(e=[],t=[]){return[...new Set([...e,...t])]}async function AN({id:e,topic:t,wcDeepLink:r}){var i;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,n=s==null?void 0:s.href;if(typeof n!="string")return;const c=_N(n,e,t),g=qf();if(g===Gi.browser){if(!((i=Wa.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}c.startsWith("https://")||c.startsWith("http://")?window.open(c,"_blank","noreferrer noopener"):window.open(c,MN()?"_blank":"_self","noreferrer noopener")}else g===Gi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(s){console.error(s)}}function _N(e,t,r){const i=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const n=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${n}${SN(i,!0)}`}else s=`${s}/wc?${i}`;return s}async function EN(e,t){let r="";try{if(Ff()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(i){console.error(i)}return r}function B3(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),i=r.indexOf(t);return r[i+2]}function T3(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function pp(){return typeof process<"u"&&oN.IS_VITEST==="true"}function MN(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function SN(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function ey(e){return Buffer.from(e,"base64").toString("utf-8")}var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xN(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var iy={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var n=!i&&typeof self=="object",c=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?s=ry:n&&(s=self);var g=!s.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,m=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],I=[1,256,65536,16777216],D=[6,1536,393216,100663296],C=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],F=[224,256,384,512],Q=[128,256],U=["hex","buffer","arrayBuffer","array","digest"],J={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"}),m&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(b){return typeof b=="object"&&b.buffer&&b.buffer.constructor===ArrayBuffer});for(var z=function(b,L,O){return function(T){return new M(b,L,b).update(T)[O]()}},$=function(b,L,O){return function(T,j){return new M(b,L,j).update(T)[O]()}},q=function(b,L,O){return function(T,j,N,k){return h["cshake"+b].update(T,j,N,k)[O]()}},R=function(b,L,O){return function(T,j,N,k){return h["kmac"+b].update(T,j,N,k)[O]()}},H=function(b,L,O,T){for(var j=0;j<U.length;++j){var N=U[j];b[N]=L(O,T,N)}return b},rt=function(b,L){var O=z(b,L,"hex");return O.create=function(){return new M(b,L,b)},O.update=function(T){return O.create().update(T)},H(O,z,b,L)},ot=function(b,L){var O=$(b,L,"hex");return O.create=function(T){return new M(b,L,T)},O.update=function(T,j){return O.create(j).update(T)},H(O,$,b,L)},G=function(b,L){var O=J[b],T=q(b,L,"hex");return T.create=function(j,N,k){return!N&&!k?h["shake"+b].create(j):new M(b,L,j).bytepad([N,k],O)},T.update=function(j,N,k,Z){return T.create(N,k,Z).update(j)},H(T,q,b,L)},x=function(b,L){var O=J[b],T=R(b,L,"hex");return T.create=function(j,N,k){return new V(b,L,N).bytepad(["KMAC",k],O).bytepad([j],O)},T.update=function(j,N,k,Z){return T.create(j,k,Z).update(N)},H(T,R,b,L)},o=[{name:"keccak",padding:I,bits:F,createMethod:rt},{name:"sha3",padding:D,bits:F,createMethod:rt},{name:"shake",padding:w,bits:Q,createMethod:ot},{name:"cshake",padding:_,bits:Q,createMethod:G},{name:"kmac",padding:_,bits:Q,createMethod:x}],h={},u=[],v=0;v<o.length;++v)for(var y=o[v],A=y.bits,E=0;E<A.length;++E){var p=y.name+"_"+A[E];if(u.push(p),h[p]=y.createMethod(A[E],y.padding),y.name!=="sha3"){var f=y.name+A[E];u.push(f),h[f]=h[p]}}function M(b,L,O){this.blocks=[],this.s=[],this.padding=L,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(b<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}M.prototype.update=function(b){if(this.finalized)throw new Error(r);var L,O=typeof b;if(O!=="string"){if(O==="object"){if(b===null)throw new Error(t);if(m&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!m||!ArrayBuffer.isView(b)))throw new Error(t)}else throw new Error(t);L=!0}for(var T=this.blocks,j=this.byteCount,N=b.length,k=this.blockCount,Z=0,nt=this.s,et,ct;Z<N;){if(this.reset)for(this.reset=!1,T[0]=this.block,et=1;et<k+1;++et)T[et]=0;if(L)for(et=this.start;Z<N&&et<j;++Z)T[et>>2]|=b[Z]<<C[et++&3];else for(et=this.start;Z<N&&et<j;++Z)ct=b.charCodeAt(Z),ct<128?T[et>>2]|=ct<<C[et++&3]:ct<2048?(T[et>>2]|=(192|ct>>6)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]):ct<55296||ct>=57344?(T[et>>2]|=(224|ct>>12)<<C[et++&3],T[et>>2]|=(128|ct>>6&63)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]):(ct=65536+((ct&1023)<<10|b.charCodeAt(++Z)&1023),T[et>>2]|=(240|ct>>18)<<C[et++&3],T[et>>2]|=(128|ct>>12&63)<<C[et++&3],T[et>>2]|=(128|ct>>6&63)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]);if(this.lastByteIndex=et,et>=j){for(this.start=et-j,this.block=T[k],et=0;et<k;++et)nt[et]^=T[et];W(nt),this.reset=!0}else this.start=et}return this},M.prototype.encode=function(b,L){var O=b&255,T=1,j=[O];for(b=b>>8,O=b&255;O>0;)j.unshift(O),b=b>>8,O=b&255,++T;return L?j.push(T):j.unshift(T),this.update(j),j.length},M.prototype.encodeString=function(b){var L,O=typeof b;if(O!=="string"){if(O==="object"){if(b===null)throw new Error(t);if(m&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!m||!ArrayBuffer.isView(b)))throw new Error(t)}else throw new Error(t);L=!0}var T=0,j=b.length;if(L)T=j;else for(var N=0;N<b.length;++N){var k=b.charCodeAt(N);k<128?T+=1:k<2048?T+=2:k<55296||k>=57344?T+=3:(k=65536+((k&1023)<<10|b.charCodeAt(++N)&1023),T+=4)}return T+=this.encode(T*8),this.update(b),T},M.prototype.bytepad=function(b,L){for(var O=this.encode(L),T=0;T<b.length;++T)O+=this.encodeString(b[T]);var j=L-O%L,N=[];return N.length=j,this.update(N),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var b=this.blocks,L=this.lastByteIndex,O=this.blockCount,T=this.s;if(b[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(b[0]=b[O],L=1;L<O+1;++L)b[L]=0;for(b[O-1]|=2147483648,L=0;L<O;++L)T[L]^=b[L];W(T)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k="",Z;N<O;){for(j=0;j<b&&N<O;++j,++N)Z=L[j],k+=l[Z>>4&15]+l[Z&15]+l[Z>>12&15]+l[Z>>8&15]+l[Z>>20&15]+l[Z>>16&15]+l[Z>>28&15]+l[Z>>24&15];N%b===0&&(W(L),j=0)}return T&&(Z=L[j],k+=l[Z>>4&15]+l[Z&15],T>1&&(k+=l[Z>>12&15]+l[Z>>8&15]),T>2&&(k+=l[Z>>20&15]+l[Z>>16&15])),k},M.prototype.arrayBuffer=function(){this.finalize();var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k=this.outputBits>>3,Z;T?Z=new ArrayBuffer(O+1<<2):Z=new ArrayBuffer(k);for(var nt=new Uint32Array(Z);N<O;){for(j=0;j<b&&N<O;++j,++N)nt[N]=L[j];N%b===0&&W(L)}return T&&(nt[j]=L[j],Z=Z.slice(0,k)),Z},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k=[],Z,nt;N<O;){for(j=0;j<b&&N<O;++j,++N)Z=N<<2,nt=L[j],k[Z]=nt&255,k[Z+1]=nt>>8&255,k[Z+2]=nt>>16&255,k[Z+3]=nt>>24&255;N%b===0&&W(L)}return T&&(Z=N<<2,nt=L[j],k[Z]=nt&255,T>1&&(k[Z+1]=nt>>8&255),T>2&&(k[Z+2]=nt>>16&255)),k};function V(b,L,O){M.call(this,b,L,O)}V.prototype=new M,V.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var W=function(b){var L,O,T,j,N,k,Z,nt,et,ct,pt,bt,ie,yt,_t,Gt,lt,wt,Yt,ut,At,Kt,dt,It,Jt,vt,Rt,te,mt,Pt,ce,Tt,Vt,le,Ft,Wt,pe,Mt,Lt,oe,St,kt,ne,Dt,jt,ae,Nt,zt,fe,xt,Ut,ue,Ct,Xt,be,Ht,Qt,ze,$e,He,je,Ke,xe;for(T=0;T<48;T+=2)j=b[0]^b[10]^b[20]^b[30]^b[40],N=b[1]^b[11]^b[21]^b[31]^b[41],k=b[2]^b[12]^b[22]^b[32]^b[42],Z=b[3]^b[13]^b[23]^b[33]^b[43],nt=b[4]^b[14]^b[24]^b[34]^b[44],et=b[5]^b[15]^b[25]^b[35]^b[45],ct=b[6]^b[16]^b[26]^b[36]^b[46],pt=b[7]^b[17]^b[27]^b[37]^b[47],bt=b[8]^b[18]^b[28]^b[38]^b[48],ie=b[9]^b[19]^b[29]^b[39]^b[49],L=bt^(k<<1|Z>>>31),O=ie^(Z<<1|k>>>31),b[0]^=L,b[1]^=O,b[10]^=L,b[11]^=O,b[20]^=L,b[21]^=O,b[30]^=L,b[31]^=O,b[40]^=L,b[41]^=O,L=j^(nt<<1|et>>>31),O=N^(et<<1|nt>>>31),b[2]^=L,b[3]^=O,b[12]^=L,b[13]^=O,b[22]^=L,b[23]^=O,b[32]^=L,b[33]^=O,b[42]^=L,b[43]^=O,L=k^(ct<<1|pt>>>31),O=Z^(pt<<1|ct>>>31),b[4]^=L,b[5]^=O,b[14]^=L,b[15]^=O,b[24]^=L,b[25]^=O,b[34]^=L,b[35]^=O,b[44]^=L,b[45]^=O,L=nt^(bt<<1|ie>>>31),O=et^(ie<<1|bt>>>31),b[6]^=L,b[7]^=O,b[16]^=L,b[17]^=O,b[26]^=L,b[27]^=O,b[36]^=L,b[37]^=O,b[46]^=L,b[47]^=O,L=ct^(j<<1|N>>>31),O=pt^(N<<1|j>>>31),b[8]^=L,b[9]^=O,b[18]^=L,b[19]^=O,b[28]^=L,b[29]^=O,b[38]^=L,b[39]^=O,b[48]^=L,b[49]^=O,yt=b[0],_t=b[1],ae=b[11]<<4|b[10]>>>28,Nt=b[10]<<4|b[11]>>>28,te=b[20]<<3|b[21]>>>29,mt=b[21]<<3|b[20]>>>29,He=b[31]<<9|b[30]>>>23,je=b[30]<<9|b[31]>>>23,kt=b[40]<<18|b[41]>>>14,ne=b[41]<<18|b[40]>>>14,le=b[2]<<1|b[3]>>>31,Ft=b[3]<<1|b[2]>>>31,Gt=b[13]<<12|b[12]>>>20,lt=b[12]<<12|b[13]>>>20,zt=b[22]<<10|b[23]>>>22,fe=b[23]<<10|b[22]>>>22,Pt=b[33]<<13|b[32]>>>19,ce=b[32]<<13|b[33]>>>19,Ke=b[42]<<2|b[43]>>>30,xe=b[43]<<2|b[42]>>>30,Xt=b[5]<<30|b[4]>>>2,be=b[4]<<30|b[5]>>>2,Wt=b[14]<<6|b[15]>>>26,pe=b[15]<<6|b[14]>>>26,wt=b[25]<<11|b[24]>>>21,Yt=b[24]<<11|b[25]>>>21,xt=b[34]<<15|b[35]>>>17,Ut=b[35]<<15|b[34]>>>17,Tt=b[45]<<29|b[44]>>>3,Vt=b[44]<<29|b[45]>>>3,It=b[6]<<28|b[7]>>>4,Jt=b[7]<<28|b[6]>>>4,Ht=b[17]<<23|b[16]>>>9,Qt=b[16]<<23|b[17]>>>9,Mt=b[26]<<25|b[27]>>>7,Lt=b[27]<<25|b[26]>>>7,ut=b[36]<<21|b[37]>>>11,At=b[37]<<21|b[36]>>>11,ue=b[47]<<24|b[46]>>>8,Ct=b[46]<<24|b[47]>>>8,Dt=b[8]<<27|b[9]>>>5,jt=b[9]<<27|b[8]>>>5,vt=b[18]<<20|b[19]>>>12,Rt=b[19]<<20|b[18]>>>12,ze=b[29]<<7|b[28]>>>25,$e=b[28]<<7|b[29]>>>25,oe=b[38]<<8|b[39]>>>24,St=b[39]<<8|b[38]>>>24,Kt=b[48]<<14|b[49]>>>18,dt=b[49]<<14|b[48]>>>18,b[0]=yt^~Gt&wt,b[1]=_t^~lt&Yt,b[10]=It^~vt&te,b[11]=Jt^~Rt&mt,b[20]=le^~Wt&Mt,b[21]=Ft^~pe&Lt,b[30]=Dt^~ae&zt,b[31]=jt^~Nt&fe,b[40]=Xt^~Ht&ze,b[41]=be^~Qt&$e,b[2]=Gt^~wt&ut,b[3]=lt^~Yt&At,b[12]=vt^~te&Pt,b[13]=Rt^~mt&ce,b[22]=Wt^~Mt&oe,b[23]=pe^~Lt&St,b[32]=ae^~zt&xt,b[33]=Nt^~fe&Ut,b[42]=Ht^~ze&He,b[43]=Qt^~$e&je,b[4]=wt^~ut&Kt,b[5]=Yt^~At&dt,b[14]=te^~Pt&Tt,b[15]=mt^~ce&Vt,b[24]=Mt^~oe&kt,b[25]=Lt^~St&ne,b[34]=zt^~xt&ue,b[35]=fe^~Ut&Ct,b[44]=ze^~He&Ke,b[45]=$e^~je&xe,b[6]=ut^~Kt&yt,b[7]=At^~dt&_t,b[16]=Pt^~Tt&It,b[17]=ce^~Vt&Jt,b[26]=oe^~kt&le,b[27]=St^~ne&Ft,b[36]=xt^~ue&Dt,b[37]=Ut^~Ct&jt,b[46]=He^~Ke&Xt,b[47]=je^~xe&be,b[8]=Kt^~yt&Gt,b[9]=dt^~_t&lt,b[18]=Tt^~It&vt,b[19]=Vt^~Jt&Rt,b[28]=kt^~le&Wt,b[29]=ne^~Ft&pe,b[38]=ue^~Dt&ae,b[39]=Ct^~jt&Nt,b[48]=Ke^~Xt&Ht,b[49]=xe^~be&Qt,b[0]^=B[T],b[1]^=B[T+1]};if(g)e.exports=h;else for(v=0;v<u.length;++v)s[u[v]]=h[u[v]]})()})(iy);var IN=iy.exports;const DN="logger/5.7.0";let F3=!1,q3=!1;const Ic={debug:1,default:2,info:2,warning:3,error:4,off:5};let U3=Ic.default,Ud=null;function NN(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(e){return e.message}return null}const L3=NN();var F1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(F1||(F1={}));var qn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(qn||(qn={}));const k3="0123456789abcdef";let Zr=class qr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Ic[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(U3>Ic[i])&&console.log.apply(console,r)}debug(...t){this._log(qr.levels.DEBUG,t)}info(...t){this._log(qr.levels.INFO,t)}warn(...t){this._log(qr.levels.WARNING,t)}makeError(t,r,i){if(q3)return this.makeError("censored error",r,{});r||(r=qr.errors.UNKNOWN_ERROR),i||(i={});const s=[];Object.keys(i).forEach(m=>{const l=i[m];try{if(l instanceof Uint8Array){let w="";for(let _=0;_<l.length;_++)w+=k3[l[_]>>4],w+=k3[l[_]&15];s.push(m+"=Uint8Array(0x"+w+")")}else s.push(m+"="+JSON.stringify(l))}catch{s.push(m+"="+JSON.stringify(i[m].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const n=t;let c="";switch(r){case qn.NUMERIC_FAULT:{c="NUMERIC_FAULT";const m=t;switch(m){case"overflow":case"underflow":case"division-by-zero":c+="-"+m;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case qn.CALL_EXCEPTION:case qn.INSUFFICIENT_FUNDS:case qn.MISSING_NEW:case qn.NONCE_EXPIRED:case qn.REPLACEMENT_UNDERPRICED:case qn.TRANSACTION_REPLACED:case qn.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),s.length&&(t+=" ("+s.join(", ")+")");const g=new Error(t);return g.reason=n,g.code=r,Object.keys(i).forEach(function(m){g[m]=i[m]}),g}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,qr.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,s){t||this.throwError(r,i,s)}assertArgument(t,r,i,s){t||this.throwArgumentError(r,i,s)}checkNormalize(t){L3&&this.throwError("platform missing String.prototype.normalize",qr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:L3})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,qr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,qr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",qr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ud||(Ud=new qr(DN)),Ud}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),F3){if(!t)return;this.globalLogger().throwError("error censorship permanent",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}q3=!!t,F3=!!r}static setLogLevel(t){const r=Ic[t.toLowerCase()];if(r==null){qr.globalLogger().warn("invalid log level - "+t);return}U3=r}static from(t){return new qr(t)}};Zr.errors=qn,Zr.levels=F1;const CN="bytes/5.7.0",_r=new Zr(CN);function ny(e){return!!e.toHexString}function Qa(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Qa(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function RN(e){return Qi(e)&&!(e.length%2)||ch(e)}function z3(e){return typeof e=="number"&&e==e&&e%1===0}function ch(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!z3(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!z3(r)||r<0||r>=256)return!1}return!0}function br(e,t){if(t||(t={}),typeof e=="number"){_r.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Qa(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),ny(e)&&(e=e.toHexString()),Qi(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":_r.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let s=0;s<r.length;s+=2)i.push(parseInt(r.substring(s,s+2),16));return Qa(new Uint8Array(i))}return ch(e)?Qa(new Uint8Array(e)):_r.throwArgumentError("invalid arrayify value","value",e)}function PN(e){const t=e.map(s=>br(s)),r=t.reduce((s,n)=>s+n.length,0),i=new Uint8Array(r);return t.reduce((s,n)=>(i.set(n,s),s+n.length),0),Qa(i)}function ON(e,t){e=br(e),e.length>t&&_r.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Qa(r)}function Qi(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Ld="0123456789abcdef";function Oi(e,t){if(t||(t={}),typeof e=="number"){_r.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=Ld[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),ny(e))return e.toHexString();if(Qi(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":_r.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ch(e)){let r="0x";for(let i=0;i<e.length;i++){let s=e[i];r+=Ld[(s&240)>>4]+Ld[s&15]}return r}return _r.throwArgumentError("invalid hexlify value","value",e)}function BN(e){if(typeof e!="string")e=Oi(e);else if(!Qi(e)||e.length%2)return null;return(e.length-2)/2}function $3(e,t,r){return typeof e!="string"?e=Oi(e):(!Qi(e)||e.length%2)&&_r.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function ws(e,t){for(typeof e!="string"?e=Oi(e):Qi(e)||_r.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&_r.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function sy(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(RN(e)){let r=br(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Oi(r.slice(0,32)),t.s=Oi(r.slice(32,64))):r.length===65?(t.r=Oi(r.slice(0,32)),t.s=Oi(r.slice(32,64)),t.v=r[64]):_r.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:_r.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Oi(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const s=ON(br(t._vs),32);t._vs=Oi(s);const n=s[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=n:t.recoveryParam!==n&&_r.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),s[0]&=127;const c=Oi(s);t.s==null?t.s=c:t.s!==c&&_r.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?_r.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const s=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==s&&_r.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!Qi(t.r)?_r.throwArgumentError("signature missing or invalid r","signature",e):t.r=ws(t.r,32),t.s==null||!Qi(t.s)?_r.throwArgumentError("signature missing or invalid s","signature",e):t.s=ws(t.s,32);const r=br(t.s);r[0]>=128&&_r.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=Oi(r);t._vs&&(Qi(t._vs)||_r.throwArgumentError("signature invalid _vs","signature",e),t._vs=ws(t._vs,32)),t._vs==null?t._vs=i:t._vs!==i&&_r.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function gp(e){return"0x"+IN.keccak_256(br(e))}var oy={exports:{}},TN={},FN=Object.freeze({__proto__:null,default:TN}),qN=xN(FN);(function(e){(function(t,r){function i(o,h){if(!o)throw new Error(h||"Assertion failed")}function s(o,h){o.super_=h;var u=function(){};u.prototype=h.prototype,o.prototype=new u,o.prototype.constructor=o}function n(o,h,u){if(n.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(u=h,h=10),this._init(o||0,h||10,u||"be"))}typeof t=="object"?t.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=qN.Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,h){return o.cmp(h)>0?o:h},n.min=function(o,h){return o.cmp(h)<0?o:h},n.prototype._init=function(o,h,u){if(typeof o=="number")return this._initNumber(o,h,u);if(typeof o=="object")return this._initArray(o,h,u);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(h===16?this._parseHex(o,v,u):(this._parseBase(o,h,v),u==="le"&&this._initArray(this.toArray(),h,u)))},n.prototype._initNumber=function(o,h,u){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),h,u)},n.prototype._initArray=function(o,h,u){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,A,E=0;if(u==="be")for(v=o.length-1,y=0;v>=0;v-=3)A=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[y]|=A<<E&67108863,this.words[y+1]=A>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);else if(u==="le")for(v=0,y=0;v<o.length;v+=3)A=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[y]|=A<<E&67108863,this.words[y+1]=A>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);return this._strip()};function g(o,h){var u=o.charCodeAt(h);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;i(!1,"Invalid character in "+o)}function m(o,h,u){var v=g(o,u);return u-1>=h&&(v|=g(o,u-1)<<4),v}n.prototype._parseHex=function(o,h,u){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y=0,A=0,E;if(u==="be")for(v=o.length-1;v>=h;v-=2)E=m(o,h,v)<<y,this.words[A]|=E&67108863,y>=18?(y-=18,A+=1,this.words[A]|=E>>>26):y+=8;else{var p=o.length-h;for(v=p%2===0?h+1:h;v<o.length;v+=2)E=m(o,h,v)<<y,this.words[A]|=E&67108863,y>=18?(y-=18,A+=1,this.words[A]|=E>>>26):y+=8}this._strip()};function l(o,h,u,v){for(var y=0,A=0,E=Math.min(o.length,u),p=h;p<E;p++){var f=o.charCodeAt(p)-48;y*=v,f>=49?A=f-49+10:f>=17?A=f-17+10:A=f,i(f>=0&&A<v,"Invalid character"),y+=A}return y}n.prototype._parseBase=function(o,h,u){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=h)v++;v--,y=y/h|0;for(var A=o.length-u,E=A%v,p=Math.min(A,A-E)+u,f=0,M=u;M<p;M+=v)f=l(o,M,M+v,h),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var V=1;for(f=l(o,M,o.length,h),M=0;M<E;M++)V*=h;this.imuln(V),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function w(o,h){o.words=h.words,o.length=h.length,o.negative=h.negative,o.red=h.red}if(n.prototype._move=function(o){w(o,this)},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{n.prototype.inspect=_}else n.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,h){o=o||10,h=h|0||1;var u;if(o===16||o==="hex"){u="";for(var v=0,y=0,A=0;A<this.length;A++){var E=this.words[A],p=((E<<v|y)&16777215).toString(16);y=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,A--),y!==0||A!==this.length-1?u=I[6-p.length]+p+u:u=p+u}for(y!==0&&(u=y.toString(16)+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(o===(o|0)&&o>=2&&o<=36){var f=D[o],M=C[o];u="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modrn(M).toString(o);V=V.idivn(M),V.isZero()?u=W+u:u=I[f-W.length]+W+u}for(this.isZero()&&(u="0"+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16,2)},c&&(n.prototype.toBuffer=function(o,h){return this.toArrayLike(c,o,h)}),n.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var B=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};n.prototype.toArrayLike=function(o,h,u){this._strip();var v=this.byteLength(),y=u||Math.max(1,v);i(v<=y,"byte array longer than desired length"),i(y>0,"Requested array length <= 0");var A=B(o,y),E=h==="le"?"LE":"BE";return this["_toArrayLike"+E](A,v),A},n.prototype._toArrayLikeLE=function(o,h){for(var u=0,v=0,y=0,A=0;y<this.length;y++){var E=this.words[y]<<A|v;o[u++]=E&255,u<o.length&&(o[u++]=E>>8&255),u<o.length&&(o[u++]=E>>16&255),A===6?(u<o.length&&(o[u++]=E>>24&255),v=0,A=0):(v=E>>>24,A+=2)}if(u<o.length)for(o[u++]=v;u<o.length;)o[u++]=0},n.prototype._toArrayLikeBE=function(o,h){for(var u=o.length-1,v=0,y=0,A=0;y<this.length;y++){var E=this.words[y]<<A|v;o[u--]=E&255,u>=0&&(o[u--]=E>>8&255),u>=0&&(o[u--]=E>>16&255),A===6?(u>=0&&(o[u--]=E>>24&255),v=0,A=0):(v=E>>>24,A+=2)}if(u>=0)for(o[u--]=v;u>=0;)o[u--]=0},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var h=o,u=0;return h>=4096&&(u+=13,h>>>=13),h>=64&&(u+=7,h>>>=7),h>=8&&(u+=4,h>>>=4),h>=2&&(u+=2,h>>>=2),u+h},n.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,u=0;return h&8191||(u+=13,h>>>=13),h&127||(u+=7,h>>>=7),h&15||(u+=4,h>>>=4),h&3||(u+=2,h>>>=2),h&1||u++,u},n.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function F(o){for(var h=new Array(o.bitLength()),u=0;u<h.length;u++){var v=u/26|0,y=u%26;h[u]=o.words[v]>>>y&1}return h}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var u=this._zeroBits(this.words[h]);if(o+=u,u!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var u=0;u<h.length;u++)this.words[u]=this.words[u]&o.words[u];return this.length=h.length,this._strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var h,u;this.length>o.length?(h=this,u=o):(h=o,u=this);for(var v=0;v<u.length;v++)this.words[v]=h.words[v]^u.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,u=o%26;this._expand(h),u>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return u>0&&(this.words[v]=~this.words[v]&67108863>>26-u),this._strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,h){i(typeof o=="number"&&o>=0);var u=o/26|0,v=o%26;return this._expand(u+1),h?this.words[u]=this.words[u]|1<<v:this.words[u]=this.words[u]&~(1<<v),this._strip()},n.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var u,v;this.length>o.length?(u=this,v=o):(u=o,v=this);for(var y=0,A=0;A<v.length;A++)h=(u.words[A]|0)+(v.words[A]|0)+y,this.words[A]=h&67108863,y=h>>>26;for(;y!==0&&A<u.length;A++)h=(u.words[A]|0)+y,this.words[A]=h&67108863,y=h>>>26;if(this.length=u.length,y!==0)this.words[this.length]=y,this.length++;else if(u!==this)for(;A<u.length;A++)this.words[A]=u.words[A];return this},n.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var u=this.cmp(o);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,y;u>0?(v=this,y=o):(v=o,y=this);for(var A=0,E=0;E<y.length;E++)h=(v.words[E]|0)-(y.words[E]|0)+A,A=h>>26,this.words[E]=h&67108863;for(;A!==0&&E<v.length;E++)h=(v.words[E]|0)+A,A=h>>26,this.words[E]=h&67108863;if(A===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function Q(o,h,u){u.negative=h.negative^o.negative;var v=o.length+h.length|0;u.length=v,v=v-1|0;var y=o.words[0]|0,A=h.words[0]|0,E=y*A,p=E&67108863,f=E/67108864|0;u.words[0]=p;for(var M=1;M<v;M++){for(var V=f>>>26,W=f&67108863,b=Math.min(M,h.length-1),L=Math.max(0,M-o.length+1);L<=b;L++){var O=M-L|0;y=o.words[O]|0,A=h.words[L]|0,E=y*A+W,V+=E/67108864|0,W=E&67108863}u.words[M]=W|0,f=V|0}return f!==0?u.words[M]=f|0:u.length--,u._strip()}var U=function(o,h,u){var v=o.words,y=h.words,A=u.words,E=0,p,f,M,V=v[0]|0,W=V&8191,b=V>>>13,L=v[1]|0,O=L&8191,T=L>>>13,j=v[2]|0,N=j&8191,k=j>>>13,Z=v[3]|0,nt=Z&8191,et=Z>>>13,ct=v[4]|0,pt=ct&8191,bt=ct>>>13,ie=v[5]|0,yt=ie&8191,_t=ie>>>13,Gt=v[6]|0,lt=Gt&8191,wt=Gt>>>13,Yt=v[7]|0,ut=Yt&8191,At=Yt>>>13,Kt=v[8]|0,dt=Kt&8191,It=Kt>>>13,Jt=v[9]|0,vt=Jt&8191,Rt=Jt>>>13,te=y[0]|0,mt=te&8191,Pt=te>>>13,ce=y[1]|0,Tt=ce&8191,Vt=ce>>>13,le=y[2]|0,Ft=le&8191,Wt=le>>>13,pe=y[3]|0,Mt=pe&8191,Lt=pe>>>13,oe=y[4]|0,St=oe&8191,kt=oe>>>13,ne=y[5]|0,Dt=ne&8191,jt=ne>>>13,ae=y[6]|0,Nt=ae&8191,zt=ae>>>13,fe=y[7]|0,xt=fe&8191,Ut=fe>>>13,ue=y[8]|0,Ct=ue&8191,Xt=ue>>>13,be=y[9]|0,Ht=be&8191,Qt=be>>>13;u.negative=o.negative^h.negative,u.length=19,p=Math.imul(W,mt),f=Math.imul(W,Pt),f=f+Math.imul(b,mt)|0,M=Math.imul(b,Pt);var ze=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,p=Math.imul(O,mt),f=Math.imul(O,Pt),f=f+Math.imul(T,mt)|0,M=Math.imul(T,Pt),p=p+Math.imul(W,Tt)|0,f=f+Math.imul(W,Vt)|0,f=f+Math.imul(b,Tt)|0,M=M+Math.imul(b,Vt)|0;var $e=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+($e>>>26)|0,$e&=67108863,p=Math.imul(N,mt),f=Math.imul(N,Pt),f=f+Math.imul(k,mt)|0,M=Math.imul(k,Pt),p=p+Math.imul(O,Tt)|0,f=f+Math.imul(O,Vt)|0,f=f+Math.imul(T,Tt)|0,M=M+Math.imul(T,Vt)|0,p=p+Math.imul(W,Ft)|0,f=f+Math.imul(W,Wt)|0,f=f+Math.imul(b,Ft)|0,M=M+Math.imul(b,Wt)|0;var He=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(nt,mt),f=Math.imul(nt,Pt),f=f+Math.imul(et,mt)|0,M=Math.imul(et,Pt),p=p+Math.imul(N,Tt)|0,f=f+Math.imul(N,Vt)|0,f=f+Math.imul(k,Tt)|0,M=M+Math.imul(k,Vt)|0,p=p+Math.imul(O,Ft)|0,f=f+Math.imul(O,Wt)|0,f=f+Math.imul(T,Ft)|0,M=M+Math.imul(T,Wt)|0,p=p+Math.imul(W,Mt)|0,f=f+Math.imul(W,Lt)|0,f=f+Math.imul(b,Mt)|0,M=M+Math.imul(b,Lt)|0;var je=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(je>>>26)|0,je&=67108863,p=Math.imul(pt,mt),f=Math.imul(pt,Pt),f=f+Math.imul(bt,mt)|0,M=Math.imul(bt,Pt),p=p+Math.imul(nt,Tt)|0,f=f+Math.imul(nt,Vt)|0,f=f+Math.imul(et,Tt)|0,M=M+Math.imul(et,Vt)|0,p=p+Math.imul(N,Ft)|0,f=f+Math.imul(N,Wt)|0,f=f+Math.imul(k,Ft)|0,M=M+Math.imul(k,Wt)|0,p=p+Math.imul(O,Mt)|0,f=f+Math.imul(O,Lt)|0,f=f+Math.imul(T,Mt)|0,M=M+Math.imul(T,Lt)|0,p=p+Math.imul(W,St)|0,f=f+Math.imul(W,kt)|0,f=f+Math.imul(b,St)|0,M=M+Math.imul(b,kt)|0;var Ke=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(yt,mt),f=Math.imul(yt,Pt),f=f+Math.imul(_t,mt)|0,M=Math.imul(_t,Pt),p=p+Math.imul(pt,Tt)|0,f=f+Math.imul(pt,Vt)|0,f=f+Math.imul(bt,Tt)|0,M=M+Math.imul(bt,Vt)|0,p=p+Math.imul(nt,Ft)|0,f=f+Math.imul(nt,Wt)|0,f=f+Math.imul(et,Ft)|0,M=M+Math.imul(et,Wt)|0,p=p+Math.imul(N,Mt)|0,f=f+Math.imul(N,Lt)|0,f=f+Math.imul(k,Mt)|0,M=M+Math.imul(k,Lt)|0,p=p+Math.imul(O,St)|0,f=f+Math.imul(O,kt)|0,f=f+Math.imul(T,St)|0,M=M+Math.imul(T,kt)|0,p=p+Math.imul(W,Dt)|0,f=f+Math.imul(W,jt)|0,f=f+Math.imul(b,Dt)|0,M=M+Math.imul(b,jt)|0;var xe=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(xe>>>26)|0,xe&=67108863,p=Math.imul(lt,mt),f=Math.imul(lt,Pt),f=f+Math.imul(wt,mt)|0,M=Math.imul(wt,Pt),p=p+Math.imul(yt,Tt)|0,f=f+Math.imul(yt,Vt)|0,f=f+Math.imul(_t,Tt)|0,M=M+Math.imul(_t,Vt)|0,p=p+Math.imul(pt,Ft)|0,f=f+Math.imul(pt,Wt)|0,f=f+Math.imul(bt,Ft)|0,M=M+Math.imul(bt,Wt)|0,p=p+Math.imul(nt,Mt)|0,f=f+Math.imul(nt,Lt)|0,f=f+Math.imul(et,Mt)|0,M=M+Math.imul(et,Lt)|0,p=p+Math.imul(N,St)|0,f=f+Math.imul(N,kt)|0,f=f+Math.imul(k,St)|0,M=M+Math.imul(k,kt)|0,p=p+Math.imul(O,Dt)|0,f=f+Math.imul(O,jt)|0,f=f+Math.imul(T,Dt)|0,M=M+Math.imul(T,jt)|0,p=p+Math.imul(W,Nt)|0,f=f+Math.imul(W,zt)|0,f=f+Math.imul(b,Nt)|0,M=M+Math.imul(b,zt)|0;var dr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(ut,mt),f=Math.imul(ut,Pt),f=f+Math.imul(At,mt)|0,M=Math.imul(At,Pt),p=p+Math.imul(lt,Tt)|0,f=f+Math.imul(lt,Vt)|0,f=f+Math.imul(wt,Tt)|0,M=M+Math.imul(wt,Vt)|0,p=p+Math.imul(yt,Ft)|0,f=f+Math.imul(yt,Wt)|0,f=f+Math.imul(_t,Ft)|0,M=M+Math.imul(_t,Wt)|0,p=p+Math.imul(pt,Mt)|0,f=f+Math.imul(pt,Lt)|0,f=f+Math.imul(bt,Mt)|0,M=M+Math.imul(bt,Lt)|0,p=p+Math.imul(nt,St)|0,f=f+Math.imul(nt,kt)|0,f=f+Math.imul(et,St)|0,M=M+Math.imul(et,kt)|0,p=p+Math.imul(N,Dt)|0,f=f+Math.imul(N,jt)|0,f=f+Math.imul(k,Dt)|0,M=M+Math.imul(k,jt)|0,p=p+Math.imul(O,Nt)|0,f=f+Math.imul(O,zt)|0,f=f+Math.imul(T,Nt)|0,M=M+Math.imul(T,zt)|0,p=p+Math.imul(W,xt)|0,f=f+Math.imul(W,Ut)|0,f=f+Math.imul(b,xt)|0,M=M+Math.imul(b,Ut)|0;var Dr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,p=Math.imul(dt,mt),f=Math.imul(dt,Pt),f=f+Math.imul(It,mt)|0,M=Math.imul(It,Pt),p=p+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Vt)|0,f=f+Math.imul(At,Tt)|0,M=M+Math.imul(At,Vt)|0,p=p+Math.imul(lt,Ft)|0,f=f+Math.imul(lt,Wt)|0,f=f+Math.imul(wt,Ft)|0,M=M+Math.imul(wt,Wt)|0,p=p+Math.imul(yt,Mt)|0,f=f+Math.imul(yt,Lt)|0,f=f+Math.imul(_t,Mt)|0,M=M+Math.imul(_t,Lt)|0,p=p+Math.imul(pt,St)|0,f=f+Math.imul(pt,kt)|0,f=f+Math.imul(bt,St)|0,M=M+Math.imul(bt,kt)|0,p=p+Math.imul(nt,Dt)|0,f=f+Math.imul(nt,jt)|0,f=f+Math.imul(et,Dt)|0,M=M+Math.imul(et,jt)|0,p=p+Math.imul(N,Nt)|0,f=f+Math.imul(N,zt)|0,f=f+Math.imul(k,Nt)|0,M=M+Math.imul(k,zt)|0,p=p+Math.imul(O,xt)|0,f=f+Math.imul(O,Ut)|0,f=f+Math.imul(T,xt)|0,M=M+Math.imul(T,Ut)|0,p=p+Math.imul(W,Ct)|0,f=f+Math.imul(W,Xt)|0,f=f+Math.imul(b,Ct)|0,M=M+Math.imul(b,Xt)|0;var pr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(vt,mt),f=Math.imul(vt,Pt),f=f+Math.imul(Rt,mt)|0,M=Math.imul(Rt,Pt),p=p+Math.imul(dt,Tt)|0,f=f+Math.imul(dt,Vt)|0,f=f+Math.imul(It,Tt)|0,M=M+Math.imul(It,Vt)|0,p=p+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Wt)|0,f=f+Math.imul(At,Ft)|0,M=M+Math.imul(At,Wt)|0,p=p+Math.imul(lt,Mt)|0,f=f+Math.imul(lt,Lt)|0,f=f+Math.imul(wt,Mt)|0,M=M+Math.imul(wt,Lt)|0,p=p+Math.imul(yt,St)|0,f=f+Math.imul(yt,kt)|0,f=f+Math.imul(_t,St)|0,M=M+Math.imul(_t,kt)|0,p=p+Math.imul(pt,Dt)|0,f=f+Math.imul(pt,jt)|0,f=f+Math.imul(bt,Dt)|0,M=M+Math.imul(bt,jt)|0,p=p+Math.imul(nt,Nt)|0,f=f+Math.imul(nt,zt)|0,f=f+Math.imul(et,Nt)|0,M=M+Math.imul(et,zt)|0,p=p+Math.imul(N,xt)|0,f=f+Math.imul(N,Ut)|0,f=f+Math.imul(k,xt)|0,M=M+Math.imul(k,Ut)|0,p=p+Math.imul(O,Ct)|0,f=f+Math.imul(O,Xt)|0,f=f+Math.imul(T,Ct)|0,M=M+Math.imul(T,Xt)|0,p=p+Math.imul(W,Ht)|0,f=f+Math.imul(W,Qt)|0,f=f+Math.imul(b,Ht)|0,M=M+Math.imul(b,Qt)|0;var Nr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,p=Math.imul(vt,Tt),f=Math.imul(vt,Vt),f=f+Math.imul(Rt,Tt)|0,M=Math.imul(Rt,Vt),p=p+Math.imul(dt,Ft)|0,f=f+Math.imul(dt,Wt)|0,f=f+Math.imul(It,Ft)|0,M=M+Math.imul(It,Wt)|0,p=p+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(At,Mt)|0,M=M+Math.imul(At,Lt)|0,p=p+Math.imul(lt,St)|0,f=f+Math.imul(lt,kt)|0,f=f+Math.imul(wt,St)|0,M=M+Math.imul(wt,kt)|0,p=p+Math.imul(yt,Dt)|0,f=f+Math.imul(yt,jt)|0,f=f+Math.imul(_t,Dt)|0,M=M+Math.imul(_t,jt)|0,p=p+Math.imul(pt,Nt)|0,f=f+Math.imul(pt,zt)|0,f=f+Math.imul(bt,Nt)|0,M=M+Math.imul(bt,zt)|0,p=p+Math.imul(nt,xt)|0,f=f+Math.imul(nt,Ut)|0,f=f+Math.imul(et,xt)|0,M=M+Math.imul(et,Ut)|0,p=p+Math.imul(N,Ct)|0,f=f+Math.imul(N,Xt)|0,f=f+Math.imul(k,Ct)|0,M=M+Math.imul(k,Xt)|0,p=p+Math.imul(O,Ht)|0,f=f+Math.imul(O,Qt)|0,f=f+Math.imul(T,Ht)|0,M=M+Math.imul(T,Qt)|0;var Cr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,p=Math.imul(vt,Ft),f=Math.imul(vt,Wt),f=f+Math.imul(Rt,Ft)|0,M=Math.imul(Rt,Wt),p=p+Math.imul(dt,Mt)|0,f=f+Math.imul(dt,Lt)|0,f=f+Math.imul(It,Mt)|0,M=M+Math.imul(It,Lt)|0,p=p+Math.imul(ut,St)|0,f=f+Math.imul(ut,kt)|0,f=f+Math.imul(At,St)|0,M=M+Math.imul(At,kt)|0,p=p+Math.imul(lt,Dt)|0,f=f+Math.imul(lt,jt)|0,f=f+Math.imul(wt,Dt)|0,M=M+Math.imul(wt,jt)|0,p=p+Math.imul(yt,Nt)|0,f=f+Math.imul(yt,zt)|0,f=f+Math.imul(_t,Nt)|0,M=M+Math.imul(_t,zt)|0,p=p+Math.imul(pt,xt)|0,f=f+Math.imul(pt,Ut)|0,f=f+Math.imul(bt,xt)|0,M=M+Math.imul(bt,Ut)|0,p=p+Math.imul(nt,Ct)|0,f=f+Math.imul(nt,Xt)|0,f=f+Math.imul(et,Ct)|0,M=M+Math.imul(et,Xt)|0,p=p+Math.imul(N,Ht)|0,f=f+Math.imul(N,Qt)|0,f=f+Math.imul(k,Ht)|0,M=M+Math.imul(k,Qt)|0;var gr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(vt,Mt),f=Math.imul(vt,Lt),f=f+Math.imul(Rt,Mt)|0,M=Math.imul(Rt,Lt),p=p+Math.imul(dt,St)|0,f=f+Math.imul(dt,kt)|0,f=f+Math.imul(It,St)|0,M=M+Math.imul(It,kt)|0,p=p+Math.imul(ut,Dt)|0,f=f+Math.imul(ut,jt)|0,f=f+Math.imul(At,Dt)|0,M=M+Math.imul(At,jt)|0,p=p+Math.imul(lt,Nt)|0,f=f+Math.imul(lt,zt)|0,f=f+Math.imul(wt,Nt)|0,M=M+Math.imul(wt,zt)|0,p=p+Math.imul(yt,xt)|0,f=f+Math.imul(yt,Ut)|0,f=f+Math.imul(_t,xt)|0,M=M+Math.imul(_t,Ut)|0,p=p+Math.imul(pt,Ct)|0,f=f+Math.imul(pt,Xt)|0,f=f+Math.imul(bt,Ct)|0,M=M+Math.imul(bt,Xt)|0,p=p+Math.imul(nt,Ht)|0,f=f+Math.imul(nt,Qt)|0,f=f+Math.imul(et,Ht)|0,M=M+Math.imul(et,Qt)|0;var Mr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,p=Math.imul(vt,St),f=Math.imul(vt,kt),f=f+Math.imul(Rt,St)|0,M=Math.imul(Rt,kt),p=p+Math.imul(dt,Dt)|0,f=f+Math.imul(dt,jt)|0,f=f+Math.imul(It,Dt)|0,M=M+Math.imul(It,jt)|0,p=p+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,zt)|0,f=f+Math.imul(At,Nt)|0,M=M+Math.imul(At,zt)|0,p=p+Math.imul(lt,xt)|0,f=f+Math.imul(lt,Ut)|0,f=f+Math.imul(wt,xt)|0,M=M+Math.imul(wt,Ut)|0,p=p+Math.imul(yt,Ct)|0,f=f+Math.imul(yt,Xt)|0,f=f+Math.imul(_t,Ct)|0,M=M+Math.imul(_t,Xt)|0,p=p+Math.imul(pt,Ht)|0,f=f+Math.imul(pt,Qt)|0,f=f+Math.imul(bt,Ht)|0,M=M+Math.imul(bt,Qt)|0;var Sr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,p=Math.imul(vt,Dt),f=Math.imul(vt,jt),f=f+Math.imul(Rt,Dt)|0,M=Math.imul(Rt,jt),p=p+Math.imul(dt,Nt)|0,f=f+Math.imul(dt,zt)|0,f=f+Math.imul(It,Nt)|0,M=M+Math.imul(It,zt)|0,p=p+Math.imul(ut,xt)|0,f=f+Math.imul(ut,Ut)|0,f=f+Math.imul(At,xt)|0,M=M+Math.imul(At,Ut)|0,p=p+Math.imul(lt,Ct)|0,f=f+Math.imul(lt,Xt)|0,f=f+Math.imul(wt,Ct)|0,M=M+Math.imul(wt,Xt)|0,p=p+Math.imul(yt,Ht)|0,f=f+Math.imul(yt,Qt)|0,f=f+Math.imul(_t,Ht)|0,M=M+Math.imul(_t,Qt)|0;var Ze=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,p=Math.imul(vt,Nt),f=Math.imul(vt,zt),f=f+Math.imul(Rt,Nt)|0,M=Math.imul(Rt,zt),p=p+Math.imul(dt,xt)|0,f=f+Math.imul(dt,Ut)|0,f=f+Math.imul(It,xt)|0,M=M+Math.imul(It,Ut)|0,p=p+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,Xt)|0,f=f+Math.imul(At,Ct)|0,M=M+Math.imul(At,Xt)|0,p=p+Math.imul(lt,Ht)|0,f=f+Math.imul(lt,Qt)|0,f=f+Math.imul(wt,Ht)|0,M=M+Math.imul(wt,Qt)|0;var Rr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,p=Math.imul(vt,xt),f=Math.imul(vt,Ut),f=f+Math.imul(Rt,xt)|0,M=Math.imul(Rt,Ut),p=p+Math.imul(dt,Ct)|0,f=f+Math.imul(dt,Xt)|0,f=f+Math.imul(It,Ct)|0,M=M+Math.imul(It,Xt)|0,p=p+Math.imul(ut,Ht)|0,f=f+Math.imul(ut,Qt)|0,f=f+Math.imul(At,Ht)|0,M=M+Math.imul(At,Qt)|0;var Pr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,p=Math.imul(vt,Ct),f=Math.imul(vt,Xt),f=f+Math.imul(Rt,Ct)|0,M=Math.imul(Rt,Xt),p=p+Math.imul(dt,Ht)|0,f=f+Math.imul(dt,Qt)|0,f=f+Math.imul(It,Ht)|0,M=M+Math.imul(It,Qt)|0;var Or=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,p=Math.imul(vt,Ht),f=Math.imul(vt,Qt),f=f+Math.imul(Rt,Ht)|0,M=Math.imul(Rt,Qt);var ai=(E+p|0)+((f&8191)<<13)|0;return E=(M+(f>>>13)|0)+(ai>>>26)|0,ai&=67108863,A[0]=ze,A[1]=$e,A[2]=He,A[3]=je,A[4]=Ke,A[5]=xe,A[6]=dr,A[7]=Dr,A[8]=pr,A[9]=Nr,A[10]=Cr,A[11]=gr,A[12]=Mr,A[13]=Sr,A[14]=Ze,A[15]=Rr,A[16]=Pr,A[17]=Or,A[18]=ai,E!==0&&(A[19]=E,u.length++),u};Math.imul||(U=Q);function J(o,h,u){u.negative=h.negative^o.negative,u.length=o.length+h.length;for(var v=0,y=0,A=0;A<u.length-1;A++){var E=y;y=0;for(var p=v&67108863,f=Math.min(A,h.length-1),M=Math.max(0,A-o.length+1);M<=f;M++){var V=A-M,W=o.words[V]|0,b=h.words[M]|0,L=W*b,O=L&67108863;E=E+(L/67108864|0)|0,O=O+p|0,p=O&67108863,E=E+(O>>>26)|0,y+=E>>>26,E&=67108863}u.words[A]=p,v=E,E=y}return v!==0?u.words[A]=v:u.length--,u._strip()}function z(o,h,u){return J(o,h,u)}n.prototype.mulTo=function(o,h){var u,v=this.length+o.length;return this.length===10&&o.length===10?u=U(this,o,h):v<63?u=Q(this,o,h):v<1024?u=J(this,o,h):u=z(this,o,h),u},n.prototype.mul=function(o){var h=new n(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},n.prototype.mulf=function(o){var h=new n(null);return h.words=new Array(this.length+o.length),z(this,o,h)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){var h=o<0;h&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var u=0,v=0;v<this.length;v++){var y=(this.words[v]|0)*o,A=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=A>>>26,this.words[v]=A&67108863}return u!==0&&(this.words[v]=u,this.length++),h?this.ineg():this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var h=F(o);if(h.length===0)return new n(1);for(var u=this,v=0;v<h.length&&h[v]===0;v++,u=u.sqr());if(++v<h.length)for(var y=u.sqr();v<h.length;v++,y=y.sqr())h[v]!==0&&(u=u.mul(y));return u},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26,v=67108863>>>26-h<<26-h,y;if(h!==0){var A=0;for(y=0;y<this.length;y++){var E=this.words[y]&v,p=(this.words[y]|0)-E<<h;this.words[y]=p|A,A=E>>>26-h}A&&(this.words[y]=A,this.length++)}if(u!==0){for(y=this.length-1;y>=0;y--)this.words[y+u]=this.words[y];for(y=0;y<u;y++)this.words[y]=0;this.length+=u}return this._strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,h,u){i(typeof o=="number"&&o>=0);var v;h?v=(h-h%26)/26:v=0;var y=o%26,A=Math.min((o-y)/26,this.length),E=67108863^67108863>>>y<<y,p=u;if(v-=A,v=Math.max(0,v),p){for(var f=0;f<A;f++)p.words[f]=this.words[f];p.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var M=0;for(f=this.length-1;f>=0&&(M!==0||f>=v);f--){var V=this.words[f]|0;this.words[f]=M<<26-y|V>>>y,M=V&E}return p&&M!==0&&(p.words[p.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(o,h,u){return i(this.negative===0),this.iushrn(o,h,u)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26,v=1<<h;if(this.length<=u)return!1;var y=this.words[u];return!!(y&v)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(h!==0&&u++,this.length=Math.min(u,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,h,u){var v=o.length+u,y;this._expand(v);var A,E=0;for(y=0;y<o.length;y++){A=(this.words[y+u]|0)+E;var p=(o.words[y]|0)*h;A-=p&67108863,E=(A>>26)-(p/67108864|0),this.words[y+u]=A&67108863}for(;y<this.length-u;y++)A=(this.words[y+u]|0)+E,E=A>>26,this.words[y+u]=A&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,y=0;y<this.length;y++)A=-(this.words[y]|0)+E,E=A>>26,this.words[y]=A&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(o,h){var u=this.length-o.length,v=this.clone(),y=o,A=y.words[y.length-1]|0,E=this._countBits(A);u=26-E,u!==0&&(y=y.ushln(u),v.iushln(u),A=y.words[y.length-1]|0);var p=v.length-y.length,f;if(h!=="mod"){f=new n(null),f.length=p+1,f.words=new Array(f.length);for(var M=0;M<f.length;M++)f.words[M]=0}var V=v.clone()._ishlnsubmul(y,1,p);V.negative===0&&(v=V,f&&(f.words[p]=1));for(var W=p-1;W>=0;W--){var b=(v.words[y.length+W]|0)*67108864+(v.words[y.length+W-1]|0);for(b=Math.min(b/A|0,67108863),v._ishlnsubmul(y,b,W);v.negative!==0;)b--,v.negative=0,v._ishlnsubmul(y,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=b)}return f&&f._strip(),v._strip(),h!=="div"&&u!==0&&v.iushrn(u),{div:f||null,mod:v}},n.prototype.divmod=function(o,h,u){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,y,A;return this.negative!==0&&o.negative===0?(A=this.neg().divmod(o,h),h!=="mod"&&(v=A.div.neg()),h!=="div"&&(y=A.mod.neg(),u&&y.negative!==0&&y.iadd(o)),{div:v,mod:y}):this.negative===0&&o.negative!==0?(A=this.divmod(o.neg(),h),h!=="mod"&&(v=A.div.neg()),{div:v,mod:A.mod}):this.negative&o.negative?(A=this.neg().divmod(o.neg(),h),h!=="div"&&(y=A.mod.neg(),u&&y.negative!==0&&y.isub(o)),{div:A.div,mod:y}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modrn(o.words[0]))}:this._wordDiv(o,h)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var u=h.div.negative!==0?h.mod.isub(o):h.mod,v=o.ushrn(1),y=o.andln(1),A=u.cmp(v);return A<0||y===1&&A===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modrn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var u=(1<<26)%o,v=0,y=this.length-1;y>=0;y--)v=(u*v+(this.words[y]|0))%o;return h?-v:v},n.prototype.modn=function(o){return this.modrn(o)},n.prototype.idivn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var u=0,v=this.length-1;v>=0;v--){var y=(this.words[v]|0)+u*67108864;this.words[v]=y/o|0,u=y%o}return this._strip(),h?this.ineg():this},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var h=this,u=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new n(1),y=new n(0),A=new n(0),E=new n(1),p=0;h.isEven()&&u.isEven();)h.iushrn(1),u.iushrn(1),++p;for(var f=u.clone(),M=h.clone();!h.isZero();){for(var V=0,W=1;!(h.words[0]&W)&&V<26;++V,W<<=1);if(V>0)for(h.iushrn(V);V-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(f),y.isub(M)),v.iushrn(1),y.iushrn(1);for(var b=0,L=1;!(u.words[0]&L)&&b<26;++b,L<<=1);if(b>0)for(u.iushrn(b);b-- >0;)(A.isOdd()||E.isOdd())&&(A.iadd(f),E.isub(M)),A.iushrn(1),E.iushrn(1);h.cmp(u)>=0?(h.isub(u),v.isub(A),y.isub(E)):(u.isub(h),A.isub(v),E.isub(y))}return{a:A,b:E,gcd:u.iushln(p)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var h=this,u=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new n(1),y=new n(0),A=u.clone();h.cmpn(1)>0&&u.cmpn(1)>0;){for(var E=0,p=1;!(h.words[0]&p)&&E<26;++E,p<<=1);if(E>0)for(h.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);for(var f=0,M=1;!(u.words[0]&M)&&f<26;++f,M<<=1);if(f>0)for(u.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);h.cmp(u)>=0?(h.isub(u),v.isub(y)):(u.isub(h),y.isub(v))}var V;return h.cmpn(1)===0?V=v:V=y,V.cmpn(0)<0&&V.iadd(o),V},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),u=o.clone();h.negative=0,u.negative=0;for(var v=0;h.isEven()&&u.isEven();v++)h.iushrn(1),u.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;u.isEven();)u.iushrn(1);var y=h.cmp(u);if(y<0){var A=h;h=u,u=A}else if(y===0||u.cmpn(1)===0)break;h.isub(u)}while(!0);return u.iushln(v)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var h=o%26,u=(o-h)/26,v=1<<h;if(this.length<=u)return this._expand(u+1),this.words[u]|=v,this;for(var y=v,A=u;y!==0&&A<this.length;A++){var E=this.words[A]|0;E+=y,y=E>>>26,E&=67108863,this.words[A]=E}return y!==0&&(this.words[A]=y,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var u;if(this.length>1)u=1;else{h&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;u=v===o?0:v<o?-1:1}return this.negative!==0?-u|0:u},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,u=this.length-1;u>=0;u--){var v=this.words[u]|0,y=o.words[u]|0;if(v!==y){v<y?h=-1:v>y&&(h=1);break}}return h},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new G(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var $={k256:null,p224:null,p192:null,p25519:null};function q(o,h){this.name=o,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},q.prototype.ireduce=function(o){var h=o,u;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),u=h.bitLength();while(u>this.n);var v=u<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},q.prototype.split=function(o,h){o.iushrn(this.n,0,h)},q.prototype.imulK=function(o){return o.imul(this.k)};function R(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(R,q),R.prototype.split=function(o,h){for(var u=4194303,v=Math.min(o.length,9),y=0;y<v;y++)h.words[y]=o.words[y];if(h.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var A=o.words[9];for(h.words[h.length++]=A&u,y=10;y<o.length;y++){var E=o.words[y]|0;o.words[y-10]=(E&u)<<4|A>>>22,A=E}A>>>=22,o.words[y-10]=A,A===0&&o.length>10?o.length-=10:o.length-=9},R.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,u=0;u<o.length;u++){var v=o.words[u]|0;h+=v*977,o.words[u]=h&67108863,h=v*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,q);function rt(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(rt,q);function ot(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(ot,q),ot.prototype.imulK=function(o){for(var h=0,u=0;u<o.length;u++){var v=(o.words[u]|0)*19+h,y=v&67108863;v>>>=26,o.words[u]=y,h=v}return h!==0&&(o.words[o.length++]=h),o},n._prime=function(o){if($[o])return $[o];var h;if(o==="k256")h=new R;else if(o==="p224")h=new H;else if(o==="p192")h=new rt;else if(o==="p25519")h=new ot;else throw new Error("Unknown prime "+o);return $[o]=h,h};function G(o){if(typeof o=="string"){var h=n._prime(o);this.m=h.p,this.prime=h}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}G.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,h){i((o.negative|h.negative)===0,"red works only with positives"),i(o.red&&o.red===h.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(w(o,o.umod(this.m)._forceRed(this)),o)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,h){this._verify2(o,h);var u=o.add(h);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},G.prototype.iadd=function(o,h){this._verify2(o,h);var u=o.iadd(h);return u.cmp(this.m)>=0&&u.isub(this.m),u},G.prototype.sub=function(o,h){this._verify2(o,h);var u=o.sub(h);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},G.prototype.isub=function(o,h){this._verify2(o,h);var u=o.isub(h);return u.cmpn(0)<0&&u.iadd(this.m),u},G.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},G.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},G.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var u=this.m.add(new n(1)).iushrn(2);return this.pow(o,u)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);i(!v.isZero());var A=new n(1).toRed(this),E=A.redNeg(),p=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,p).cmp(E)!==0;)f.redIAdd(E);for(var M=this.pow(f,v),V=this.pow(o,v.addn(1).iushrn(1)),W=this.pow(o,v),b=y;W.cmp(A)!==0;){for(var L=W,O=0;L.cmp(A)!==0;O++)L=L.redSqr();i(O<b);var T=this.pow(M,new n(1).iushln(b-O-1));V=V.redMul(T),M=T.redSqr(),W=W.redMul(M),b=O}return V},G.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},G.prototype.pow=function(o,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var u=4,v=new Array(1<<u);v[0]=new n(1).toRed(this),v[1]=o;for(var y=2;y<v.length;y++)v[y]=this.mul(v[y-1],o);var A=v[0],E=0,p=0,f=h.bitLength()%26;for(f===0&&(f=26),y=h.length-1;y>=0;y--){for(var M=h.words[y],V=f-1;V>=0;V--){var W=M>>V&1;if(A!==v[0]&&(A=this.sqr(A)),W===0&&E===0){p=0;continue}E<<=1,E|=W,p++,!(p!==u&&(y!==0||V!==0))&&(A=this.mul(A,v[E]),p=0,E=0)}f=26}return A},G.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},G.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},n.mont=function(o){return new x(o)};function x(o){G.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(x,G),x.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},x.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},x.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var u=o.imul(h),v=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=u.isub(v).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},x.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new n(0)._forceRed(this);var u=o.mul(h),v=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=u.isub(v).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},x.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ry)})(oy);var Ee=oy.exports;const ay="bignumber/5.7.0";var Gc=Ee.BN;const Ys=new Zr(ay),kd={},H3=9007199254740991;function UN(e){return e!=null&&(Ai.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Qi(e)||typeof e=="bigint"||ch(e))}let j3=!1,Ai=class Tn{constructor(t,r){t!==kd&&Ys.throwError("cannot call constructor directly; use BigNumber.from",Zr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ni(Be(this).fromTwos(t))}toTwos(t){return Ni(Be(this).toTwos(t))}abs(){return this._hex[0]==="-"?Tn.from(this._hex.substring(1)):this}add(t){return Ni(Be(this).add(Be(t)))}sub(t){return Ni(Be(this).sub(Be(t)))}div(t){return Tn.from(t).isZero()&&fn("division-by-zero","div"),Ni(Be(this).div(Be(t)))}mul(t){return Ni(Be(this).mul(Be(t)))}mod(t){const r=Be(t);return r.isNeg()&&fn("division-by-zero","mod"),Ni(Be(this).umod(r))}pow(t){const r=Be(t);return r.isNeg()&&fn("negative-power","pow"),Ni(Be(this).pow(r))}and(t){const r=Be(t);return(this.isNegative()||r.isNeg())&&fn("unbound-bitwise-result","and"),Ni(Be(this).and(r))}or(t){const r=Be(t);return(this.isNegative()||r.isNeg())&&fn("unbound-bitwise-result","or"),Ni(Be(this).or(r))}xor(t){const r=Be(t);return(this.isNegative()||r.isNeg())&&fn("unbound-bitwise-result","xor"),Ni(Be(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&fn("negative-width","mask"),Ni(Be(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&fn("negative-width","shl"),Ni(Be(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&fn("negative-width","shr"),Ni(Be(this).shrn(t))}eq(t){return Be(this).eq(Be(t))}lt(t){return Be(this).lt(Be(t))}lte(t){return Be(this).lte(Be(t))}gt(t){return Be(this).gt(Be(t))}gte(t){return Be(this).gte(Be(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Be(this).isZero()}toNumber(){try{return Be(this).toNumber()}catch{fn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ys.throwError("this platform does not support BigInt",Zr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?j3||(j3=!0,Ys.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ys.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Zr.errors.UNEXPECTED_ARGUMENT,{}):Ys.throwError("BigNumber.toString does not accept parameters",Zr.errors.UNEXPECTED_ARGUMENT,{})),Be(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Tn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Tn(kd,_f(t)):t.match(/^-?[0-9]+$/)?new Tn(kd,_f(new Gc(t))):Ys.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&fn("underflow","BigNumber.from",t),(t>=H3||t<=-H3)&&fn("overflow","BigNumber.from",t),Tn.from(String(t));const r=t;if(typeof r=="bigint")return Tn.from(r.toString());if(ch(r))return Tn.from(Oi(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Tn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Qi(i)||i[0]==="-"&&Qi(i.substring(1))))return Tn.from(i)}return Ys.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function _f(e){if(typeof e!="string")return _f(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Ys.throwArgumentError("invalid hex","value",e),e=_f(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Ni(e){return Ai.from(_f(e))}function Be(e){const t=Ai.from(e).toHexString();return t[0]==="-"?new Gc("-"+t.substring(3),16):new Gc(t.substring(2),16)}function fn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Ys.throwError(e,Zr.errors.NUMERIC_FAULT,i)}function LN(e){return new Gc(e,36).toString(16)}const vi=new Zr(ay),df={},hy=Ai.from(0),fy=Ai.from(-1);function uy(e,t,r,i){const s={fault:t,operation:r};return i!==void 0&&(s.value=i),vi.throwError(e,Zr.errors.NUMERIC_FAULT,s)}let pf="0";for(;pf.length<256;)pf+=pf;function vp(e){if(typeof e!="number")try{e=Ai.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+pf.substring(0,e):vi.throwArgumentError("invalid decimal size","decimals",e)}function zd(e,t){t==null&&(t=0);const r=vp(t);e=Ai.from(e);const i=e.lt(hy);i&&(e=e.mul(fy));let s=e.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];const n=e.div(r).toString();return r.length===1?e=n:e=n+"."+s,i&&(e="-"+e),e}function js(e,t){t==null&&(t=0);const r=vp(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&vi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&vi.throwArgumentError("missing value","value",e);const s=e.split(".");s.length>2&&vi.throwArgumentError("too many decimal points","value",e);let n=s[0],c=s[1];for(n||(n="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&uy("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const g=Ai.from(n),m=Ai.from(c);let l=g.mul(r).add(m);return i&&(l=l.mul(fy)),l}let $d=class q1{constructor(t,r,i,s){t!==df&&vi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Zr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=s,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(s),this._multiplier=vp(s),Object.freeze(this)}static from(t){if(t instanceof q1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,s=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||vi.throwArgumentError("invalid fixed format","format",t),r=n[1]!=="u",i=parseInt(n[2]),s=parseInt(n[3])}}else if(t){const n=(c,g,m)=>t[c]==null?m:(typeof t[c]!==g&&vi.throwArgumentError("invalid fixed format ("+c+" not "+g+")","format."+c,t[c]),t[c]);r=n("signed","boolean",r),i=n("width","number",i),s=n("decimals","number",s)}return i%8&&vi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),s>80&&vi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new q1(df,r,i,s)}},cy=class di{constructor(t,r,i,s){t!==df&&vi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Zr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&vi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=js(this._value,this.format.decimals),i=js(t._value,t.format.decimals);return di.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=js(this._value,this.format.decimals),i=js(t._value,t.format.decimals);return di.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=js(this._value,this.format.decimals),i=js(t._value,t.format.decimals);return di.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=js(this._value,this.format.decimals),i=js(t._value,t.format.decimals);return di.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=di.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(K3.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=di.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(K3.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&vi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=di.from("1"+pf.substring(0,t),this.format),s=kN.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(s).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&vi.throwArgumentError("invalid byte width","width",t);const r=Ai.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return ws(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return di.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!UN(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),di.fromString(zd(t,r),$d.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=$d.from(r),s=js(t,i.decimals);!i.signed&&s.lt(hy)&&uy("unsigned value cannot be negative","overflow","value",t);let n=null;i.signed?n=s.toTwos(i.width).toHexString():(n=s.toHexString(),n=ws(n,i.width/8));const c=zd(s,i.decimals);return new di(df,n,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=$d.from(r);if(br(t).length>i.width/8)throw new Error("overflow");let s=Ai.from(t);i.signed&&(s=s.fromTwos(i.width));const n=s.toTwos((i.signed?0:1)+i.width).toHexString(),c=zd(s,i.decimals);return new di(df,n,c,i)}static from(t,r){if(typeof t=="string")return di.fromString(t,r);if(ch(t))return di.fromBytes(t,r);try{return di.fromValue(t,0,r)}catch(i){if(i.code!==Zr.errors.INVALID_ARGUMENT)throw i}return vi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const K3=cy.from(1),kN=cy.from("0.5"),zN="strings/5.7.0",$N=new Zr(zN);var Qc;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Qc||(Qc={}));var G3;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(G3||(G3={}));function Hd(e,t=Qc.current){t!=Qc.current&&($N.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){i++;const n=e.charCodeAt(i);if(i>=e.length||(n&64512)!==56320)throw new Error("invalid utf-8 string");const c=65536+((s&1023)<<10)+(n&1023);r.push(c>>18|240),r.push(c>>12&63|128),r.push(c>>6&63|128),r.push(c&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return br(r)}function HN(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function jd(e,t){t||(t=function(s){return[parseInt(s,16)]});let r=0,i={};return e.split(",").forEach(s=>{let n=s.split(":");r+=parseInt(n[0],16),i[r]=t(n[1])}),i}function Q3(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let s=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:s,h:t}})}Q3("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),jd("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),jd("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),jd("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",HN),Q3("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function jN(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return br(t)}function ly(e,t){t==null&&(t=1);const r=[],i=r.forEach,s=function(n,c){i.call(n,function(g){c>0&&Array.isArray(g)?s(g,c-1):r.push(g)})};return s(e,t),r}function KN(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function GN(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),s=1,n=[0,1];for(let $=1;$<i;$++)n.push(s+=r());let c=r(),g=t;t+=c;let m=0,l=0;function w(){return m==0&&(l=l<<8|e[t++],m=8),l>>--m&1}const _=31,I=Math.pow(2,_),D=I>>>1,C=D>>1,B=I-1;let F=0;for(let $=0;$<_;$++)F=F<<1|w();let Q=[],U=0,J=I;for(;;){let $=Math.floor(((F-U+1)*s-1)/J),q=0,R=i;for(;R-q>1;){let ot=q+R>>>1;$<n[ot]?R=ot:q=ot}if(q==0)break;Q.push(q);let H=U+Math.floor(J*n[q]/s),rt=U+Math.floor(J*n[q+1]/s)-1;for(;!((H^rt)&D);)F=F<<1&B|w(),H=H<<1&B,rt=rt<<1&B|1;for(;H&~rt&C;)F=F&D|F<<1&B>>>1|w(),H=H<<1^D,rt=(rt^D)<<1|D|1;U=H,J=1+rt-H}let z=i-4;return Q.map($=>{switch($-z){case 3:return z+65792+(e[g++]<<16|e[g++]<<8|e[g++]);case 2:return z+256+(e[g++]<<8|e[g++]);case 1:return z+e[g++];default:return $-1}})}function QN(e){let t=0;return()=>e[t++]}function JN(e){return QN(GN(e))}function VN(e){return e&1?~e>>1:e>>1}function YN(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function J3(e,t){let r=Array(e);for(let i=0,s=-1;i<e;i++)r[i]=s+=1+t();return r}function WN(e,t){let r=Array(e);for(let i=0,s=0;i<e;i++)r[i]=s+=VN(t());return r}function Jc(e,t){let r=J3(e(),e),i=e(),s=J3(i,e),n=YN(i,e);for(let c=0;c<i;c++)for(let g=0;g<n[c];g++)r.push(s[c]+g);return t?r.map(c=>t[c]):r}function XN(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(tC(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(eC(r,e))}return KN(ly(t))}function ZN(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function dy(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let s=0;s<t;s++)WN(e,r).forEach((n,c)=>i[c].push(n));return i}function tC(e,t){let r=1+t(),i=t(),s=ZN(t),n=dy(s.length,1+e,t);return ly(n.map((c,g)=>{const m=c[0],l=c.slice(1);return Array(s[g]).fill(void 0).map((w,_)=>{let I=_*i;return[m+_*r,l.map(D=>D+I)]})}))}function eC(e,t){let r=1+t();return dy(r,1+e,t).map(i=>[i[0],i.slice(1)])}function rC(e){let t=Jc(e).sort((i,s)=>i-s);return r();function r(){let i=[];for(;;){let l=Jc(e,t);if(l.length==0)break;i.push({set:new Set(l),node:r()})}i.sort((l,w)=>w.set.size-l.set.size);let s=e(),n=s%3;s=s/3|0;let c=!!(s&1);s>>=1;let g=s==1,m=s==2;return{branches:i,valid:n,fe0f:c,save:g,check:m}}}function iC(){return JN(jN("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"))}const nc=iC();new Set(Jc(nc)),new Set(Jc(nc)),XN(nc),rC(nc);const nC=new Uint8Array(32);nC.fill(0);const sC=`Ethereum Signed Message:
`;function py(e){return typeof e=="string"&&(e=Hd(e)),gp(PN([Hd(sC),Hd(String(e.length)),e]))}const oC="address/5.7.0",af=new Zr(oC);function V3(e){Qi(e,20)||af.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=t[s].charCodeAt(0);const i=br(gp(r));for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(i[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const aC=9007199254740991;function hC(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const mp={};for(let e=0;e<10;e++)mp[String(e)]=String(e);for(let e=0;e<26;e++)mp[String.fromCharCode(65+e)]=String(10+e);const Y3=Math.floor(hC(aC));function fC(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>mp[i]).join("");for(;t.length>=Y3;){let i=t.substring(0,Y3);t=parseInt(i,10)%97+t.substring(i.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function uC(e){let t=null;if(typeof e!="string"&&af.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=V3(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&af.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==fC(e)&&af.throwArgumentError("bad icap checksum","address",e),t=LN(e.substring(4));t.length<40;)t="0"+t;t=V3("0x"+t)}else af.throwArgumentError("invalid address","address",e);return t}function Jh(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const cC=new Uint8Array(32);cC.fill(0),Ai.from(-1);const lC=Ai.from(0),dC=Ai.from(1);Ai.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ws(dC.toHexString(),32),ws(lC.toHexString(),32);var ss={},qe={},Uf=gy;function gy(e,t){if(!e)throw new Error(t||"Assertion failed")}gy.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var U1={exports:{}};typeof Object.create=="function"?U1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:U1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var pC=Uf,gC=U1.exports;qe.inherits=gC;function vC(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function mC(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),s=0;s<e.length;s+=2)r.push(parseInt(e[s]+e[s+1],16))}else for(var i=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n<128?r[i++]=n:n<2048?(r[i++]=n>>6|192,r[i++]=n&63|128):vC(e,s)?(n=65536+((n&1023)<<10)+(e.charCodeAt(++s)&1023),r[i++]=n>>18|240,r[i++]=n>>12&63|128,r[i++]=n>>6&63|128,r[i++]=n&63|128):(r[i++]=n>>12|224,r[i++]=n>>6&63|128,r[i++]=n&63|128)}else for(s=0;s<e.length;s++)r[s]=e[s]|0;return r}qe.toArray=mC;function bC(e){for(var t="",r=0;r<e.length;r++)t+=my(e[r].toString(16));return t}qe.toHex=bC;function vy(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}qe.htonl=vy;function yC(e,t){for(var r="",i=0;i<e.length;i++){var s=e[i];t==="little"&&(s=vy(s)),r+=by(s.toString(16))}return r}qe.toHex32=yC;function my(e){return e.length===1?"0"+e:e}qe.zero2=my;function by(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}qe.zero8=by;function wC(e,t,r,i){var s=r-t;pC(s%4===0);for(var n=new Array(s/4),c=0,g=t;c<n.length;c++,g+=4){var m;i==="big"?m=e[g]<<24|e[g+1]<<16|e[g+2]<<8|e[g+3]:m=e[g+3]<<24|e[g+2]<<16|e[g+1]<<8|e[g],n[c]=m>>>0}return n}qe.join32=wC;function AC(e,t){for(var r=new Array(e.length*4),i=0,s=0;i<e.length;i++,s+=4){var n=e[i];t==="big"?(r[s]=n>>>24,r[s+1]=n>>>16&255,r[s+2]=n>>>8&255,r[s+3]=n&255):(r[s+3]=n>>>24,r[s+2]=n>>>16&255,r[s+1]=n>>>8&255,r[s]=n&255)}return r}qe.split32=AC;function _C(e,t){return e>>>t|e<<32-t}qe.rotr32=_C;function EC(e,t){return e<<t|e>>>32-t}qe.rotl32=EC;function MC(e,t){return e+t>>>0}qe.sum32=MC;function SC(e,t,r){return e+t+r>>>0}qe.sum32_3=SC;function xC(e,t,r,i){return e+t+r+i>>>0}qe.sum32_4=xC;function IC(e,t,r,i,s){return e+t+r+i+s>>>0}qe.sum32_5=IC;function DC(e,t,r,i){var s=e[t],n=e[t+1],c=i+n>>>0,g=(c<i?1:0)+r+s;e[t]=g>>>0,e[t+1]=c}qe.sum64=DC;function NC(e,t,r,i){var s=t+i>>>0,n=(s<t?1:0)+e+r;return n>>>0}qe.sum64_hi=NC;function CC(e,t,r,i){var s=t+i;return s>>>0}qe.sum64_lo=CC;function RC(e,t,r,i,s,n,c,g){var m=0,l=t;l=l+i>>>0,m+=l<t?1:0,l=l+n>>>0,m+=l<n?1:0,l=l+g>>>0,m+=l<g?1:0;var w=e+r+s+c+m;return w>>>0}qe.sum64_4_hi=RC;function PC(e,t,r,i,s,n,c,g){var m=t+i+n+g;return m>>>0}qe.sum64_4_lo=PC;function OC(e,t,r,i,s,n,c,g,m,l){var w=0,_=t;_=_+i>>>0,w+=_<t?1:0,_=_+n>>>0,w+=_<n?1:0,_=_+g>>>0,w+=_<g?1:0,_=_+l>>>0,w+=_<l?1:0;var I=e+r+s+c+m+w;return I>>>0}qe.sum64_5_hi=OC;function BC(e,t,r,i,s,n,c,g,m,l){var w=t+i+n+g+l;return w>>>0}qe.sum64_5_lo=BC;function TC(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}qe.rotr64_hi=TC;function FC(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}qe.rotr64_lo=FC;function qC(e,t,r){return e>>>r}qe.shr64_hi=qC;function UC(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}qe.shr64_lo=UC;var lh={},W3=qe,LC=Uf;function sc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}lh.BlockHash=sc,sc.prototype.update=function(e,t){if(e=W3.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=W3.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},sc.prototype.digest=function(e){return this.update(this._pad()),LC(this.pending===null),this._digest(e)},sc.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var n=8;n<this.padLength;n++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,n=8;n<this.padLength;n++)i[s++]=0;return i};var za={},Cs={},kC=qe,As=kC.rotr32;function zC(e,t,r,i){if(e===0)return yy(t,r,i);if(e===1||e===3)return Ay(t,r,i);if(e===2)return wy(t,r,i)}Cs.ft_1=zC;function yy(e,t,r){return e&t^~e&r}Cs.ch32=yy;function wy(e,t,r){return e&t^e&r^t&r}Cs.maj32=wy;function Ay(e,t,r){return e^t^r}Cs.p32=Ay;function $C(e){return As(e,2)^As(e,13)^As(e,22)}Cs.s0_256=$C;function HC(e){return As(e,6)^As(e,11)^As(e,25)}Cs.s1_256=HC;function jC(e){return As(e,7)^As(e,18)^e>>>3}Cs.g0_256=jC;function KC(e){return As(e,17)^As(e,19)^e>>>10}Cs.g1_256=KC;var eh=qe,GC=lh,QC=Cs,Kd=eh.rotl32,Vh=eh.sum32,JC=eh.sum32_5,VC=QC.ft_1,_y=GC.BlockHash,YC=[1518500249,1859775393,2400959708,3395469782];function ds(){if(!(this instanceof ds))return new ds;_y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}eh.inherits(ds,_y);var WC=ds;ds.blockSize=512,ds.outSize=160,ds.hmacStrength=80,ds.padLength=64,ds.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Kd(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],n=this.h[1],c=this.h[2],g=this.h[3],m=this.h[4];for(i=0;i<r.length;i++){var l=~~(i/20),w=JC(Kd(s,5),VC(l,n,c,g),m,r[i],YC[l]);m=g,g=c,c=Kd(n,30),n=s,s=w}this.h[0]=Vh(this.h[0],s),this.h[1]=Vh(this.h[1],n),this.h[2]=Vh(this.h[2],c),this.h[3]=Vh(this.h[3],g),this.h[4]=Vh(this.h[4],m)},ds.prototype._digest=function(e){return e==="hex"?eh.toHex32(this.h,"big"):eh.split32(this.h,"big")};var rh=qe,XC=lh,dh=Cs,ZC=Uf,Nn=rh.sum32,tR=rh.sum32_4,eR=rh.sum32_5,rR=dh.ch32,iR=dh.maj32,nR=dh.s0_256,sR=dh.s1_256,oR=dh.g0_256,aR=dh.g1_256,Ey=XC.BlockHash,hR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ps(){if(!(this instanceof ps))return new ps;Ey.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hR,this.W=new Array(64)}rh.inherits(ps,Ey);var My=ps;ps.blockSize=512,ps.outSize=256,ps.hmacStrength=192,ps.padLength=64,ps.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=tR(aR(r[i-2]),r[i-7],oR(r[i-15]),r[i-16]);var s=this.h[0],n=this.h[1],c=this.h[2],g=this.h[3],m=this.h[4],l=this.h[5],w=this.h[6],_=this.h[7];for(ZC(this.k.length===r.length),i=0;i<r.length;i++){var I=eR(_,sR(m),rR(m,l,w),this.k[i],r[i]),D=Nn(nR(s),iR(s,n,c));_=w,w=l,l=m,m=Nn(g,I),g=c,c=n,n=s,s=Nn(I,D)}this.h[0]=Nn(this.h[0],s),this.h[1]=Nn(this.h[1],n),this.h[2]=Nn(this.h[2],c),this.h[3]=Nn(this.h[3],g),this.h[4]=Nn(this.h[4],m),this.h[5]=Nn(this.h[5],l),this.h[6]=Nn(this.h[6],w),this.h[7]=Nn(this.h[7],_)},ps.prototype._digest=function(e){return e==="hex"?rh.toHex32(this.h,"big"):rh.split32(this.h,"big")};var L1=qe,Sy=My;function eo(){if(!(this instanceof eo))return new eo;Sy.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}L1.inherits(eo,Sy);var fR=eo;eo.blockSize=512,eo.outSize=224,eo.hmacStrength=192,eo.padLength=64,eo.prototype._digest=function(e){return e==="hex"?L1.toHex32(this.h.slice(0,7),"big"):L1.split32(this.h.slice(0,7),"big")};var qi=qe,uR=lh,cR=Uf,_s=qi.rotr64_hi,Es=qi.rotr64_lo,xy=qi.shr64_hi,Iy=qi.shr64_lo,wo=qi.sum64,Gd=qi.sum64_hi,Qd=qi.sum64_lo,lR=qi.sum64_4_hi,dR=qi.sum64_4_lo,pR=qi.sum64_5_hi,gR=qi.sum64_5_lo,Dy=uR.BlockHash,vR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function kn(){if(!(this instanceof kn))return new kn;Dy.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=vR,this.W=new Array(160)}qi.inherits(kn,Dy);var Ny=kn;kn.blockSize=1024,kn.outSize=512,kn.hmacStrength=192,kn.padLength=128,kn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=IR(r[i-4],r[i-3]),n=DR(r[i-4],r[i-3]),c=r[i-14],g=r[i-13],m=SR(r[i-30],r[i-29]),l=xR(r[i-30],r[i-29]),w=r[i-32],_=r[i-31];r[i]=lR(s,n,c,g,m,l,w,_),r[i+1]=dR(s,n,c,g,m,l,w,_)}},kn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],n=this.h[2],c=this.h[3],g=this.h[4],m=this.h[5],l=this.h[6],w=this.h[7],_=this.h[8],I=this.h[9],D=this.h[10],C=this.h[11],B=this.h[12],F=this.h[13],Q=this.h[14],U=this.h[15];cR(this.k.length===r.length);for(var J=0;J<r.length;J+=2){var z=Q,$=U,q=ER(_,I),R=MR(_,I),H=mR(_,I,D,C,B),rt=bR(_,I,D,C,B,F),ot=this.k[J],G=this.k[J+1],x=r[J],o=r[J+1],h=pR(z,$,q,R,H,rt,ot,G,x,o),u=gR(z,$,q,R,H,rt,ot,G,x,o);z=AR(i,s),$=_R(i,s),q=yR(i,s,n,c,g),R=wR(i,s,n,c,g,m);var v=Gd(z,$,q,R),y=Qd(z,$,q,R);Q=B,U=F,B=D,F=C,D=_,C=I,_=Gd(l,w,h,u),I=Qd(w,w,h,u),l=g,w=m,g=n,m=c,n=i,c=s,i=Gd(h,u,v,y),s=Qd(h,u,v,y)}wo(this.h,0,i,s),wo(this.h,2,n,c),wo(this.h,4,g,m),wo(this.h,6,l,w),wo(this.h,8,_,I),wo(this.h,10,D,C),wo(this.h,12,B,F),wo(this.h,14,Q,U)},kn.prototype._digest=function(e){return e==="hex"?qi.toHex32(this.h,"big"):qi.split32(this.h,"big")};function mR(e,t,r,i,s){var n=e&r^~e&s;return n<0&&(n+=4294967296),n}function bR(e,t,r,i,s,n){var c=t&i^~t&n;return c<0&&(c+=4294967296),c}function yR(e,t,r,i,s){var n=e&r^e&s^r&s;return n<0&&(n+=4294967296),n}function wR(e,t,r,i,s,n){var c=t&i^t&n^i&n;return c<0&&(c+=4294967296),c}function AR(e,t){var r=_s(e,t,28),i=_s(t,e,2),s=_s(t,e,7),n=r^i^s;return n<0&&(n+=4294967296),n}function _R(e,t){var r=Es(e,t,28),i=Es(t,e,2),s=Es(t,e,7),n=r^i^s;return n<0&&(n+=4294967296),n}function ER(e,t){var r=_s(e,t,14),i=_s(e,t,18),s=_s(t,e,9),n=r^i^s;return n<0&&(n+=4294967296),n}function MR(e,t){var r=Es(e,t,14),i=Es(e,t,18),s=Es(t,e,9),n=r^i^s;return n<0&&(n+=4294967296),n}function SR(e,t){var r=_s(e,t,1),i=_s(e,t,8),s=xy(e,t,7),n=r^i^s;return n<0&&(n+=4294967296),n}function xR(e,t){var r=Es(e,t,1),i=Es(e,t,8),s=Iy(e,t,7),n=r^i^s;return n<0&&(n+=4294967296),n}function IR(e,t){var r=_s(e,t,19),i=_s(t,e,29),s=xy(e,t,6),n=r^i^s;return n<0&&(n+=4294967296),n}function DR(e,t){var r=Es(e,t,19),i=Es(t,e,29),s=Iy(e,t,6),n=r^i^s;return n<0&&(n+=4294967296),n}var k1=qe,Cy=Ny;function ro(){if(!(this instanceof ro))return new ro;Cy.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}k1.inherits(ro,Cy);var NR=ro;ro.blockSize=1024,ro.outSize=384,ro.hmacStrength=192,ro.padLength=128,ro.prototype._digest=function(e){return e==="hex"?k1.toHex32(this.h.slice(0,12),"big"):k1.split32(this.h.slice(0,12),"big")},za.sha1=WC,za.sha224=fR,za.sha256=My,za.sha384=NR,za.sha512=Ny;var Ry={},sa=qe,CR=lh,oc=sa.rotl32,X3=sa.sum32,Yh=sa.sum32_3,Z3=sa.sum32_4,Py=CR.BlockHash;function os(){if(!(this instanceof os))return new os;Py.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}sa.inherits(os,Py),Ry.ripemd160=os,os.blockSize=512,os.outSize=160,os.hmacStrength=192,os.padLength=64,os.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],n=this.h[3],c=this.h[4],g=r,m=i,l=s,w=n,_=c,I=0;I<80;I++){var D=X3(oc(Z3(r,tm(I,i,s,n),e[OR[I]+t],RR(I)),TR[I]),c);r=c,c=n,n=oc(s,10),s=i,i=D,D=X3(oc(Z3(g,tm(79-I,m,l,w),e[BR[I]+t],PR(I)),FR[I]),_),g=_,_=w,w=oc(l,10),l=m,m=D}D=Yh(this.h[1],s,w),this.h[1]=Yh(this.h[2],n,_),this.h[2]=Yh(this.h[3],c,g),this.h[3]=Yh(this.h[4],r,m),this.h[4]=Yh(this.h[0],i,l),this.h[0]=D},os.prototype._digest=function(e){return e==="hex"?sa.toHex32(this.h,"little"):sa.split32(this.h,"little")};function tm(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function RR(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function PR(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var OR=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],BR=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],TR=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],FR=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],qR=qe,UR=Uf;function Ja(e,t,r){if(!(this instanceof Ja))return new Ja(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(qR.toArray(t,r))}var LR=Ja;Ja.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),UR(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Ja.prototype.update=function(e,t){return this.inner.update(e,t),this},Ja.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=qe,t.common=lh,t.sha=za,t.ripemd=Ry,t.hmac=LR,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(ss);function ph(e,t,r){return r={path:t,exports:{},require:function(i,s){return kR(i,s??r.path)}},e(r,r.exports),r.exports}function kR(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var bp=Oy;function Oy(e,t){if(!e)throw new Error(t||"Assertion failed")}Oy.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Hn=ph(function(e,t){var r=t;function i(c,g){if(Array.isArray(c))return c.slice();if(!c)return[];var m=[];if(typeof c!="string"){for(var l=0;l<c.length;l++)m[l]=c[l]|0;return m}if(g==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var l=0;l<c.length;l+=2)m.push(parseInt(c[l]+c[l+1],16))}else for(var l=0;l<c.length;l++){var w=c.charCodeAt(l),_=w>>8,I=w&255;_?m.push(_,I):m.push(I)}return m}r.toArray=i;function s(c){return c.length===1?"0"+c:c}r.zero2=s;function n(c){for(var g="",m=0;m<c.length;m++)g+=s(c[m].toString(16));return g}r.toHex=n,r.encode=function(c,g){return g==="hex"?n(c):c}}),Vi=ph(function(e,t){var r=t;r.assert=bp,r.toArray=Hn.toArray,r.zero2=Hn.zero2,r.toHex=Hn.toHex,r.encode=Hn.encode;function i(m,l,w){var _=new Array(Math.max(m.bitLength(),w)+1);_.fill(0);for(var I=1<<l+1,D=m.clone(),C=0;C<_.length;C++){var B,F=D.andln(I-1);D.isOdd()?(F>(I>>1)-1?B=(I>>1)-F:B=F,D.isubn(B)):B=0,_[C]=B,D.iushrn(1)}return _}r.getNAF=i;function s(m,l){var w=[[],[]];m=m.clone(),l=l.clone();for(var _=0,I=0,D;m.cmpn(-_)>0||l.cmpn(-I)>0;){var C=m.andln(3)+_&3,B=l.andln(3)+I&3;C===3&&(C=-1),B===3&&(B=-1);var F;C&1?(D=m.andln(7)+_&7,(D===3||D===5)&&B===2?F=-C:F=C):F=0,w[0].push(F);var Q;B&1?(D=l.andln(7)+I&7,(D===3||D===5)&&C===2?Q=-B:Q=B):Q=0,w[1].push(Q),2*_===F+1&&(_=1-_),2*I===Q+1&&(I=1-I),m.iushrn(1),l.iushrn(1)}return w}r.getJSF=s;function n(m,l,w){var _="_"+l;m.prototype[l]=function(){return this[_]!==void 0?this[_]:this[_]=w.call(this)}}r.cachedProperty=n;function c(m){return typeof m=="string"?r.toArray(m,"hex"):m}r.parseBytes=c;function g(m){return new Ee(m,"hex","le")}r.intFromLE=g}),ac=Vi.getNAF,zR=Vi.getJSF,Vc=Vi.assert;function Io(e,t){this.type=e,this.p=new Ee(t.p,16),this.red=t.prime?Ee.red(t.prime):Ee.mont(this.p),this.zero=new Ee(0).toRed(this.red),this.one=new Ee(1).toRed(this.red),this.two=new Ee(2).toRed(this.red),this.n=t.n&&new Ee(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pa=Io;Io.prototype.point=function(){throw new Error("Not implemented")},Io.prototype.validate=function(){throw new Error("Not implemented")},Io.prototype._fixedNafMul=function(e,t){Vc(e.precomputed);var r=e._getDoubles(),i=ac(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var n=[],c,g;for(c=0;c<i.length;c+=r.step){g=0;for(var m=c+r.step-1;m>=c;m--)g=(g<<1)+i[m];n.push(g)}for(var l=this.jpoint(null,null,null),w=this.jpoint(null,null,null),_=s;_>0;_--){for(c=0;c<n.length;c++)g=n[c],g===_?w=w.mixedAdd(r.points[c]):g===-_&&(w=w.mixedAdd(r.points[c].neg()));l=l.add(w)}return l.toP()},Io.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,n=ac(t,r,this._bitLength),c=this.jpoint(null,null,null),g=n.length-1;g>=0;g--){for(var m=0;g>=0&&n[g]===0;g--)m++;if(g>=0&&m++,c=c.dblp(m),g<0)break;var l=n[g];Vc(l!==0),e.type==="affine"?l>0?c=c.mixedAdd(s[l-1>>1]):c=c.mixedAdd(s[-l-1>>1].neg()):l>0?c=c.add(s[l-1>>1]):c=c.add(s[-l-1>>1].neg())}return e.type==="affine"?c.toP():c},Io.prototype._wnafMulAdd=function(e,t,r,i,s){var n=this._wnafT1,c=this._wnafT2,g=this._wnafT3,m=0,l,w,_;for(l=0;l<i;l++){_=t[l];var I=_._getNAFPoints(e);n[l]=I.wnd,c[l]=I.points}for(l=i-1;l>=1;l-=2){var D=l-1,C=l;if(n[D]!==1||n[C]!==1){g[D]=ac(r[D],n[D],this._bitLength),g[C]=ac(r[C],n[C],this._bitLength),m=Math.max(g[D].length,m),m=Math.max(g[C].length,m);continue}var B=[t[D],null,null,t[C]];t[D].y.cmp(t[C].y)===0?(B[1]=t[D].add(t[C]),B[2]=t[D].toJ().mixedAdd(t[C].neg())):t[D].y.cmp(t[C].y.redNeg())===0?(B[1]=t[D].toJ().mixedAdd(t[C]),B[2]=t[D].add(t[C].neg())):(B[1]=t[D].toJ().mixedAdd(t[C]),B[2]=t[D].toJ().mixedAdd(t[C].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],Q=zR(r[D],r[C]);for(m=Math.max(Q[0].length,m),g[D]=new Array(m),g[C]=new Array(m),w=0;w<m;w++){var U=Q[0][w]|0,J=Q[1][w]|0;g[D][w]=F[(U+1)*3+(J+1)],g[C][w]=0,c[D]=B}}var z=this.jpoint(null,null,null),$=this._wnafT4;for(l=m;l>=0;l--){for(var q=0;l>=0;){var R=!0;for(w=0;w<i;w++)$[w]=g[w][l]|0,$[w]!==0&&(R=!1);if(!R)break;q++,l--}if(l>=0&&q++,z=z.dblp(q),l<0)break;for(w=0;w<i;w++){var H=$[w];H!==0&&(H>0?_=c[w][H-1>>1]:H<0&&(_=c[w][-H-1>>1].neg()),_.type==="affine"?z=z.mixedAdd(_):z=z.add(_))}}for(l=0;l<i;l++)c[l]=null;return s?z:z.toP()};function un(e,t){this.curve=e,this.type=t,this.precomputed=null}Io.BasePoint=un,un.prototype.eq=function(){throw new Error("Not implemented")},un.prototype.validate=function(){return this.curve.validate(this)},Io.prototype.decodePoint=function(e,t){e=Vi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Vc(e[e.length-1]%2===0):e[0]===7&&Vc(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},un.prototype.encodeCompressed=function(e){return this.encode(e,!0)},un.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},un.prototype.encode=function(e,t){return Vi.encode(this._encode(t),e)},un.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},un.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},un.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var n=0;n<e;n++)i=i.dbl();r.push(i)}return{step:e,points:r}},un.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}},un.prototype._getBeta=function(){return null},un.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var yp=ph(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),$R=Vi.assert;function wn(e){pa.call(this,"short",e),this.a=new Ee(e.a,16).toRed(this.red),this.b=new Ee(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}yp(wn,pa);var HR=wn;wn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ee(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Ee(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],$R(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var n;return e.basis?n=e.basis.map(function(c){return{a:new Ee(c.a,16),b:new Ee(c.b,16)}}):n=this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},wn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ee.mont(e),r=new Ee(2).toRed(t).redInvm(),i=r.redNeg(),s=new Ee(3).toRed(t).redNeg().redSqrt().redMul(r),n=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[n,c]},wn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Ee(1),n=new Ee(0),c=new Ee(0),g=new Ee(1),m,l,w,_,I,D,C,B=0,F,Q;r.cmpn(0)!==0;){var U=i.div(r);F=i.sub(U.mul(r)),Q=c.sub(U.mul(s));var J=g.sub(U.mul(n));if(!w&&F.cmp(t)<0)m=C.neg(),l=s,w=F.neg(),_=Q;else if(w&&++B===2)break;C=F,i=r,r=F,c=s,s=Q,g=n,n=J}I=F.neg(),D=Q;var z=w.sqr().add(_.sqr()),$=I.sqr().add(D.sqr());return $.cmp(z)>=0&&(I=m,D=l),w.negative&&(w=w.neg(),_=_.neg()),I.negative&&(I=I.neg(),D=D.neg()),[{a:w,b:_},{a:I,b:D}]},wn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),n=r.b.neg().mul(e).divRound(this.n),c=s.mul(r.a),g=n.mul(i.a),m=s.mul(r.b),l=n.mul(i.b),w=e.sub(c).sub(g),_=m.add(l).neg();return{k1:w,k2:_}},wn.prototype.pointFromX=function(e,t){e=new Ee(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},wn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0},wn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,n=0;n<e.length;n++){var c=this._endoSplit(t[n]),g=e[n],m=g._getBeta();c.k1.negative&&(c.k1.ineg(),g=g.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[n*2]=g,i[n*2+1]=m,s[n*2]=c.k1,s[n*2+1]=c.k2}for(var l=this._wnafMulAdd(1,i,s,n*2,r),w=0;w<n*2;w++)i[w]=null,s[w]=null;return l};function $r(e,t,r,i){pa.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ee(t,16),this.y=new Ee(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}yp($r,pa.BasePoint),wn.prototype.point=function(e,t,r){return new $r(this,e,t,r)},wn.prototype.pointFromJSON=function(e,t){return $r.fromJSON(this,e,t)},$r.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},$r.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},$r.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(c){return e.point(c[0],c[1],r)}var n=t[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(s))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(s))}},i},$r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},$r.prototype.isInfinity=function(){return this.inf},$r.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},$r.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),n=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,c)},$r.prototype.getX=function(){return this.x.fromRed()},$r.prototype.getY=function(){return this.y.fromRed()},$r.prototype.mul=function(e){return e=new Ee(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},$r.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},$r.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},$r.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},$r.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},$r.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Yr(e,t,r,i){pa.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ee(0)):(this.x=new Ee(t,16),this.y=new Ee(r,16),this.z=new Ee(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}yp(Yr,pa.BasePoint),wn.prototype.jpoint=function(e,t,r){return new Yr(this,e,t,r)},Yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),n=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),g=i.redSub(s),m=n.redSub(c);if(g.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=g.redSqr(),w=l.redMul(g),_=i.redMul(l),I=m.redSqr().redIAdd(w).redISub(_).redISub(_),D=m.redMul(_.redISub(I)).redISub(n.redMul(w)),C=this.z.redMul(e.z).redMul(g);return this.curve.jpoint(I,D,C)},Yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,n=e.y.redMul(t).redMul(this.z),c=r.redSub(i),g=s.redSub(n);if(c.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),l=m.redMul(c),w=r.redMul(m),_=g.redSqr().redIAdd(l).redISub(w).redISub(w),I=g.redMul(w.redISub(_)).redISub(s.redMul(l)),D=this.z.redMul(c);return this.curve.jpoint(_,I,D)},Yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,n=this.x,c=this.y,g=this.z,m=g.redSqr().redSqr(),l=c.redAdd(c);for(t=0;t<e;t++){var w=n.redSqr(),_=l.redSqr(),I=_.redSqr(),D=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(m)),C=n.redMul(_),B=D.redSqr().redISub(C.redAdd(C)),F=C.redISub(B),Q=D.redMul(F);Q=Q.redIAdd(Q).redISub(I);var U=l.redMul(g);t+1<e&&(m=m.redMul(I)),n=B,g=U,l=Q}return this.curve.jpoint(n,l.redMul(s),g)},Yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Yr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(n);c=c.redIAdd(c);var g=i.redAdd(i).redIAdd(i),m=g.redSqr().redISub(c).redISub(c),l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),e=m,t=g.redMul(c.redISub(m)).redISub(l),r=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),_=this.y.redSqr(),I=_.redSqr(),D=this.x.redAdd(_).redSqr().redISub(w).redISub(I);D=D.redIAdd(D);var C=w.redAdd(w).redIAdd(w),B=C.redSqr(),F=I.redIAdd(I);F=F.redIAdd(F),F=F.redIAdd(F),e=B.redISub(D).redISub(D),t=C.redMul(D.redISub(e)).redISub(F),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Yr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(n);c=c.redIAdd(c);var g=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=g.redSqr().redISub(c).redISub(c);e=m;var l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),t=g.redMul(c.redISub(m)).redISub(l),r=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),_=this.y.redSqr(),I=this.x.redMul(_),D=this.x.redSub(w).redMul(this.x.redAdd(w));D=D.redAdd(D).redIAdd(D);var C=I.redIAdd(I);C=C.redIAdd(C);var B=C.redAdd(C);e=D.redSqr().redISub(B),r=this.y.redAdd(this.z).redSqr().redISub(_).redISub(w);var F=_.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),t=D.redMul(C.redISub(e)).redISub(F)}return this.curve.jpoint(e,t,r)},Yr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),n=t.redSqr(),c=r.redSqr(),g=n.redAdd(n).redIAdd(n).redIAdd(e.redMul(s)),m=t.redAdd(t);m=m.redIAdd(m);var l=m.redMul(c),w=g.redSqr().redISub(l.redAdd(l)),_=l.redISub(w),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var D=g.redMul(_).redISub(I),C=r.redAdd(r).redMul(i);return this.curve.jpoint(w,D,C)},Yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),n=s.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(n);var g=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var l=s.redIAdd(c).redSqr().redISub(n).redISub(g).redISub(m),w=t.redMul(l);w=w.redIAdd(w),w=w.redIAdd(w);var _=this.x.redMul(g).redISub(w);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.y.redMul(l.redMul(m.redISub(l)).redISub(c.redMul(g)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var D=this.z.redAdd(c).redSqr().redISub(r).redISub(g);return this.curve.jpoint(_,I,D)},Yr.prototype.mul=function(e,t){return e=new Ee(e,t),this.curve._wnafMul(this,e)},Yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},Yr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}},Yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Dc=ph(function(e,t){var r=t;r.base=pa,r.short=HR,r.mont=null,r.edwards=null}),Nc=ph(function(e,t){var r=t,i=Vi.assert;function s(g){g.type==="short"?this.curve=new Dc.short(g):g.type==="edwards"?this.curve=new Dc.edwards(g):this.curve=new Dc.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function n(g,m){Object.defineProperty(r,g,{configurable:!0,enumerable:!0,get:function(){var l=new s(m);return Object.defineProperty(r,g,{configurable:!0,enumerable:!0,value:l}),l}})}n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ss.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ss.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ss.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ss.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ss.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ss.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ss.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ss.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Do(e){if(!(this instanceof Do))return new Do(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Hn.toArray(e.entropy,e.entropyEnc||"hex"),r=Hn.toArray(e.nonce,e.nonceEnc||"hex"),i=Hn.toArray(e.pers,e.persEnc||"hex");bp(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var em=Do;Do.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Do.prototype._hmac=function(){return new ss.hmac(this.hash,this.K)},Do.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Do.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=Hn.toArray(e,t),r=Hn.toArray(r,i),bp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Do.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=Hn.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var n=s.slice(0,e);return this._update(r),this._reseed++,Hn.encode(n,t)};var Jd=Vi.assert;function si(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Vd=si;si.fromPublic=function(e,t,r){return t instanceof si?t:new si(e,{pub:t,pubEnc:r})},si.fromPrivate=function(e,t,r){return t instanceof si?t:new si(e,{priv:t,privEnc:r})},si.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},si.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},si.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},si.prototype._importPrivate=function(e,t){this.priv=new Ee(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},si.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Jd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Jd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},si.prototype.derive=function(e){return e.validate()||Jd(e.validate(),"public point not validated"),e.mul(this.priv).getX()},si.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},si.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},si.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var jR=Vi.assert;function l0(e,t){if(e instanceof l0)return e;this._importDER(e,t)||(jR(e.r&&e.s,"Signature without r or s"),this.r=new Ee(e.r,16),this.s=new Ee(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var hc=l0;function KR(){this.place=0}function Yd(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var s=0,n=0,c=t.place;n<i;n++,c++)s<<=8,s|=e[c],s>>>=0;return s<=127?!1:(t.place=c,s)}function rm(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}l0.prototype._importDER=function(e,t){e=Vi.toArray(e,t);var r=new KR;if(e[r.place++]!==48)return!1;var i=Yd(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=Yd(e,r);if(s===!1)return!1;var n=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var c=Yd(e,r);if(c===!1||e.length!==c+r.place)return!1;var g=e.slice(r.place,c+r.place);if(n[0]===0)if(n[1]&128)n=n.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new Ee(n),this.s=new Ee(g),this.recoveryParam=null,!0};function Wd(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}l0.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=rm(t),r=rm(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Wd(i,t.length),i=i.concat(t),i.push(2),Wd(i,r.length);var s=i.concat(r),n=[48];return Wd(n,s.length),n=n.concat(s),Vi.encode(n,e)};var GR=function(){throw new Error("unsupported")},By=Vi.assert;function vn(e){if(!(this instanceof vn))return new vn(e);typeof e=="string"&&(By(Object.prototype.hasOwnProperty.call(Nc,e),"Unknown curve "+e),e=Nc[e]),e instanceof Nc.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var QR=vn;vn.prototype.keyPair=function(e){return new Vd(this,e)},vn.prototype.keyFromPrivate=function(e,t){return Vd.fromPrivate(this,e,t)},vn.prototype.keyFromPublic=function(e,t){return Vd.fromPublic(this,e,t)},vn.prototype.genKeyPair=function(e){e||(e={});for(var t=new em({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||GR(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Ee(2));;){var s=new Ee(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},vn.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},vn.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ee(e,16));for(var s=this.n.byteLength(),n=t.getPrivate().toArray("be",s),c=e.toArray("be",s),g=new em({hash:this.hash,entropy:n,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new Ee(1)),l=0;;l++){var w=i.k?i.k(l):new Ee(g.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(m)>=0)){var _=this.g.mul(w);if(!_.isInfinity()){var I=_.getX(),D=I.umod(this.n);if(D.cmpn(0)!==0){var C=w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var B=(_.getY().isOdd()?1:0)|(I.cmp(D)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),B^=1),new hc({r:D,s:C,recoveryParam:B})}}}}}},vn.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Ee(e,16)),r=this.keyFromPublic(r,i),t=new hc(t,"hex");var s=t.r,n=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var c=n.invm(this.n),g=c.mul(e).umod(this.n),m=c.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(g,r.getPublic(),m),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(g,r.getPublic(),m),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)},vn.prototype.recoverPubKey=function(e,t,r,i){By((3&r)===r,"The recovery param is more than two bits"),t=new hc(t,i);var s=this.n,n=new Ee(e),c=t.r,g=t.s,m=r&1,l=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?c=this.curve.pointFromX(c.add(this.curve.n),m):c=this.curve.pointFromX(c,m);var w=t.r.invm(s),_=s.sub(n).mul(w).umod(s),I=g.mul(w).umod(s);return this.g.mulAdd(_,c,I)},vn.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new hc(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var s=0;s<4;s++){var n;try{n=this.recoverPubKey(e,t,s)}catch{continue}if(n.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var JR=ph(function(e,t){var r=t;r.version="6.5.4",r.utils=Vi,r.rand=function(){throw new Error("unsupported")},r.curve=Dc,r.curves=Nc,r.ec=QR,r.eddsa=null}),VR=JR.ec;const YR="signing-key/5.7.0",z1=new Zr(YR);let Xd=null;function Eo(){return Xd||(Xd=new VR("secp256k1")),Xd}class WR{constructor(t){Jh(this,"curve","secp256k1"),Jh(this,"privateKey",Oi(t)),BN(this.privateKey)!==32&&z1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Eo().keyFromPrivate(br(this.privateKey));Jh(this,"publicKey","0x"+r.getPublic(!1,"hex")),Jh(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Jh(this,"_isSigningKey",!0)}_addPoint(t){const r=Eo().keyFromPublic(br(this.publicKey)),i=Eo().keyFromPublic(br(t));return"0x"+r.pub.add(i.pub).encodeCompressed("hex")}signDigest(t){const r=Eo().keyFromPrivate(br(this.privateKey)),i=br(t);i.length!==32&&z1.throwArgumentError("bad digest length","digest",t);const s=r.sign(i,{canonical:!0});return sy({recoveryParam:s.recoveryParam,r:ws("0x"+s.r.toString(16),32),s:ws("0x"+s.s.toString(16),32)})}computeSharedSecret(t){const r=Eo().keyFromPrivate(br(this.privateKey)),i=Eo().keyFromPublic(br(Ty(t)));return ws("0x"+r.derive(i.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function XR(e,t){const r=sy(t),i={r:br(r.r),s:br(r.s)};return"0x"+Eo().recoverPubKey(br(e),i,r.recoveryParam).encode("hex",!1)}function Ty(e,t){const r=br(e);return r.length===32?new WR(r).publicKey:r.length===33?"0x"+Eo().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Oi(r):z1.throwArgumentError("invalid public or private key","key","[REDACTED]")}var im;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(im||(im={}));function ZR(e){const t=Ty(e);return uC($3(gp($3(t,1)),12))}function tP(e,t){return ZR(XR(br(e),t))}const eP="https://rpc.walletconnect.org/v1";async function rP(e,t,r,i,s,n){switch(r.t){case"eip191":return iP(e,t,r.s);case"eip1271":return await nP(e,t,r.s,i,s,n);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function iP(e,t,r){return tP(py(t),r).toLowerCase()===e.toLowerCase()}async function nP(e,t,r,i,s,n){try{const c="0x1626ba7e",g="0000000000000000000000000000000000000000000000000000000000000040",m="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),w=py(t).substring(2),_=c+w+g+m+l,I=await fetch(`${n||eP}/?chainId=${i}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:sP(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:_},"latest"]})}),{result:D}=await I.json();return D?D.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function sP(){return Date.now()+Math.floor(Math.random()*1e3)}var oP=Object.defineProperty,aP=Object.defineProperties,hP=Object.getOwnPropertyDescriptors,nm=Object.getOwnPropertySymbols,fP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,sm=(e,t,r)=>t in e?oP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cP=(e,t)=>{for(var r in t||(t={}))fP.call(t,r)&&sm(e,r,t[r]);if(nm)for(var r of nm(t))uP.call(t,r)&&sm(e,r,t[r]);return e},lP=(e,t)=>aP(e,hP(t));const dP="did:pkh:",wp=e=>e==null?void 0:e.split(":"),Fy=e=>{const t=e&&wp(e);if(t)return e.includes(dP)?t[3]:t[1]},om=e=>{const t=e&&wp(e);if(t)return t[2]+":"+t[3]},Yc=e=>{const t=e&&wp(e);if(t)return t.pop()};async function am(e){const{cacao:t,projectId:r}=e,{s:i,p:s}=t,n=qy(s,s.iss),c=Yc(s.iss);return await rP(c,n,i,Fy(s.iss),r)}const qy=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,i=Yc(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const n=`URI: ${e.aud||e.uri}`,c=`Version: ${e.version}`,g=`Chain ID: ${Fy(t)}`,m=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,w=e.exp?`Expiration Time: ${e.exp}`:void 0,_=e.nbf?`Not Before: ${e.nbf}`:void 0,I=e.requestId?`Request ID: ${e.requestId}`:void 0,D=e.resources?`Resources:${e.resources.map(B=>`
- ${B}`).join("")}`:void 0,C=Cc(e.resources);if(C){const B=Ef(C);s=_P(s,B)}return[r,i,"",s,"",n,c,g,m,l,w,_,I,D].filter(B=>B!=null).join(`
`)};function pP(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function gP(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function ha(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const i=e.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(s=>{const n=i[s];if(!Array.isArray(n))throw new Error(`Ability limits ${s} must be an array of objects, found: ${n}`);if(!n.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);n.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function vP(e,t,r,i={}){return r==null||r.sort((s,n)=>s.localeCompare(n)),{att:{[e]:mP(t,r,i)}}}function mP(e,t,r={}){t=t==null?void 0:t.sort((s,n)=>s.localeCompare(n));const i=t.map(s=>({[`${e}/${s}`]:[r]}));return Object.assign({},...i)}function Uy(e){return ha(e),`urn:recap:${pP(e).replace(/=/g,"")}`}function Ef(e){const t=gP(e.replace("urn:recap:",""));return ha(t),t}function bP(e,t,r){const i=vP(e,t,r);return Uy(i)}function yP(e){return e&&e.includes("urn:recap:")}function wP(e,t){const r=Ef(e),i=Ef(t),s=AP(r,i);return Uy(s)}function AP(e,t){ha(e),ha(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,n)=>s.localeCompare(n)),i={att:{}};return r.forEach(s=>{var n,c;Object.keys(((n=e.att)==null?void 0:n[s])||{}).concat(Object.keys(((c=t.att)==null?void 0:c[s])||{})).sort((g,m)=>g.localeCompare(m)).forEach(g=>{var m,l;i.att[s]=lP(cP({},i.att[s]),{[g]:((m=e.att[s])==null?void 0:m[g])||((l=t.att[s])==null?void 0:l[g])})})}),i}function _P(e="",t){ha(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let s=0;Object.keys(t.att).forEach(g=>{const m=Object.keys(t.att[g]).map(_=>({ability:_.split("/")[0],action:_.split("/")[1]}));m.sort((_,I)=>_.action.localeCompare(I.action));const l={};m.forEach(_=>{l[_.ability]||(l[_.ability]=[]),l[_.ability].push(_.action)});const w=Object.keys(l).map(_=>(s++,`(${s}) '${_}': '${l[_].join("', '")}' for '${g}'.`));i.push(w.join(", ").replace(".,","."))});const n=i.join(" "),c=`${r}${n}`;return`${e?e+" ":""}${c}`}function hm(e){var t;const r=Ef(e);ha(r);const i=(t=r.att)==null?void 0:t.eip155;return i?Object.keys(i).map(s=>s.split("/")[1]):[]}function fm(e){const t=Ef(e);ha(t);const r=[];return Object.values(t.att).forEach(i=>{Object.values(i).forEach(s=>{var n;(n=s==null?void 0:s[0])!=null&&n.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function Cc(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return yP(t)?t:void 0}const Ly="base10",yi="base16",Ro="base64pad",Wh="base64url",Lf="utf8",ky=0,so=1,kf=2,EP=0,um=1,gf=12,Ap=32;function MP(){const e=W6.generateKeyPair();return{privateKey:Qr(e.secretKey,yi),publicKey:Qr(e.publicKey,yi)}}function $1(){const e=Df.randomBytes(Ap);return Qr(e,yi)}function SP(e,t){const r=W6.sharedKey(Gr(e,yi),Gr(t,yi),!0),i=new FE.HKDF(o0.SHA256,r).expand(Ap);return Qr(i,yi)}function Rc(e){const t=o0.hash(Gr(e,yi));return Qr(t,yi)}function Xs(e){const t=o0.hash(Gr(e,Lf));return Qr(t,yi)}function zy(e){return Gr(`${e}`,Ly)}function fa(e){return Number(Qr(e,Ly))}function xP(e){const t=zy(typeof e.type<"u"?e.type:ky);if(fa(t)===so&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?Gr(e.senderPublicKey,yi):void 0,i=typeof e.iv<"u"?Gr(e.iv,yi):Df.randomBytes(gf),s=new Y6.ChaCha20Poly1305(Gr(e.symKey,yi)).seal(i,Gr(e.message,Lf));return $y({type:t,sealed:s,iv:i,senderPublicKey:r,encoding:e.encoding})}function IP(e,t){const r=zy(kf),i=Df.randomBytes(gf),s=Gr(e,Lf);return $y({type:r,sealed:s,iv:i,encoding:t})}function DP(e){const t=new Y6.ChaCha20Poly1305(Gr(e.symKey,yi)),{sealed:r,iv:i}=Mf({encoded:e.encoded,encoding:e==null?void 0:e.encoding}),s=t.open(i,r);if(s===null)throw new Error("Failed to decrypt");return Qr(s,Lf)}function NP(e,t){const{sealed:r}=Mf({encoded:e,encoding:t});return Qr(r,Lf)}function $y(e){const{encoding:t=Ro}=e;if(fa(e.type)===kf)return Qr(yc([e.type,e.sealed]),t);if(fa(e.type)===so){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Qr(yc([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return Qr(yc([e.type,e.iv,e.sealed]),t)}function Mf(e){const{encoded:t,encoding:r=Ro}=e,i=Gr(t,r),s=i.slice(EP,um),n=um;if(fa(s)===so){const l=n+Ap,w=l+gf,_=i.slice(n,l),I=i.slice(l,w),D=i.slice(w);return{type:s,sealed:D,iv:I,senderPublicKey:_}}if(fa(s)===kf){const l=i.slice(n),w=Df.randomBytes(gf);return{type:s,sealed:l,iv:w}}const c=n+gf,g=i.slice(n,c),m=i.slice(c);return{type:s,sealed:m,iv:g}}function CP(e,t){const r=Mf({encoded:e,encoding:t==null?void 0:t.encoding});return Hy({type:fa(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Qr(r.senderPublicKey,yi):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function Hy(e){const t=(e==null?void 0:e.type)||ky;if(t===so){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function cm(e){return e.type===so&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function lm(e){return e.type===kf}function RP(e){return new yS.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function PP(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function OP(e){return Buffer.from(PP(e),"base64")}function BP(e,t){const[r,i,s]=e.split("."),n=OP(s);if(n.length!==64)throw new Error("Invalid signature length");const c=n.slice(0,32).toString("hex"),g=n.slice(32,64).toString("hex"),m=`${r}.${i}`,l=new o0.SHA256().update(Buffer.from(m)).digest(),w=RP(t),_=Buffer.from(l).toString("hex");if(!w.verify(_,{r:c,s:g}))throw new Error("Invalid signature");return T1(e).payload}const TP="irn";function H1(e){return(e==null?void 0:e.relay)||{protocol:TP}}function hf(e){const t=MS[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var FP=Object.defineProperty,qP=Object.defineProperties,UP=Object.getOwnPropertyDescriptors,dm=Object.getOwnPropertySymbols,LP=Object.prototype.hasOwnProperty,kP=Object.prototype.propertyIsEnumerable,pm=(e,t,r)=>t in e?FP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gm=(e,t)=>{for(var r in t||(t={}))LP.call(t,r)&&pm(e,r,t[r]);if(dm)for(var r of dm(t))kP.call(t,r)&&pm(e,r,t[r]);return e},zP=(e,t)=>qP(e,UP(t));function $P(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(i)){const n=s.replace(i,""),c=e[s];r[n]=c}}),r}function vm(e){if(!e.includes("wc:")){const m=ey(e);m!=null&&m.includes("wc:")&&(e=m)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),s=e.substring(t+1,r).split("@"),n=typeof r<"u"?e.substring(r):"",c=qc.parse(n),g=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:i,topic:HP(s[0]),version:parseInt(s[1],10),symKey:c.symKey,relay:$P(c),methods:g,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function HP(e){return e.startsWith("//")?e.substring(2):e}function jP(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(s=>{const n=r+t+s;e[s]&&(i[n]=e[s])}),i}function mm(e){return`${e.protocol}:${e.topic}@${e.version}?`+qc.stringify(gm(zP(gm({symKey:e.symKey},jP(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function fc(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function gh(e){const t=[];return e.forEach(r=>{const[i,s]=r.split(":");t.push(`${i}:${s}`)}),t}function KP(e){const t=[];return Object.values(e).forEach(r=>{t.push(...gh(r.accounts))}),t}function GP(e,t){const r=[];return Object.values(e).forEach(i=>{gh(i.accounts).includes(t)&&r.push(...i.methods)}),r}function QP(e,t){const r=[];return Object.values(e).forEach(i=>{gh(i.accounts).includes(t)&&r.push(...i.events)}),r}function JP(e){const t={};return e==null||e.forEach(r=>{const[i,s]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[]}),t[i].accounts.push(r),t[i].chains.push(`${i}:${s}`)}),t}function bm(e,t){t=t.map(i=>i.replace("did:pkh:",""));const r=JP(t);for(const[i,s]of Object.entries(r))s.methods?s.methods=wN(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return r}const VP={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},YP={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Zt(e,t){const{message:r,code:i}=YP[e];return{message:t?`${r} ${t}`:r,code:i}}function or(e,t){const{message:r,code:i}=VP[e];return{message:t?`${r} ${t}`:r,code:i}}function zf(e,t){return!!Array.isArray(e)}function Wc(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function mi(e){return typeof e>"u"}function Er(e,t){return t&&mi(e)?!0:typeof e=="string"&&!!e.trim().length}function _p(e,t){return t&&mi(e)?!0:typeof e=="number"&&!isNaN(e)}function WP(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),s=Object.keys(r);let n=!0;return ra(s,i)?(i.forEach(c=>{const{accounts:g,methods:m,events:l}=e.namespaces[c],w=gh(g),_=r[c];(!ra(Jb(c,_),w)||!ra(_.methods,m)||!ra(_.events,l))&&(n=!1)}),n):!1}function Xc(e){return Er(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function XP(e){if(Er(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Xc(r)}}return!1}function ZP(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Er(e,!1)){if(t(e))return!0;const r=ey(e);return t(r)}}catch{}return!1}function tO(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function eO(e){return e==null?void 0:e.topic}function rO(e,t){let r=null;return Er(e==null?void 0:e.publicKey,!1)||(r=Zt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function ym(e){let t=!0;return zf(e)?e.length&&(t=e.every(r=>Er(r,!1))):t=!1,t}function iO(e,t,r){let i=null;return zf(t)&&t.length?t.forEach(s=>{i||Xc(s)||(i=or("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Xc(e)||(i=or("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function nO(e,t,r){let i=null;return Object.entries(e).forEach(([s,n])=>{if(i)return;const c=iO(s,Jb(s,n),`${t} ${r}`);c&&(i=c)}),i}function sO(e,t){let r=null;return zf(e)?e.forEach(i=>{r||XP(i)||(r=or("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=or("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function oO(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const s=sO(i==null?void 0:i.accounts,`${t} namespace`);s&&(r=s)}),r}function aO(e,t){let r=null;return ym(e==null?void 0:e.methods)?ym(e==null?void 0:e.events)||(r=or("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=or("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function jy(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const s=aO(i,`${t}, namespace`);s&&(r=s)}),r}function hO(e,t,r){let i=null;if(e&&Wc(e)){const s=jy(e,t);s&&(i=s);const n=nO(e,t,r);n&&(i=n)}else i=Zt("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}function Zd(e,t){let r=null;if(e&&Wc(e)){const i=jy(e,t);i&&(r=i);const s=oO(e,t);s&&(r=s)}else r=Zt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Ky(e){return Er(e.protocol,!0)}function fO(e,t){let r=!1;return e?e&&zf(e)&&e.length&&e.forEach(i=>{r=Ky(i)}):r=!0,r}function uO(e){return typeof e=="number"}function Pi(e){return typeof e<"u"&&typeof e!==null}function cO(e){return!(!e||typeof e!="object"||!e.code||!_p(e.code,!1)||!e.message||!Er(e.message,!1))}function lO(e){return!(mi(e)||!Er(e.method,!1))}function dO(e){return!(mi(e)||mi(e.result)&&mi(e.error)||!_p(e.id,!1)||!Er(e.jsonrpc,!1))}function pO(e){return!(mi(e)||!Er(e.name,!1))}function wm(e,t){return!(!Xc(t)||!KP(e).includes(t))}function gO(e,t,r){return Er(r,!1)?GP(e,t).includes(r):!1}function vO(e,t,r){return Er(r,!1)?QP(e,t).includes(r):!1}function Am(e,t,r){let i=null;const s=mO(e),n=bO(t),c=Object.keys(s),g=Object.keys(n),m=_m(Object.keys(e)),l=_m(Object.keys(t)),w=m.filter(_=>!l.includes(_));return w.length&&(i=Zt("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${w.toString()}
      Received: ${Object.keys(t).toString()}`)),ra(c,g)||(i=Zt("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${g.toString()}`)),Object.keys(t).forEach(_=>{if(!_.includes(":")||i)return;const I=gh(t[_].accounts);I.includes(_)||(i=Zt("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${_}
        Required: ${_}
        Approved: ${I.toString()}`))}),c.forEach(_=>{i||(ra(s[_].methods,n[_].methods)?ra(s[_].events,n[_].events)||(i=Zt("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${_}`)):i=Zt("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${_}`))}),i}function mO(e){const t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:(i=e[r].chains)==null||i.forEach(s=>{t[s]={methods:e[r].methods,events:e[r].events}})}),t}function _m(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function bO(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const i=gh(e[r].accounts);i==null||i.forEach(s=>{t[s]={accounts:e[r].accounts.filter(n=>n.includes(`${s}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function yO(e,t){return _p(e,!1)&&e<=t.max&&e>=t.min}function Em(){const e=qf();return new Promise(t=>{switch(e){case Gi.browser:t(wO());break;case Gi.reactNative:t(AO());break;case Gi.node:t(_O());break;default:t(!0)}})}function wO(){return Ff()&&(navigator==null?void 0:navigator.onLine)}async function AO(){if(uh()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function _O(){return!0}function EO(e){switch(qf()){case Gi.browser:MO(e);break;case Gi.reactNative:SO(e);break}}function MO(e){!uh()&&Ff()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function SO(e){uh()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const t1={};class Xh{static get(t){return t1[t]}static set(t,r){t1[t]=r}static delete(t){delete t1[t]}}const xO="PARSE_ERROR",IO="INVALID_REQUEST",DO="METHOD_NOT_FOUND",NO="INVALID_PARAMS",Gy="INTERNAL_ERROR",Ep="SERVER_ERROR",CO=[-32700,-32600,-32601,-32602,-32603],vf={[xO]:{code:-32700,message:"Parse error"},[IO]:{code:-32600,message:"Invalid Request"},[DO]:{code:-32601,message:"Method not found"},[NO]:{code:-32602,message:"Invalid params"},[Gy]:{code:-32603,message:"Internal error"},[Ep]:{code:-32e3,message:"Server error"}},Qy=Ep;function RO(e){return CO.includes(e)}function Mm(e){return Object.keys(vf).includes(e)?vf[e]:vf[Qy]}function PO(e){const t=Object.values(vf).find(r=>r.code===e);return t||vf[Qy]}function Jy(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var e1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j1=function(e,t){return j1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},j1(e,t)};function OO(e,t){j1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var K1=function(){return K1=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K1.apply(this,arguments)};function BO(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function TO(e,t,r,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,r,i);else for(var g=e.length-1;g>=0;g--)(c=e[g])&&(n=(s<3?c(n):s>3?c(t,r,n):c(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}function FO(e,t){return function(r,i){t(r,i,e)}}function qO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function UO(e,t,r,i){function s(n){return n instanceof r?n:new r(function(c){c(n)})}return new(r||(r=Promise))(function(n,c){function g(w){try{l(i.next(w))}catch(_){c(_)}}function m(w){try{l(i.throw(w))}catch(_){c(_)}}function l(w){w.done?n(w.value):s(w.value).then(g,m)}l((i=i.apply(e,t||[])).next())})}function LO(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(l){return function(w){return m([l,w])}}function m(l){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(n=l[0]&2?s.return:l[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,l[1])).done)return n;switch(s=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){r.label=l[1];break}if(l[0]===6&&r.label<n[1]){r.label=n[1],n=l;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(l);break}n[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(w){l=[6,w],s=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function kO(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function zO(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function G1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),s,n=[],c;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)n.push(s.value)}catch(g){c={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return n}function $O(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vy(arguments[t]));return e}function HO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var n=arguments[t],c=0,g=n.length;c<g;c++,s++)i[s]=n[c];return i}function Sf(e){return this instanceof Sf?(this.v=e,this):new Sf(e)}function jO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),s,n=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(I){i[I]&&(s[I]=function(D){return new Promise(function(C,B){n.push([I,D,C,B])>1||g(I,D)})})}function g(I,D){try{m(i[I](D))}catch(C){_(n[0][3],C)}}function m(I){I.value instanceof Sf?Promise.resolve(I.value.v).then(l,w):_(n[0][2],I)}function l(I){g("next",I)}function w(I){g("throw",I)}function _(I,D){I(D),n.shift(),n.length&&g(n[0][0],n[0][1])}}function KO(e){var t,r;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,n){t[s]=e[s]?function(c){return(r=!r)?{value:Sf(e[s](c)),done:s==="return"}:n?n(c):c}:n}}function GO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof G1=="function"?G1(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(n){r[n]=e[n]&&function(c){return new Promise(function(g,m){c=e[n](c),s(g,m,c.done,c.value)})}}function s(n,c,g,m){Promise.resolve(m).then(function(l){n({value:l,done:g})},c)}}function QO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function JO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function VO(e){return e&&e.__esModule?e:{default:e}}function YO(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function WO(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const XO=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return K1},__asyncDelegator:KO,__asyncGenerator:jO,__asyncValues:GO,__await:Sf,__awaiter:UO,__classPrivateFieldGet:YO,__classPrivateFieldSet:WO,__createBinding:kO,__decorate:TO,__exportStar:zO,__extends:OO,__generator:LO,__importDefault:VO,__importStar:JO,__makeTemplateObject:QO,__metadata:qO,__param:FO,__read:Vy,__rest:BO,__spread:$O,__spreadArrays:HO,__values:G1},Symbol.toStringTag,{value:"Module"})),ZO=G6(XO);var Ks={},Sm;function tB(){if(Sm)return Ks;Sm=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.isBrowserCryptoAvailable=Ks.getSubtleCrypto=Ks.getBrowerCrypto=void 0;function e(){return(Bi===null||Bi===void 0?void 0:Bi.crypto)||(Bi===null||Bi===void 0?void 0:Bi.msCrypto)||{}}Ks.getBrowerCrypto=e;function t(){const i=e();return i.subtle||i.webkitSubtle}Ks.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return Ks.isBrowserCryptoAvailable=r,Ks}var Gs={},xm;function eB(){if(xm)return Gs;xm=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.isBrowser=Gs.isNode=Gs.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Gs.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Gs.isNode=t;function r(){return!e()&&!t()}return Gs.isBrowser=r,Gs}var Im;function rB(){return Im||(Im=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ZO;t.__exportStar(tB(),e),t.__exportStar(eB(),e)}(e1)),e1}var iB=rB();function Mo(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function ia(e=6){return BigInt(Mo(e))}function Po(e,t,r){return{id:r||Mo(),jsonrpc:"2.0",method:e,params:t}}function d0(e,t){return{id:e,jsonrpc:"2.0",result:t}}function p0(e,t,r){return{id:e,jsonrpc:"2.0",error:nB(t)}}function nB(e,t){return typeof e>"u"?Mm(Gy):(typeof e=="string"&&(e=Object.assign(Object.assign({},Mm(Ep)),{message:e})),RO(e.code)&&(e=PO(e.code)),e)}class sB{}class oB extends sB{constructor(){super()}}class aB extends oB{constructor(t){super()}}const hB="^https?:",fB="^wss?:";function uB(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Yy(e,t){const r=uB(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Dm(e){return Yy(e,hB)}function Nm(e){return Yy(e,fB)}function cB(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Wy(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Mp(e){return Wy(e)&&"method"in e}function g0(e){return Wy(e)&&(as(e)||bn(e))}function as(e){return"result"in e}function bn(e){return"error"in e}let Qn=class extends aB{constructor(t){super(t),this.events=new Wi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Po(t.method,t.params||[],t.id||ia().toString()),r)}async requestStrict(t,r){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${t.id}`,n=>{bn(n)?s(n.error):i(n.result)});try{await this.connection.send(t,r)}catch(n){s(n)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),g0(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const lB=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),dB=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Cm=e=>e.split("?")[0],Rm=10,pB=lB();let gB=class{constructor(t){if(this.url=t,this.events=new Wi.EventEmitter,this.registering=!1,!Nm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(oo(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Nm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,s)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),s(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,i)=>{const s=new URLSearchParams(t).get("origin"),n=iB.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!cB(t)},c=new pB(t,[],n);dB()?c.onerror=g=>{const m=g;i(this.emitError(m.error))}:c.on("error",g=>{i(this.emitError(g))}),c.onopen=()=>{this.onOpen(c),r(c)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?aa(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),s=i.message||i.toString(),n=p0(t,s);this.events.emit("payload",n)}parseError(t,r=this.url){return Jy(t,Cm(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Rm&&this.events.setMaxListeners(Rm)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Cm(this.url)}`));return this.events.emit("register_error",r),r}};var ff={exports:{}};ff.exports;var Pm;function vB(){return Pm||(Pm=1,function(e,t){var r=200,i="__lodash_hash_undefined__",s=1,n=2,c=9007199254740991,g="[object Arguments]",m="[object Array]",l="[object AsyncFunction]",w="[object Boolean]",_="[object Date]",I="[object Error]",D="[object Function]",C="[object GeneratorFunction]",B="[object Map]",F="[object Number]",Q="[object Null]",U="[object Object]",J="[object Promise]",z="[object Proxy]",$="[object RegExp]",q="[object Set]",R="[object String]",H="[object Symbol]",rt="[object Undefined]",ot="[object WeakMap]",G="[object ArrayBuffer]",x="[object DataView]",o="[object Float32Array]",h="[object Float64Array]",u="[object Int8Array]",v="[object Int16Array]",y="[object Int32Array]",A="[object Uint8Array]",E="[object Uint8ClampedArray]",p="[object Uint16Array]",f="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,b={};b[o]=b[h]=b[u]=b[v]=b[y]=b[A]=b[E]=b[p]=b[f]=!0,b[g]=b[m]=b[G]=b[w]=b[x]=b[_]=b[I]=b[D]=b[B]=b[F]=b[U]=b[$]=b[q]=b[R]=b[ot]=!1;var L=typeof Bi=="object"&&Bi&&Bi.Object===Object&&Bi,O=typeof self=="object"&&self&&self.Object===Object&&self,T=L||O||Function("return this")(),j=t&&!t.nodeType&&t,N=j&&!0&&e&&!e.nodeType&&e,k=N&&N.exports===j,Z=k&&L.process,nt=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),et=nt&&nt.isTypedArray;function ct(tt,at){for(var qt=-1,se=tt==null?0:tt.length,er=0,we=[];++qt<se;){var hr=tt[qt];at(hr,qt,tt)&&(we[er++]=hr)}return we}function pt(tt,at){for(var qt=-1,se=at.length,er=tt.length;++qt<se;)tt[er+qt]=at[qt];return tt}function bt(tt,at){for(var qt=-1,se=tt==null?0:tt.length;++qt<se;)if(at(tt[qt],qt,tt))return!0;return!1}function ie(tt,at){for(var qt=-1,se=Array(tt);++qt<tt;)se[qt]=at(qt);return se}function yt(tt){return function(at){return tt(at)}}function _t(tt,at){return tt.has(at)}function Gt(tt,at){return tt==null?void 0:tt[at]}function lt(tt){var at=-1,qt=Array(tt.size);return tt.forEach(function(se,er){qt[++at]=[er,se]}),qt}function wt(tt,at){return function(qt){return tt(at(qt))}}function Yt(tt){var at=-1,qt=Array(tt.size);return tt.forEach(function(se){qt[++at]=se}),qt}var ut=Array.prototype,At=Function.prototype,Kt=Object.prototype,dt=T["__core-js_shared__"],It=At.toString,Jt=Kt.hasOwnProperty,vt=function(){var tt=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}(),Rt=Kt.toString,te=RegExp("^"+It.call(Jt).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=k?T.Buffer:void 0,Pt=T.Symbol,ce=T.Uint8Array,Tt=Kt.propertyIsEnumerable,Vt=ut.splice,le=Pt?Pt.toStringTag:void 0,Ft=Object.getOwnPropertySymbols,Wt=mt?mt.isBuffer:void 0,pe=wt(Object.keys,Object),Mt=ki(T,"DataView"),Lt=ki(T,"Map"),oe=ki(T,"Promise"),St=ki(T,"Set"),kt=ki(T,"WeakMap"),ne=ki(Object,"create"),Dt=Os(Mt),jt=Os(Lt),ae=Os(oe),Nt=Os(St),zt=Os(kt),fe=Pt?Pt.prototype:void 0,xt=fe?fe.valueOf:void 0;function Ut(tt){var at=-1,qt=tt==null?0:tt.length;for(this.clear();++at<qt;){var se=tt[at];this.set(se[0],se[1])}}function ue(){this.__data__=ne?ne(null):{},this.size=0}function Ct(tt){var at=this.has(tt)&&delete this.__data__[tt];return this.size-=at?1:0,at}function Xt(tt){var at=this.__data__;if(ne){var qt=at[tt];return qt===i?void 0:qt}return Jt.call(at,tt)?at[tt]:void 0}function be(tt){var at=this.__data__;return ne?at[tt]!==void 0:Jt.call(at,tt)}function Ht(tt,at){var qt=this.__data__;return this.size+=this.has(tt)?0:1,qt[tt]=ne&&at===void 0?i:at,this}Ut.prototype.clear=ue,Ut.prototype.delete=Ct,Ut.prototype.get=Xt,Ut.prototype.has=be,Ut.prototype.set=Ht;function Qt(tt){var at=-1,qt=tt==null?0:tt.length;for(this.clear();++at<qt;){var se=tt[at];this.set(se[0],se[1])}}function ze(){this.__data__=[],this.size=0}function $e(tt){var at=this.__data__,qt=To(at,tt);if(qt<0)return!1;var se=at.length-1;return qt==se?at.pop():Vt.call(at,qt,1),--this.size,!0}function He(tt){var at=this.__data__,qt=To(at,tt);return qt<0?void 0:at[qt][1]}function je(tt){return To(this.__data__,tt)>-1}function Ke(tt,at){var qt=this.__data__,se=To(qt,tt);return se<0?(++this.size,qt.push([tt,at])):qt[se][1]=at,this}Qt.prototype.clear=ze,Qt.prototype.delete=$e,Qt.prototype.get=He,Qt.prototype.has=je,Qt.prototype.set=Ke;function xe(tt){var at=-1,qt=tt==null?0:tt.length;for(this.clear();++at<qt;){var se=tt[at];this.set(se[0],se[1])}}function dr(){this.size=0,this.__data__={hash:new Ut,map:new(Lt||Qt),string:new Ut}}function Dr(tt){var at=ho(this,tt).delete(tt);return this.size-=at?1:0,at}function pr(tt){return ho(this,tt).get(tt)}function Nr(tt){return ho(this,tt).has(tt)}function Cr(tt,at){var qt=ho(this,tt),se=qt.size;return qt.set(tt,at),this.size+=qt.size==se?0:1,this}xe.prototype.clear=dr,xe.prototype.delete=Dr,xe.prototype.get=pr,xe.prototype.has=Nr,xe.prototype.set=Cr;function gr(tt){var at=-1,qt=tt==null?0:tt.length;for(this.__data__=new xe;++at<qt;)this.add(tt[at])}function Mr(tt){return this.__data__.set(tt,i),this}function Sr(tt){return this.__data__.has(tt)}gr.prototype.add=gr.prototype.push=Mr,gr.prototype.has=Sr;function Ze(tt){var at=this.__data__=new Qt(tt);this.size=at.size}function Rr(){this.__data__=new Qt,this.size=0}function Pr(tt){var at=this.__data__,qt=at.delete(tt);return this.size=at.size,qt}function Or(tt){return this.__data__.get(tt)}function ai(tt){return this.__data__.has(tt)}function Kf(tt,at){var qt=this.__data__;if(qt instanceof Qt){var se=qt.__data__;if(!Lt||se.length<r-1)return se.push([tt,at]),this.size=++qt.size,this;qt=this.__data__=new xe(se)}return qt.set(tt,at),this.size=qt.size,this}Ze.prototype.clear=Rr,Ze.prototype.delete=Pr,Ze.prototype.get=Or,Ze.prototype.has=ai,Ze.prototype.set=Kf;function Gf(tt,at){var qt=Aa(tt),se=!qt&&nu(tt),er=!qt&&!se&&_h(tt),we=!qt&&!se&&!er&&au(tt),hr=qt||se||er||we,xr=hr?ie(tt.length,String):[],Le=xr.length;for(var rr in tt)Jt.call(tt,rr)&&!(hr&&(rr=="length"||er&&(rr=="offset"||rr=="parent")||we&&(rr=="buffer"||rr=="byteLength"||rr=="byteOffset")||Zf(rr,Le)))&&xr.push(rr);return xr}function To(tt,at){for(var qt=tt.length;qt--;)if(iu(tt[qt][0],at))return qt;return-1}function wh(tt,at,qt){var se=at(tt);return Aa(tt)?se:pt(se,qt(tt))}function Fo(tt){return tt==null?tt===void 0?rt:Q:le&&le in Object(tt)?Wf(tt):A0(tt)}function Ah(tt){return Uo(tt)&&Fo(tt)==g}function qo(tt,at,qt,se,er){return tt===at?!0:tt==null||at==null||!Uo(tt)&&!Uo(at)?tt!==tt&&at!==at:Qf(tt,at,qt,se,qo,er)}function Qf(tt,at,qt,se,er,we){var hr=Aa(tt),xr=Aa(at),Le=hr?m:Vn(tt),rr=xr?m:Vn(at);Le=Le==g?U:Le,rr=rr==g?U:rr;var yr=Le==U,Ei=rr==U,Ir=Le==rr;if(Ir&&_h(tt)){if(!_h(at))return!1;hr=!0,yr=!1}if(Ir&&!yr)return we||(we=new Ze),hr||au(tt)?ya(tt,at,qt,se,er,we):w0(tt,at,Le,qt,se,er,we);if(!(qt&s)){var fr=yr&&Jt.call(tt,"__wrapped__"),hi=Ei&&Jt.call(at,"__wrapped__");if(fr||hi){var En=fr?tt.value():tt,Xi=hi?at.value():at;return we||(we=new Ze),er(En,Xi,qt,se,we)}}return Ir?(we||(we=new Ze),Yf(tt,at,qt,se,er,we)):!1}function y0(tt){if(!ou(tt)||eu(tt))return!1;var at=_a(tt)?te:V;return at.test(Os(tt))}function Jf(tt){return Uo(tt)&&su(tt.length)&&!!b[Fo(tt)]}function Vf(tt){if(!ru(tt))return pe(tt);var at=[];for(var qt in Object(tt))Jt.call(tt,qt)&&qt!="constructor"&&at.push(qt);return at}function ya(tt,at,qt,se,er,we){var hr=qt&s,xr=tt.length,Le=at.length;if(xr!=Le&&!(hr&&Le>xr))return!1;var rr=we.get(tt);if(rr&&we.get(at))return rr==at;var yr=-1,Ei=!0,Ir=qt&n?new gr:void 0;for(we.set(tt,at),we.set(at,tt);++yr<xr;){var fr=tt[yr],hi=at[yr];if(se)var En=hr?se(hi,fr,yr,at,tt,we):se(fr,hi,yr,tt,at,we);if(En!==void 0){if(En)continue;Ei=!1;break}if(Ir){if(!bt(at,function(Xi,Yn){if(!_t(Ir,Yn)&&(fr===Xi||er(fr,Xi,qt,se,we)))return Ir.push(Yn)})){Ei=!1;break}}else if(!(fr===hi||er(fr,hi,qt,se,we))){Ei=!1;break}}return we.delete(tt),we.delete(at),Ei}function w0(tt,at,qt,se,er,we,hr){switch(qt){case x:if(tt.byteLength!=at.byteLength||tt.byteOffset!=at.byteOffset)return!1;tt=tt.buffer,at=at.buffer;case G:return!(tt.byteLength!=at.byteLength||!we(new ce(tt),new ce(at)));case w:case _:case F:return iu(+tt,+at);case I:return tt.name==at.name&&tt.message==at.message;case $:case R:return tt==at+"";case B:var xr=lt;case q:var Le=se&s;if(xr||(xr=Yt),tt.size!=at.size&&!Le)return!1;var rr=hr.get(tt);if(rr)return rr==at;se|=n,hr.set(tt,at);var yr=ya(xr(tt),xr(at),se,er,we,hr);return hr.delete(tt),yr;case H:if(xt)return xt.call(tt)==xt.call(at)}return!1}function Yf(tt,at,qt,se,er,we){var hr=qt&s,xr=wa(tt),Le=xr.length,rr=wa(at),yr=rr.length;if(Le!=yr&&!hr)return!1;for(var Ei=Le;Ei--;){var Ir=xr[Ei];if(!(hr?Ir in at:Jt.call(at,Ir)))return!1}var fr=we.get(tt);if(fr&&we.get(at))return fr==at;var hi=!0;we.set(tt,at),we.set(at,tt);for(var En=hr;++Ei<Le;){Ir=xr[Ei];var Xi=tt[Ir],Yn=at[Ir];if(se)var Eh=hr?se(Yn,Xi,Ir,at,tt,we):se(Xi,Yn,Ir,tt,at,we);if(!(Eh===void 0?Xi===Yn||er(Xi,Yn,qt,se,we):Eh)){hi=!1;break}En||(En=Ir=="constructor")}if(hi&&!En){var Lo=tt.constructor,Lr=at.constructor;Lo!=Lr&&"constructor"in tt&&"constructor"in at&&!(typeof Lo=="function"&&Lo instanceof Lo&&typeof Lr=="function"&&Lr instanceof Lr)&&(hi=!1)}return we.delete(tt),we.delete(at),hi}function wa(tt){return wh(tt,M0,Xf)}function ho(tt,at){var qt=tt.__data__;return tu(at)?qt[typeof at=="string"?"string":"hash"]:qt.map}function ki(tt,at){var qt=Gt(tt,at);return y0(qt)?qt:void 0}function Wf(tt){var at=Jt.call(tt,le),qt=tt[le];try{tt[le]=void 0;var se=!0}catch{}var er=Rt.call(tt);return se&&(at?tt[le]=qt:delete tt[le]),er}var Xf=Ft?function(tt){return tt==null?[]:(tt=Object(tt),ct(Ft(tt),function(at){return Tt.call(tt,at)}))}:tr,Vn=Fo;(Mt&&Vn(new Mt(new ArrayBuffer(1)))!=x||Lt&&Vn(new Lt)!=B||oe&&Vn(oe.resolve())!=J||St&&Vn(new St)!=q||kt&&Vn(new kt)!=ot)&&(Vn=function(tt){var at=Fo(tt),qt=at==U?tt.constructor:void 0,se=qt?Os(qt):"";if(se)switch(se){case Dt:return x;case jt:return B;case ae:return J;case Nt:return q;case zt:return ot}return at});function Zf(tt,at){return at=at??c,!!at&&(typeof tt=="number"||W.test(tt))&&tt>-1&&tt%1==0&&tt<at}function tu(tt){var at=typeof tt;return at=="string"||at=="number"||at=="symbol"||at=="boolean"?tt!=="__proto__":tt===null}function eu(tt){return!!vt&&vt in tt}function ru(tt){var at=tt&&tt.constructor,qt=typeof at=="function"&&at.prototype||Kt;return tt===qt}function A0(tt){return Rt.call(tt)}function Os(tt){if(tt!=null){try{return It.call(tt)}catch{}try{return tt+""}catch{}}return""}function iu(tt,at){return tt===at||tt!==tt&&at!==at}var nu=Ah(function(){return arguments}())?Ah:function(tt){return Uo(tt)&&Jt.call(tt,"callee")&&!Tt.call(tt,"callee")},Aa=Array.isArray;function _0(tt){return tt!=null&&su(tt.length)&&!_a(tt)}var _h=Wt||We;function E0(tt,at){return qo(tt,at)}function _a(tt){if(!ou(tt))return!1;var at=Fo(tt);return at==D||at==C||at==l||at==z}function su(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=c}function ou(tt){var at=typeof tt;return tt!=null&&(at=="object"||at=="function")}function Uo(tt){return tt!=null&&typeof tt=="object"}var au=et?yt(et):Jf;function M0(tt){return _0(tt)?Gf(tt):Vf(tt)}function tr(){return[]}function We(){return!1}e.exports=E0}(ff,ff.exports)),ff.exports}var mB=vB();const bB=i0(mB),Xy="wc",Zy=2,Sp="core",Is=`${Xy}@2:${Sp}:`,yB={name:Sp,logger:"error"},wB={database:":memory:"},AB="crypto",Om="client_ed25519_seed",_B=ee.ONE_DAY,EB="keychain",MB="0.3",SB="messages",xB="0.3",IB=ee.SIX_HOURS,DB="publisher",t8="irn",NB="error",e8="wss://relay.walletconnect.org",CB="relayer",pi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},RB="_subscription",cn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},PB=.1,Q1="2.17.0",sr={link_mode:"link_mode",relay:"relay"},OB="0.3",BB="WALLETCONNECT_CLIENT_ID",Bm="WALLETCONNECT_LINK_MODE_APPS",hs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},TB="subscription",FB="0.3",qB=ee.FIVE_SECONDS*1e3,UB="pairing",LB="0.3",Zh={wc_pairingDelete:{req:{ttl:ee.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ee.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ee.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ee.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ee.ONE_DAY,prompt:!1,tag:0},res:{ttl:ee.ONE_DAY,prompt:!1,tag:0}}},ea={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Cn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},kB="history",zB="0.3",$B="expirer",pn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},HB="0.3",jB="verify-api",KB="https://verify.walletconnect.com",r8="https://verify.walletconnect.org",mf=r8,GB=`${mf}/v3`,QB=[KB,r8],JB="echo",VB="https://echo.walletconnect.com",rs={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Js={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Rn={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Xo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Zo={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},tf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},YB=.1,WB="event-client",XB=86400,ZB="https://pulse.walletconnect.org/batch";function tT(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<e.length;s++){var n=e.charAt(s),c=n.charCodeAt(0);if(r[c]!==255)throw new TypeError(n+" is ambiguous");r[c]=s}var g=e.length,m=e.charAt(0),l=Math.log(g)/Math.log(256),w=Math.log(256)/Math.log(g);function _(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var B=0,F=0,Q=0,U=C.length;Q!==U&&C[Q]===0;)Q++,B++;for(var J=(U-Q)*w+1>>>0,z=new Uint8Array(J);Q!==U;){for(var $=C[Q],q=0,R=J-1;($!==0||q<F)&&R!==-1;R--,q++)$+=256*z[R]>>>0,z[R]=$%g>>>0,$=$/g>>>0;if($!==0)throw new Error("Non-zero carry");F=q,Q++}for(var H=J-F;H!==J&&z[H]===0;)H++;for(var rt=m.repeat(B);H<J;++H)rt+=e.charAt(z[H]);return rt}function I(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var B=0;if(C[B]!==" "){for(var F=0,Q=0;C[B]===m;)F++,B++;for(var U=(C.length-B)*l+1>>>0,J=new Uint8Array(U);C[B];){var z=r[C.charCodeAt(B)];if(z===255)return;for(var $=0,q=U-1;(z!==0||$<Q)&&q!==-1;q--,$++)z+=g*J[q]>>>0,J[q]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");Q=$,B++}if(C[B]!==" "){for(var R=U-Q;R!==U&&J[R]===0;)R++;for(var H=new Uint8Array(F+(U-R)),rt=F;R!==U;)H[rt++]=J[R++];return H}}}function D(C){var B=I(C);if(B)return B;throw new Error(`Non-${t} character`)}return{encode:_,decodeUnsafe:I,decode:D}}var eT=tT,rT=eT;const i8=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},iT=e=>new TextEncoder().encode(e),nT=e=>new TextDecoder().decode(e);let sT=class{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},oT=class{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return n8(this,t)}};class aT{constructor(t){this.decoders=t}or(t){return n8(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const n8=(e,t)=>new aT({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let hT=class{constructor(t,r,i,s){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=s,this.encoder=new sT(t,r,i),this.decoder=new oT(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const v0=({name:e,prefix:t,encode:r,decode:i})=>new hT(e,t,r,i),$f=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:s}=rT(r,t);return v0({prefix:e,name:t,encode:i,decode:n=>i8(s(n))})},fT=(e,t,r,i)=>{const s={};for(let w=0;w<t.length;++w)s[t[w]]=w;let n=e.length;for(;e[n-1]==="=";)--n;const c=new Uint8Array(n*r/8|0);let g=0,m=0,l=0;for(let w=0;w<n;++w){const _=s[e[w]];if(_===void 0)throw new SyntaxError(`Non-${i} character`);m=m<<r|_,g+=r,g>=8&&(g-=8,c[l++]=255&m>>g)}if(g>=r||255&m<<8-g)throw new SyntaxError("Unexpected end of data");return c},uT=(e,t,r)=>{const i=t[t.length-1]==="=",s=(1<<r)-1;let n="",c=0,g=0;for(let m=0;m<e.length;++m)for(g=g<<8|e[m],c+=8;c>r;)c-=r,n+=t[s&g>>c];if(c&&(n+=t[s&g<<r-c]),i)for(;n.length*r&7;)n+="=";return n},ei=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>v0({prefix:t,name:e,encode(s){return uT(s,i,r)},decode(s){return fT(s,i,r,e)}}),cT=v0({prefix:"\0",name:"identity",encode:e=>nT(e),decode:e=>iT(e)});var lT=Object.freeze({__proto__:null,identity:cT});const dT=ei({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pT=Object.freeze({__proto__:null,base2:dT});const gT=ei({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vT=Object.freeze({__proto__:null,base8:gT});const mT=$f({prefix:"9",name:"base10",alphabet:"0123456789"});var bT=Object.freeze({__proto__:null,base10:mT});const yT=ei({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wT=ei({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var AT=Object.freeze({__proto__:null,base16:yT,base16upper:wT});const _T=ei({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ET=ei({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),MT=ei({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ST=ei({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xT=ei({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),IT=ei({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),DT=ei({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NT=ei({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CT=ei({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var RT=Object.freeze({__proto__:null,base32:_T,base32upper:ET,base32pad:MT,base32padupper:ST,base32hex:xT,base32hexupper:IT,base32hexpad:DT,base32hexpadupper:NT,base32z:CT});const PT=$f({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),OT=$f({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var BT=Object.freeze({__proto__:null,base36:PT,base36upper:OT});const TT=$f({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),FT=$f({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qT=Object.freeze({__proto__:null,base58btc:TT,base58flickr:FT});const UT=ei({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),LT=ei({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kT=ei({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zT=ei({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $T=Object.freeze({__proto__:null,base64:UT,base64pad:LT,base64url:kT,base64urlpad:zT});const s8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),HT=s8.reduce((e,t,r)=>(e[r]=t,e),[]),jT=s8.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function KT(e){return e.reduce((t,r)=>(t+=HT[r],t),"")}function GT(e){const t=[];for(const r of e){const i=jT[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const QT=v0({prefix:"🚀",name:"base256emoji",encode:KT,decode:GT});var JT=Object.freeze({__proto__:null,base256emoji:QT}),VT=o8,Tm=128,YT=127,WT=~YT,XT=Math.pow(2,31);function o8(e,t,r){t=t||[],r=r||0;for(var i=r;e>=XT;)t[r++]=e&255|Tm,e/=128;for(;e&WT;)t[r++]=e&255|Tm,e>>>=7;return t[r]=e|0,o8.bytes=r-i+1,t}var ZT=J1,tF=128,Fm=127;function J1(e,i){var r=0,i=i||0,s=0,n=i,c,g=e.length;do{if(n>=g)throw J1.bytes=0,new RangeError("Could not decode varint");c=e[n++],r+=s<28?(c&Fm)<<s:(c&Fm)*Math.pow(2,s),s+=7}while(c>=tF);return J1.bytes=n-i,r}var eF=Math.pow(2,7),rF=Math.pow(2,14),iF=Math.pow(2,21),nF=Math.pow(2,28),sF=Math.pow(2,35),oF=Math.pow(2,42),aF=Math.pow(2,49),hF=Math.pow(2,56),fF=Math.pow(2,63),uF=function(e){return e<eF?1:e<rF?2:e<iF?3:e<nF?4:e<sF?5:e<oF?6:e<aF?7:e<hF?8:e<fF?9:10},cF={encode:VT,decode:ZT,encodingLength:uF},a8=cF;const qm=(e,t,r=0)=>(a8.encode(e,t,r),t),Um=e=>a8.encodingLength(e),V1=(e,t)=>{const r=t.byteLength,i=Um(e),s=i+Um(r),n=new Uint8Array(s+r);return qm(e,n,0),qm(r,n,i),n.set(t,s),new lF(e,r,t,n)};class lF{constructor(t,r,i,s){this.code=t,this.size=r,this.digest=i,this.bytes=s}}const h8=({name:e,code:t,encode:r})=>new dF(e,t,r);class dF{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?V1(this.code,r):r.then(i=>V1(this.code,i))}else throw Error("Unknown type, must be binary type")}}const f8=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),pF=h8({name:"sha2-256",code:18,encode:f8("SHA-256")}),gF=h8({name:"sha2-512",code:19,encode:f8("SHA-512")});var vF=Object.freeze({__proto__:null,sha256:pF,sha512:gF});const u8=0,mF="identity",c8=i8,bF=e=>V1(u8,c8(e)),yF={code:u8,name:mF,encode:c8,digest:bF};var wF=Object.freeze({__proto__:null,identity:yF});new TextEncoder,new TextDecoder;const Lm={...lT,...pT,...vT,...bT,...AT,...RT,...BT,...qT,...$T,...JT};({...vF,...wF});function AF(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function l8(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const km=l8("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),r1=l8("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=AF(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),_F={utf8:km,"utf-8":km,hex:Lm.base16,latin1:r1,ascii:r1,binary:r1,...Lm};function EF(e,t="utf8"){const r=_F[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}let MF=class{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=EB,this.version=MB,this.initialized=!1,this.storagePrefix=Is,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()},this.get=i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>"u"){const{message:n}=Zt("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(n)}return s},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=t,this.logger=_i(r,this.name)}get context(){return Li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Wb(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Xb(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}};class SF{constructor(t,r,i){this.core=t,this.logger=r,this.name=AB,this.randomSessionIdentifier=$1(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),n=C3(s);return Qb(n.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=MP();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const n=await this.getClientSeed(),c=C3(n),g=this.randomSessionIdentifier;return await sN(g,s,_B,c)},this.generateSharedKey=(s,n,c)=>{this.isInitialized();const g=this.getPrivateKey(s),m=SP(g,n);return this.setSymKey(m,c)},this.setSymKey=async(s,n)=>{this.isInitialized();const c=n||Rc(s);return await this.keychain.set(c,s),c},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,n,c)=>{this.isInitialized();const g=Hy(c),m=oo(n);if(lm(g))return IP(m,c==null?void 0:c.encoding);if(cm(g)){const I=g.senderPublicKey,D=g.receiverPublicKey;s=await this.generateSharedKey(I,D)}const l=this.getSymKey(s),{type:w,senderPublicKey:_}=g;return xP({type:w,symKey:l,message:m,senderPublicKey:_,encoding:c==null?void 0:c.encoding})},this.decode=async(s,n,c)=>{this.isInitialized();const g=CP(n,c);if(lm(g)){const m=NP(n,c==null?void 0:c.encoding);return aa(m)}if(cm(g)){const m=g.receiverPublicKey,l=g.senderPublicKey;s=await this.generateSharedKey(m,l)}try{const m=this.getSymKey(s),l=DP({symKey:m,encoded:n,encoding:c==null?void 0:c.encoding});return aa(l)}catch(m){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(m)}},this.getPayloadType=(s,n=Ro)=>{const c=Mf({encoded:s,encoding:n});return fa(c.type)},this.getPayloadSenderPublicKey=(s,n=Ro)=>{const c=Mf({encoded:s,encoding:n});return c.senderPublicKey?Qr(c.senderPublicKey,yi):void 0},this.core=t,this.logger=_i(r,this.name),this.keychain=i||new MF(this.core,this.logger)}get context(){return Li(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Om)}catch{t=$1(),await this.keychain.set(Om,t)}return EF(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class xF extends FD{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=SB,this.version=xB,this.initialized=!1,this.storagePrefix=Is,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,s)=>{this.isInitialized();const n=Xs(s);let c=this.messages.get(i);return typeof c>"u"&&(c={}),typeof c[n]<"u"||(c[n]=s,this.messages.set(i,c),await this.persist()),n},this.get=i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>"u"&&(s={}),s},this.has=(i,s)=>{this.isInitialized();const n=this.get(i),c=Xs(s);return typeof n[c]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=_i(t,this.name),this.core=r}get context(){return Li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Wb(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Xb(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class IF extends qD{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Wi.EventEmitter,this.name=DB,this.queue=new Map,this.publishTimeout=ee.toMiliseconds(ee.ONE_MINUTE),this.failedPublishTimeout=ee.toMiliseconds(ee.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(i,s,n)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:n}});const g=(n==null?void 0:n.ttl)||IB,m=H1(n),l=(n==null?void 0:n.prompt)||!1,w=(n==null?void 0:n.tag)||0,_=(n==null?void 0:n.id)||ia().toString(),I={topic:i,message:s,opts:{ttl:g,relay:m,prompt:l,tag:w,id:_,attestation:n==null?void 0:n.attestation}},D=`Failed to publish payload, please try again. id:${_} tag:${w}`,C=Date.now();let B,F=1;try{for(;B===void 0;){if(Date.now()-C>this.publishTimeout)throw new Error(D);this.logger.trace({id:_,attempts:F},`publisher.publish - attempt ${F}`),B=await await Ga(this.rpcPublish(i,s,g,m,l,w,_,n==null?void 0:n.attestation).catch(Q=>this.logger.warn(Q)),this.publishTimeout,D),F++,B||await new Promise(Q=>setTimeout(Q,this.failedPublishTimeout))}this.relayer.events.emit(pi.publish,I),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:_,topic:i,message:s,opts:n}})}catch(Q){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Q),(c=n==null?void 0:n.internal)!=null&&c.throwOnFailedPublish)throw Q;this.queue.set(_,I)}},this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.relayer=t,this.logger=_i(r,this.name),this.registerEventListeners()}get context(){return Li(this.logger)}rpcPublish(t,r,i,s,n,c,g,m){var l,w,_,I;const D={method:hf(s.protocol).publish,params:{topic:t,message:r,ttl:i,prompt:n,tag:c,attestation:m},id:g};return mi((l=D.params)==null?void 0:l.prompt)&&((w=D.params)==null||delete w.prompt),mi((_=D.params)==null?void 0:_.tag)&&((I=D.params)==null||delete I.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:D}),this.relayer.request(D)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:i,opts:s}=t;await this.publish(r,i,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(fh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(pi.connection_stalled);return}this.checkQueue()}),this.relayer.on(pi.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class DF{constructor(){this.map=new Map,this.set=(t,r)=>{const i=this.get(t);this.exists(t,r)||this.map.set(t,[...i,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const i=this.get(t);if(!this.exists(t,r))return;const s=i.filter(n=>n!==r);if(!s.length){this.map.delete(t);return}this.map.set(t,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var NF=Object.defineProperty,CF=Object.defineProperties,RF=Object.getOwnPropertyDescriptors,zm=Object.getOwnPropertySymbols,PF=Object.prototype.hasOwnProperty,OF=Object.prototype.propertyIsEnumerable,$m=(e,t,r)=>t in e?NF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ef=(e,t)=>{for(var r in t||(t={}))PF.call(t,r)&&$m(e,r,t[r]);if(zm)for(var r of zm(t))OF.call(t,r)&&$m(e,r,t[r]);return e},i1=(e,t)=>CF(e,RF(t));class BF extends kD{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new DF,this.events=new Wi.EventEmitter,this.name=TB,this.version=FB,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Is,this.subscribeTimeout=ee.toMiliseconds(ee.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(i,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}});try{const n=H1(s),c={topic:i,relay:n,transportType:s==null?void 0:s.transportType};this.pending.set(i,c);const g=await this.rpcSubscribe(i,n,s==null?void 0:s.transportType);return typeof g=="string"&&(this.onSubscribe(g,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}})),g}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}},this.unsubscribe=async(i,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const s=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((n,c)=>{const g=new ee.Watch;g.start(s);const m=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(m),g.stop(s),n(!0)),g.elapsed(s)>=qB&&(clearInterval(m),g.stop(s),c(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=_i(r,this.name),this.clientId=""}get context(){return Li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let i=!1;try{i=this.getSubscription(t).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const i=this.topicMap.get(t);await Promise.all(i.map(async s=>await this.unsubscribeById(t,s,r)))}async unsubscribeById(t,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}});try{const s=H1(i);await this.rpcUnsubscribe(t,r,s);const n=or("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,r,i=sr.relay){i===sr.relay&&await this.restartToComplete();const s={method:hf(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{const n=Xs(t+this.clientId);return i===sr.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(c=>this.logger.warn(c))},ee.toMiliseconds(ee.ONE_SECOND)),n):await await Ga(this.relayer.request(s).catch(c=>this.logger.warn(c)),this.subscribeTimeout)?n:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(pi.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,i={method:hf(r.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await Ga(this.relayer.request(i).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(pi.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,i={method:hf(r.protocol).batchFetchMessages,params:{topics:t.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let s;try{s=await await Ga(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)}catch{this.relayer.events.emit(pi.connection_stalled)}return s}rpcUnsubscribe(t,r,i){const s={method:hf(i.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,r){this.setSubscription(t,i1(ef({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,ef({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,i),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,ef({},r)),this.topicMap.set(r.topic,t),this.events.emit(hs.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:i}=Zt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const i=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(i.topic,t),this.events.emit(hs.deleted,i1(ef({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(hs.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(i),await this.batchSubscribe(i)}}this.events.emit(hs.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);zf(r)&&this.onBatchSubscribe(r.map((i,s)=>i1(ef({},t[s]),{id:i})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(fh.pulse,async()=>{await this.checkPending()}),this.events.on(hs.created,async t=>{const r=hs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(hs.deleted,async t=>{const r=hs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var TF=Object.defineProperty,Hm=Object.getOwnPropertySymbols,FF=Object.prototype.hasOwnProperty,qF=Object.prototype.propertyIsEnumerable,jm=(e,t,r)=>t in e?TF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,UF=(e,t)=>{for(var r in t)FF.call(t,r)&&jm(e,r,t[r]);if(Hm)for(var r of Hm(t))qF.call(t,r)&&jm(e,r,t[r]);return e};class LF extends UD{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Wi.EventEmitter,this.name=CB,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=ee.toMiliseconds(ee.THIRTY_SECONDS+ee.ONE_SECOND),this.request=async r=>{var i,s;this.logger.debug("Publishing Request Payload");const n=r.id||ia().toString();await this.toEstablishConnection();try{const c=this.provider.request(r);this.requestsInFlight.set(n,{promise:c,request:r}),this.logger.trace({id:n,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - attempt to publish...");const g=await new Promise(async(m,l)=>{const w=()=>{l(new Error(`relayer.request - publish interrupted, id: ${n}`))};this.provider.on(cn.disconnect,w);const _=await c;this.provider.off(cn.disconnect,w),m(_)});return this.logger.trace({id:n,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - published"),g}catch(c){throw this.logger.debug(`Failed to Publish Request: ${n}`),c}finally{this.requestsInFlight.delete(n)}},this.resetPingTimeout=()=>{if(Kc())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s;(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(pi.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(pi.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(cn.payload,this.onPayloadHandler),this.provider.on(cn.connect,this.onConnectHandler),this.provider.on(cn.disconnect,this.onDisconnectHandler),this.provider.on(cn.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?_i(t.logger,this.name):Bf(u0({level:t.logger||NB})),this.messages=new xF(this.logger,t.core),this.subscriber=new BF(this,this.logger),this.publisher=new IF(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||e8,this.projectId=t.projectId,this.bundleId=dN(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(t){this.logger.warn(t)}}get context(){return Li(this.logger)}get connected(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1}get connecting(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0}async publish(t,r,i){this.isInitialized(),await this.publisher.publish(t,r,i),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:sr.relay})}async subscribe(t,r){var i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();let s=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",n;const c=g=>{g.topic===t&&(this.subscriber.off(hs.created,c),n())};return await Promise.all([new Promise(g=>{n=g,this.subscriber.on(hs.created,c)}),new Promise(async g=>{s=await this.subscriber.subscribe(t,r)||s,g()})]),s}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Ga(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,i)=>{const s=()=>{this.provider.off(cn.disconnect,s),i(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(cn.disconnect,s),await Ga(this.provider.connect(),ee.toMiliseconds(ee.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(n=>{i(n)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(n=>{this.logger.error(n),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const i=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(i.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Em())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const i of r)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:i}=t;if(!r.sessionExists){const s=Ur(ee.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(pi.message,t),await this.recordMessageEvent(t)}startPingTimeout(){var t,r,i,s,n;if(Kc())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Qn(new gB(mN({sdkVersion:Q1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:i}=t;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(t){const{topic:r,message:i}=t;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const s=this.messages.has(r,i);return s&&this.logger.debug(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Mp(t)){if(!t.method.endsWith(RB))return;const r=t.params,{topic:i,message:s,publishedAt:n,attestation:c}=r.data,g={topic:i,message:s,publishedAt:n,transportType:sr.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(UF({type:"event",event:r.id},g)),this.events.emit(r.id,g),await this.acknowledgePayload(t),await this.onMessageEvent(g)}else g0(t)&&this.events.emit(pi.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(pi.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=d0(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(cn.payload,this.onPayloadHandler),this.provider.off(cn.connect,this.onConnectHandler),this.provider.off(cn.disconnect,this.onDisconnectHandler),this.provider.off(cn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Em();EO(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(pi.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},ee.toMiliseconds(PB))))}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var kF=Object.defineProperty,Km=Object.getOwnPropertySymbols,zF=Object.prototype.hasOwnProperty,$F=Object.prototype.propertyIsEnumerable,Gm=(e,t,r)=>t in e?kF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qm=(e,t)=>{for(var r in t||(t={}))zF.call(t,r)&&Gm(e,r,t[r]);if(Km)for(var r of Km(t))$F.call(t,r)&&Gm(e,r,t[r]);return e};class ga extends LD{constructor(t,r,i,s=Is,n=void 0){super(t,r,i,s),this.core=t,this.logger=r,this.name=i,this.map=new Map,this.version=OB,this.cached=[],this.initialized=!1,this.storagePrefix=Is,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!mi(c)?this.map.set(this.getKey(c),c):tO(c)?this.map.set(c.id,c):eO(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,g)=>{this.isInitialized(),this.map.has(c)?await this.update(c,g):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:g}),this.map.set(c,g),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(g=>Object.keys(c).every(m=>bB(g[m],c[m]))):this.values),this.update=async(c,g)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:g});const m=Qm(Qm({},this.getData(c)),g);this.map.set(c,m),await this.persist()},this.delete=async(c,g)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:g}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())},this.logger=_i(r,this.name),this.storagePrefix=s,this.getKey=n}get context(){return Li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:s}=Zt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:i}=Zt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class HF{constructor(t,r){this.core=t,this.logger=r,this.name=UB,this.version=LB,this.events=new sp,this.initialized=!1,this.storagePrefix=Is,this.ignoredPayloadTypes=[so],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const s=$1(),n=await this.core.crypto.setSymKey(s),c=Ur(ee.FIVE_MINUTES),g={protocol:t8},m={topic:n,expiry:c,relay:g,active:!1,methods:i==null?void 0:i.methods},l=mm({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:g,expiryTimestamp:c,methods:i==null?void 0:i.methods});return this.events.emit(ea.create,m),this.core.expirer.set(n,c),await this.pairings.set(n,m),await this.core.relayer.subscribe(n,{transportType:i==null?void 0:i.transportType}),{topic:n,uri:l}},this.pair=async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i==null?void 0:i.uri,trace:[rs.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:c,relay:g,expiryTimestamp:m,methods:l}=vm(i.uri);s.props.properties.topic=n,s.addTrace(rs.pairing_uri_validation_success),s.addTrace(rs.pairing_uri_not_expired);let w;if(this.pairings.keys.includes(n)){if(w=this.pairings.get(n),s.addTrace(rs.existing_pairing),w.active)throw s.setError(Js.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(rs.pairing_not_expired)}const _=m||Ur(ee.FIVE_MINUTES),I={topic:n,relay:g,expiry:_,active:!1,methods:l};this.core.expirer.set(n,_),await this.pairings.set(n,I),s.addTrace(rs.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(ea.create,I),s.addTrace(rs.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(c,n),s.addTrace(rs.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Js.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:g})}catch(D){throw s.setError(Js.subscribe_pairing_topic_failure),D}return s.addTrace(rs.subscribe_pairing_topic_success),I},this.activate=async({topic:i})=>{this.isInitialized();const s=Ur(ee.THIRTY_DAYS);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:g,reject:m}=ta();this.events.once(Re("pairing_ping",n),({error:l})=>{l?m(l):g()}),await c()}},this.updateExpiry=async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})},this.updateMetadata=async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",or("USER_DISCONNECTED")),await this.deletePairing(s))},this.formatUriFromPairing=i=>{this.isInitialized();const{topic:s,relay:n,expiry:c,methods:g}=i,m=this.core.crypto.keychain.get(s);return mm({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:m,relay:n,expiryTimestamp:c,methods:g})},this.sendRequest=async(i,s,n)=>{const c=Po(s,n),g=await this.core.crypto.encode(i,c),m=Zh[s].req;return this.core.history.set(i,c),this.core.relayer.publish(i,g,m),c.id},this.sendResult=async(i,s,n)=>{const c=d0(i,n),g=await this.core.crypto.encode(s,c),m=await this.core.history.get(s,i),l=Zh[m.request.method].res;await this.core.relayer.publish(s,g,l),await this.core.history.resolve(c)},this.sendError=async(i,s,n)=>{const c=p0(i,n),g=await this.core.crypto.encode(s,c),m=await this.core.history.get(s,i),l=Zh[m.request.method]?Zh[m.request.method].res:Zh.unregistered_method.res;await this.core.relayer.publish(s,g,l),await this.core.history.resolve(c)},this.deletePairing=async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,or("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(s=>_o(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=i=>{const{topic:s,payload:n}=i;switch(n.method){case"wc_pairingPing":return this.onPairingPingRequest(s,n);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,n);default:return this.onUnknownRpcMethodRequest(s,n)}},this.onRelayEventResponse=async i=>{const{topic:s,payload:n}=i,c=(await this.core.history.get(s,n.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(ea.ping,{id:n,topic:i})}catch(c){await this.sendError(n,i,c),this.logger.error(c)}},this.onPairingPingResponse=(i,s)=>{const{id:n}=s;setTimeout(()=>{as(s)?this.events.emit(Re("pairing_ping",n),{}):bn(s)&&this.events.emit(Re("pairing_ping",n),{error:s.error})},500)},this.onPairingDeleteRequest=async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(ea.delete,{id:n,topic:i})}catch(c){await this.sendError(n,i,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(i,s)=>{const{id:n,method:c}=s;try{if(this.registeredMethods.includes(c))return;const g=or("WC_METHOD_UNSUPPORTED",c);await this.sendError(n,i,g),this.logger.error(g)}catch(g){await this.sendError(n,i,g),this.logger.error(g)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(or("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=(i,s)=>{var n;if(!Pi(i)){const{message:g}=Zt("MISSING_OR_INVALID",`pair() params: ${i}`);throw s.setError(Js.malformed_pairing_uri),new Error(g)}if(!ZP(i.uri)){const{message:g}=Zt("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw s.setError(Js.malformed_pairing_uri),new Error(g)}const c=vm(i==null?void 0:i.uri);if(!((n=c==null?void 0:c.relay)!=null&&n.protocol)){const{message:g}=Zt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Js.malformed_pairing_uri),new Error(g)}if(!(c!=null&&c.symKey)){const{message:g}=Zt("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Js.malformed_pairing_uri),new Error(g)}if(c!=null&&c.expiryTimestamp&&ee.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){s.setError(Js.pairing_expired);const{message:g}=Zt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(g)}},this.isValidPing=async i=>{if(!Pi(i)){const{message:n}=Zt("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)},this.isValidDisconnect=async i=>{if(!Pi(i)){const{message:n}=Zt("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async i=>{if(!Er(i,!1)){const{message:s}=Zt("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=Zt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if(_o(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=Zt("EXPIRED",`pairing topic: ${i}`);throw new Error(s)}},this.core=t,this.logger=_i(r,this.name),this.pairings=new ga(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Li(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(pi.message,async t=>{const{topic:r,message:i,transportType:s}=t;if(!this.pairings.keys.includes(r)||s===sr.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const n=await this.core.crypto.decode(r,i);try{Mp(n)?(this.core.history.set(r,n),this.onRelayEventRequest({topic:r,payload:n})):g0(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:r,payload:n}),this.core.history.delete(r,n.id))}catch(c){this.logger.error(c)}})}registerExpirerEvents(){this.core.expirer.on(pn.expired,async t=>{const{topic:r}=ty(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(ea.expire,{topic:r}))})}}class jF extends TD{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Wi.EventEmitter,this.name=kB,this.version=zB,this.cached=[],this.initialized=!1,this.storagePrefix=Is,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,s,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const c={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:Ur(ee.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(Cn.created,c)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>"u"&&(s.response=bn(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(Cn.updated,s))},this.get=async(i,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:s}),await this.getRecord(s)),this.delete=(i,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<"u"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(Cn.deleted,n)}}),this.persist()},this.exists=async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1),this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.logger=_i(r,this.name)}get context(){return Li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:Po(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(i)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:i}=Zt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Cn.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Cn.created,t=>{const r=Cn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(Cn.updated,t=>{const r=Cn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(Cn.deleted,t=>{const r=Cn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(fh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{ee.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Cn.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class KF extends zD{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Wi.EventEmitter,this.name=$B,this.version=HB,this.cached=[],this.initialized=!1,this.storagePrefix=Is,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(i,s)=>{this.isInitialized();const n=this.formatTarget(i),c={target:n,expiry:s};this.expirations.set(n,c),this.checkExpiry(n,c),this.events.emit(pn.created,{target:n,expiration:c})},this.get=i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)},this.del=i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(pn.deleted,{target:s,expiration:n})}},this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.logger=_i(r,this.name)}get context(){return Li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return bN(t);if(typeof t=="number")return yN(t);const{message:r}=Zt("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(pn.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:i}=Zt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(t,r){const{expiry:i}=r;ee.toMiliseconds(i)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(pn.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(fh.pulse,()=>this.checkExpirations()),this.events.on(pn.created,t=>{const r=pn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(pn.expired,t=>{const r=pn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(pn.deleted,t=>{const r=pn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.getLocalStorage=ur.getLocalStorageOrThrow=ur.getCrypto=ur.getCryptoOrThrow=ur.getLocation=ur.getLocationOrThrow=ur.getNavigator=ur.getNavigatorOrThrow=d8=ur.getDocument=ur.getDocumentOrThrow=ur.getFromWindowOrThrow=ur.getFromWindow=void 0;function va(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}ur.getFromWindow=va;function vh(e){const t=va(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}ur.getFromWindowOrThrow=vh;function GF(){return vh("document")}ur.getDocumentOrThrow=GF;function QF(){return va("document")}var d8=ur.getDocument=QF;function JF(){return vh("navigator")}ur.getNavigatorOrThrow=JF;function VF(){return va("navigator")}ur.getNavigator=VF;function YF(){return vh("location")}ur.getLocationOrThrow=YF;function WF(){return va("location")}ur.getLocation=WF;function XF(){return vh("crypto")}ur.getCryptoOrThrow=XF;function ZF(){return va("crypto")}ur.getCrypto=ZF;function tq(){return vh("localStorage")}ur.getLocalStorageOrThrow=tq;function eq(){return va("localStorage")}ur.getLocalStorage=eq;class rq extends $D{constructor(t,r,i){super(t,r,i),this.core=t,this.logger=r,this.store=i,this.name=jB,this.verifyUrlV3=GB,this.storagePrefix=Is,this.version=Zy,this.init=async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ee.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async s=>{if(!Ff()||this.isDevEnv)return;const n=window.location.origin,{id:c,decryptedId:g}=s,m=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${c}&decryptedId=${g}`;try{const l=d8(),w=this.startAbortTimer(ee.ONE_SECOND*5),_=await new Promise((I,D)=>{const C=()=>{window.removeEventListener("message",F),l.body.removeChild(B),D("attestation aborted")};this.abortController.signal.addEventListener("abort",C);const B=l.createElement("iframe");B.src=m,B.style.display="none",B.addEventListener("error",C,{signal:this.abortController.signal});const F=Q=>{if(Q.data&&typeof Q.data=="string")try{const U=JSON.parse(Q.data);if(U.type==="verify_attestation"){if(T1(U.attestation).payload.id!==c)return;clearInterval(w),l.body.removeChild(B),this.abortController.signal.removeEventListener("abort",C),window.removeEventListener("message",F),I(U.attestation===null?"":U.attestation)}}catch(U){this.logger.warn(U)}};l.body.appendChild(B),window.addEventListener("message",F,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",_),_}catch(l){this.logger.warn(l)}return""},this.resolve=async s=>{if(this.isDevEnv)return"";const{attestationId:n,hash:c,encryptedId:g}=s;if(n===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(n){if(T1(n).payload.id!==g)return;const l=await this.isValidJwtAttestation(n);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!c)return;const m=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(c,m)},this.fetchAttestation=async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const c=this.startAbortTimer(ee.ONE_SECOND*5),g=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),g.status===200?await g.json():void 0},this.getVerifyUrl=s=>{let n=s||mf;return QB.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${mf}`),n=mf),n},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ee.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}},this.persistPublicKey=async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(g){this.logger.error(g),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(g){this.logger.error(g),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),n(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s},this.validateAttestation=(s,n)=>{const c=BP(s,n.publicKey),g={hasExpired:ee.toMiliseconds(c.exp)<Date.now(),payload:c};if(g.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:g.payload.origin,isScam:g.payload.isScam,isVerified:g.payload.isVerified}},this.logger=_i(r,this.name),this.abortController=new AbortController,this.isDevEnv=pp(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Li(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ee.toMiliseconds(t))}}class iq extends HD{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=JB,this.registerDeviceToken=async i=>{const{clientId:s,token:n,notificationType:c,enableEncrypted:g=!1}=i,m=`${VB}/${this.projectId}/clients`;await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:n,always_raw:g})})},this.logger=_i(r,this.context)}}var nq=Object.defineProperty,Jm=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,oq=Object.prototype.propertyIsEnumerable,Vm=(e,t,r)=>t in e?nq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rf=(e,t)=>{for(var r in t||(t={}))sq.call(t,r)&&Vm(e,r,t[r]);if(Jm)for(var r of Jm(t))oq.call(t,r)&&Vm(e,r,t[r]);return e};let aq=class extends jD{constructor(t,r,i=!0){super(t,r,i),this.core=t,this.logger=r,this.context=WB,this.storagePrefix=Is,this.storageVersion=YB,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!pp())try{const s={eventId:T3(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Yb(this.core.relayer.protocol,this.core.relayer.version,Q1)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}},this.createEvent=s=>{const{event:n="ERROR",type:c="",properties:{topic:g,trace:m}}=s,l=T3(),w=this.core.projectId||"",_=Date.now(),I=rf({eventId:l,timestamp:_,props:{event:n,type:c,properties:{topic:g,trace:m}},bundleId:w,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,I),this.shouldPersist=!0),I},this.getEvent=s=>{const{eventId:n,topic:c}=s;if(n)return this.events.get(n);const g=Array.from(this.events.values()).find(m=>m.props.properties.topic===c);if(g)return rf(rf({},g),this.setMethods(g.eventId))},this.deleteEvent=s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(fh.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ee.fromMiliseconds(Date.now())-ee.fromMiliseconds(s.timestamp)>XB&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})},this.setMethods=s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)}),this.addTrace=(s,n)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(n),this.events.set(s,c),this.shouldPersist=!0)},this.setError=(s,n)=>{const c=this.events.get(s);c&&(c.props.type=n,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,rf(rf({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}},this.sendEvent=async s=>{const n=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ZB}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Q1}${n}`,{method:"POST",body:JSON.stringify(s)})},this.getAppDomain=()=>Vb().url,this.logger=_i(r,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var hq=Object.defineProperty,Ym=Object.getOwnPropertySymbols,fq=Object.prototype.hasOwnProperty,uq=Object.prototype.propertyIsEnumerable,Wm=(e,t,r)=>t in e?hq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xm=(e,t)=>{for(var r in t||(t={}))fq.call(t,r)&&Wm(e,r,t[r]);if(Ym)for(var r of Ym(t))uq.call(t,r)&&Wm(e,r,t[r]);return e};let cq=class p8 extends BD{constructor(t){var r;super(t),this.protocol=Xy,this.version=Zy,this.name=Sp,this.events=new Wi.EventEmitter,this.initialized=!1,this.on=(c,g)=>this.events.on(c,g),this.once=(c,g)=>this.events.once(c,g),this.off=(c,g)=>this.events.off(c,g),this.removeListener=(c,g)=>this.events.removeListener(c,g),this.dispatchEnvelope=({topic:c,message:g,sessionExists:m})=>{if(!c||!g)return;const l={topic:c,message:g,publishedAt:Date.now(),transportType:sr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:m})},this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||e8,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=u0({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:yB.logger}),{logger:s,chunkLoggerController:n}=OD({opts:i,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=n,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,g;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((g=this.logChunkController)==null||g.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=_i(s,this.name),this.heartbeat=new UI,this.crypto=new SF(this,this.logger,t==null?void 0:t.keychain),this.history=new jF(this,this.logger),this.expirer=new KF(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new vD(Xm(Xm({},wB),t==null?void 0:t.storageOptions)),this.relayer=new LF({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new HF(this,this.logger),this.verify=new rq(this,this.logger,this.storage),this.echoClient=new iq(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new aq(this,this.logger,t==null?void 0:t.telemetryEnabled)}static async init(t){const r=new p8(t);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(BB,i),r}get context(){return Li(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Bm,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(Bm)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};const lq=cq,g8="wc",v8=2,m8="client",xp=`${g8}@${v8}:${m8}:`,n1={name:m8,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},Zm="WALLETCONNECT_DEEPLINK_CHOICE",dq="proposal",b8="Proposal expired",pq="session",Ua=ee.SEVEN_DAYS,gq="engine",Hr={wc_sessionPropose:{req:{ttl:ee.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ee.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ee.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ee.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ee.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ee.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ee.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ee.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ee.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ee.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ee.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ee.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ee.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ee.FIVE_MINUTES,prompt:!1,tag:1119}}},s1={min:ee.FIVE_MINUTES,max:ee.SEVEN_DAYS},es={idle:"IDLE",active:"ACTIVE"},vq="request",mq=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],bq="wc",yq="auth",wq="authKeys",Aq="pairingTopics",_q="requests",m0=`${bq}@${1.5}:${yq}:`,Pc=`${m0}:PUB_KEY`;var Eq=Object.defineProperty,Mq=Object.defineProperties,Sq=Object.getOwnPropertyDescriptors,t6=Object.getOwnPropertySymbols,xq=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,e6=(e,t,r)=>t in e?Eq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mr=(e,t)=>{for(var r in t||(t={}))xq.call(t,r)&&e6(e,r,t[r]);if(t6)for(var r of t6(t))Iq.call(t,r)&&e6(e,r,t[r]);return e},Pn=(e,t)=>Mq(e,Sq(t));let Dq=class extends GD{constructor(t){super(t),this.name=gq,this.events=new sp,this.initialized=!1,this.requestQueue={state:es.idle,queue:[]},this.sessionRequestQueue={state:es.idle,queue:[]},this.requestQueueDelay=ee.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Hr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ee.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Pn(mr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:s,requiredNamespaces:n,optionalNamespaces:c,sessionProperties:g,relays:m}=i;let l=s,w,_=!1;try{l&&(_=this.client.core.pairing.pairings.get(l).active)}catch(z){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),z}if(!l||!_){const{topic:z,uri:$}=await this.client.core.pairing.create();l=z,w=$}if(!l){const{message:z}=Zt("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(z)}const I=await this.client.core.crypto.generateKeyPair(),D=Hr.wc_sessionPropose.req.ttl||ee.FIVE_MINUTES,C=Ur(D),B=mr({requiredNamespaces:n,optionalNamespaces:c,relays:m??[{protocol:t8}],proposer:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:C,pairingTopic:l},g&&{sessionProperties:g}),{reject:F,resolve:Q,done:U}=ta(D,b8);this.events.once(Re("session_connect"),async({error:z,session:$})=>{if(z)F(z);else if($){$.self.publicKey=I;const q=Pn(mr({},$),{pairingTopic:B.pairingTopic,requiredNamespaces:B.requiredNamespaces,optionalNamespaces:B.optionalNamespaces,transportType:sr.relay});await this.client.session.set($.topic,q),await this.setExpiry($.topic,$.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:$.peer.metadata}),this.cleanupDuplicatePairings(q),Q(q)}});const J=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:B,throwOnFailedPublish:!0});return await this.setProposal(J,mr({id:J},B)),{uri:w,approval:U}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async r=>{var i,s,n;const c=this.client.core.eventClient.createEvent({properties:{topic:(i=r==null?void 0:r.id)==null?void 0:i.toString(),trace:[Rn.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(H){throw c.setError(Xo.no_internet_connection),H}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(H){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),c.setError(Xo.proposal_not_found),H}try{await this.isValidApprove(r)}catch(H){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(Xo.session_approve_namespace_validation_failure),H}const{id:g,relayProtocol:m,namespaces:l,sessionProperties:w,sessionConfig:_}=r,I=this.client.proposal.get(g);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:D,proposer:C,requiredNamespaces:B,optionalNamespaces:F}=I;let Q=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:D});Q||(Q=(n=this.client.core.eventClient)==null?void 0:n.createEvent({type:Rn.session_approve_started,properties:{topic:D,trace:[Rn.session_approve_started,Rn.session_namespaces_validation_success]}}));const U=await this.client.core.crypto.generateKeyPair(),J=C.publicKey,z=await this.client.core.crypto.generateSharedKey(U,J),$=mr(mr({relay:{protocol:m??"irn"},namespaces:l,controller:{publicKey:U,metadata:this.client.metadata},expiry:Ur(Ua)},w&&{sessionProperties:w}),_&&{sessionConfig:_}),q=sr.relay;Q.addTrace(Rn.subscribing_session_topic);try{await this.client.core.relayer.subscribe(z,{transportType:q})}catch(H){throw Q.setError(Xo.subscribe_session_topic_failure),H}Q.addTrace(Rn.subscribe_session_topic_success);const R=Pn(mr({},$),{topic:z,requiredNamespaces:B,optionalNamespaces:F,pairingTopic:D,acknowledged:!1,self:$.controller,peer:{publicKey:C.publicKey,metadata:C.metadata},controller:U,transportType:sr.relay});await this.client.session.set(z,R),Q.addTrace(Rn.store_session);try{Q.addTrace(Rn.publishing_session_settle),await this.sendRequest({topic:z,method:"wc_sessionSettle",params:$,throwOnFailedPublish:!0}).catch(H=>{throw Q==null||Q.setError(Xo.session_settle_publish_failure),H}),Q.addTrace(Rn.session_settle_publish_success),Q.addTrace(Rn.publishing_session_approve),await this.sendResult({id:g,topic:D,result:{relay:{protocol:m??"irn"},responderPublicKey:U},throwOnFailedPublish:!0}).catch(H=>{throw Q==null||Q.setError(Xo.session_approve_publish_failure),H}),Q.addTrace(Rn.session_approve_publish_success)}catch(H){throw this.client.logger.error(H),this.client.session.delete(z,or("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(z),H}return this.client.core.eventClient.deleteEvent({eventId:Q.eventId}),await this.client.core.pairing.updateMetadata({topic:D,metadata:C.metadata}),await this.client.proposal.delete(g,or("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:D}),await this.setExpiry(z,Ur(Ua)),{topic:z,acknowledged:()=>Promise.resolve(this.client.session.get(z))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:i,reason:s}=r;let n;try{n=this.client.proposal.get(i).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),c}n&&(await this.sendError({id:i,topic:n,error:s,rpcOpts:Hr.wc_sessionPropose.reject}),await this.client.proposal.delete(i,or("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(_){throw this.client.logger.error("update() -> isValidUpdate() failed"),_}const{topic:i,namespaces:s}=r,{done:n,resolve:c,reject:g}=ta(),m=Mo(),l=ia().toString(),w=this.client.session.get(i).namespaces;return this.events.once(Re("session_update",m),({error:_})=>{_?g(_):c()}),await this.client.session.update(i,{namespaces:s}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:m,relayRpcId:l}).catch(_=>{this.client.logger.error(_),this.client.session.update(i,{namespaces:w}),g(_)}),{acknowledged:n}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(m){throw this.client.logger.error("extend() -> isValidExtend() failed"),m}const{topic:i}=r,s=Mo(),{done:n,resolve:c,reject:g}=ta();return this.events.once(Re("session_extend",s),({error:m})=>{m?g(m):c()}),await this.setExpiry(i,Ur(Ua)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(m=>{g(m)}),{acknowledged:n}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(C){throw this.client.logger.error("request() -> isValidRequest() failed"),C}const{chainId:i,request:s,topic:n,expiry:c=Hr.wc_sessionRequest.req.ttl}=r,g=this.client.session.get(n);(g==null?void 0:g.transportType)===sr.relay&&await this.confirmOnlineStateOrThrow();const m=Mo(),l=ia().toString(),{done:w,resolve:_,reject:I}=ta(c,"Request expired. Please try again.");this.events.once(Re("session_request",m),({error:C,result:B})=>{C?I(C):_(B)});const D=this.getAppLinkIfEnabled(g.peer.metadata,g.transportType);return D?(await this.sendRequest({clientRpcId:m,relayRpcId:l,topic:n,method:"wc_sessionRequest",params:{request:Pn(mr({},s),{expiryTimestamp:Ur(c)}),chainId:i},expiry:c,throwOnFailedPublish:!0,appLink:D}).catch(C=>I(C)),this.client.events.emit("session_request_sent",{topic:n,request:s,chainId:i,id:m}),await w()):await Promise.all([new Promise(async C=>{await this.sendRequest({clientRpcId:m,relayRpcId:l,topic:n,method:"wc_sessionRequest",params:{request:Pn(mr({},s),{expiryTimestamp:Ur(c)}),chainId:i},expiry:c,throwOnFailedPublish:!0}).catch(B=>I(B)),this.client.events.emit("session_request_sent",{topic:n,request:s,chainId:i,id:m}),C()}),new Promise(async C=>{var B;if(!((B=g.sessionConfig)!=null&&B.disableDeepLink)){const F=await EN(this.client.core.storage,Zm);await AN({id:m,topic:n,wcDeepLink:F})}C()}),w()]).then(C=>C[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:s}=r,{id:n}=s,c=this.client.session.get(i);c.transportType===sr.relay&&await this.confirmOnlineStateOrThrow();const g=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);as(s)?await this.sendResult({id:n,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:g}):bn(s)&&await this.sendError({id:n,topic:i,error:s.error,appLink:g}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:i}=r;if(this.client.session.keys.includes(i)){const s=Mo(),n=ia().toString(),{done:c,resolve:g,reject:m}=ta();this.events.once(Re("session_ping",s),({error:l})=>{l?m(l):g()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:n}),c()])}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:i,event:s,chainId:n}=r,c=ia().toString();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:s,chainId:n},throwOnFailedPublish:!0,relayRpcId:c})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:or("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:s}=Zt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(s)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>WP(i,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,i)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const n=i&&this.client.core.linkModeSupportedApps.includes(i)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=n?sr.link_mode:sr.relay;c===sr.relay&&await this.confirmOnlineStateOrThrow();const{chains:g,statement:m="",uri:l,domain:w,nonce:_,type:I,exp:D,nbf:C,methods:B=[],expiry:F}=r,Q=[...r.resources||[]],{topic:U,uri:J}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:U,uri:J}});const z=await this.client.core.crypto.generateKeyPair(),$=Rc(z);if(await Promise.all([this.client.auth.authKeys.set(Pc,{responseTopic:$,publicKey:z}),this.client.auth.pairingTopics.set($,{topic:$,pairingTopic:U})]),await this.client.core.relayer.subscribe($,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${U}`),B.length>0){const{namespace:A}=qd(g[0]);let E=bP(A,"request",B);Cc(Q)&&(E=wP(E,Q.pop())),Q.push(E)}const q=F&&F>Hr.wc_sessionAuthenticate.req.ttl?F:Hr.wc_sessionAuthenticate.req.ttl,R={authPayload:{type:I??"caip122",chains:g,statement:m,aud:l,domain:w,version:"1",nonce:_,iat:new Date().toISOString(),exp:D,nbf:C,resources:Q},requester:{publicKey:z,metadata:this.client.metadata},expiryTimestamp:Ur(q)},H={eip155:{chains:g,methods:[...new Set(["personal_sign",...B])],events:["chainChanged","accountsChanged"]}},rt={requiredNamespaces:{},optionalNamespaces:H,relays:[{protocol:"irn"}],pairingTopic:U,proposer:{publicKey:z,metadata:this.client.metadata},expiryTimestamp:Ur(Hr.wc_sessionPropose.req.ttl)},{done:ot,resolve:G,reject:x}=ta(q,"Request expired"),o=async({error:A,session:E})=>{if(this.events.off(Re("session_request",u),h),A)x(A);else if(E){E.self.publicKey=z,await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),U&&await this.client.core.pairing.updateMetadata({topic:U,metadata:E.peer.metadata});const p=this.client.session.get(E.topic);await this.deleteProposal(v),G({session:p})}},h=async A=>{var E,p,f;if(await this.deletePendingAuthRequest(u,{message:"fulfilled",code:0}),A.error){const T=or("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return A.error.code===T.code?void 0:(this.events.off(Re("session_connect"),o),x(A.error.message))}await this.deleteProposal(v),this.events.off(Re("session_connect"),o);const{cacaos:M,responder:V}=A.result,W=[],b=[];for(const T of M){await am({cacao:T,projectId:this.client.core.projectId})||(this.client.logger.error(T,"Signature verification failed"),x(or("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:j}=T,N=Cc(j.resources),k=[om(j.iss)],Z=Yc(j.iss);if(N){const nt=hm(N),et=fm(N);W.push(...nt),k.push(...et)}for(const nt of k)b.push(`${nt}:${Z}`)}const L=await this.client.core.crypto.generateSharedKey(z,V.publicKey);let O;W.length>0&&(O={topic:L,acknowledged:!0,self:{publicKey:z,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:Ur(Ua),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:U,namespaces:bm([...new Set(W)],[...new Set(b)]),transportType:c},await this.client.core.relayer.subscribe(L,{transportType:c}),await this.client.session.set(L,O),U&&await this.client.core.pairing.updateMetadata({topic:U,metadata:V.metadata}),O=this.client.session.get(L)),(E=this.client.metadata.redirect)!=null&&E.linkMode&&(p=V.metadata.redirect)!=null&&p.linkMode&&(f=V.metadata.redirect)!=null&&f.universal&&i&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(L,{transportType:sr.link_mode})),G({auths:M,session:O})},u=Mo(),v=Mo();this.events.once(Re("session_connect"),o),this.events.once(Re("session_request",u),h);let y;try{if(n){const A=Po("wc_sessionAuthenticate",R,u);this.client.core.history.set(U,A);const E=await this.client.core.crypto.encode("",A,{type:kf,encoding:Wh});y=fc(i,U,E)}else await Promise.all([this.sendRequest({topic:U,method:"wc_sessionAuthenticate",params:R,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:u}),this.sendRequest({topic:U,method:"wc_sessionPropose",params:rt,expiry:Hr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v})])}catch(A){throw this.events.off(Re("session_connect"),o),this.events.off(Re("session_request",u),h),A}return await this.setProposal(v,mr({id:v},rt)),await this.setAuthRequest(u,{request:Pn(mr({},R),{verifyContext:{}}),pairingTopic:U,transportType:c}),{uri:y??J,response:ot}},this.approveSessionAuthenticate=async r=>{const{id:i,auths:s}=r,n=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Zo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(F){throw n.setError(tf.no_internet_connection),F}const c=this.getPendingAuthRequest(i);if(!c)throw n.setError(tf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const g=c.transportType||sr.relay;g===sr.relay&&await this.confirmOnlineStateOrThrow();const m=c.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),w=Rc(m),_={type:so,receiverPublicKey:m,senderPublicKey:l},I=[],D=[];for(const F of s){if(!await am({cacao:F,projectId:this.client.core.projectId})){n.setError(tf.invalid_cacao);const $=or("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:w,error:$,encodeOpts:_}),new Error($.message)}n.addTrace(Zo.cacaos_verified);const{p:Q}=F,U=Cc(Q.resources),J=[om(Q.iss)],z=Yc(Q.iss);if(U){const $=hm(U),q=fm(U);I.push(...$),J.push(...q)}for(const $ of J)D.push(`${$}:${z}`)}const C=await this.client.core.crypto.generateSharedKey(l,m);n.addTrace(Zo.create_authenticated_session_topic);let B;if((I==null?void 0:I.length)>0){B={topic:C,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:m,metadata:c.requester.metadata},controller:m,expiry:Ur(Ua),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:bm([...new Set(I)],[...new Set(D)]),transportType:g},n.addTrace(Zo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:g})}catch(F){throw n.setError(tf.subscribe_authenticated_session_topic_failure),F}n.addTrace(Zo.subscribe_authenticated_session_topic_success),await this.client.session.set(C,B),n.addTrace(Zo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}n.addTrace(Zo.publishing_authenticated_session_approve);try{await this.sendResult({topic:w,id:i,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:_,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,g)})}catch(F){throw n.setError(tf.authenticated_session_approve_publish_failure),F}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:B}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:i,reason:s}=r,n=this.getPendingAuthRequest(i);if(!n)throw new Error(`Could not find pending auth request with id ${i}`);n.transportType===sr.relay&&await this.confirmOnlineStateOrThrow();const c=n.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),m=Rc(c),l={type:so,receiverPublicKey:c,senderPublicKey:g};await this.sendError({id:i,topic:m,error:s,encodeOpts:l,rpcOpts:Hr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,or("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:i,iss:s}=r;return qy(i,s)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(n=>{var c,g;return((c=n.peerMetadata)==null?void 0:c.url)&&((g=n.peerMetadata)==null?void 0:g.url)===r.peer.metadata.url&&n.topic&&n.topic!==i.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(n=>this.client.core.pairing.disconnect({topic:n.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async r=>{var i;const{topic:s,expirerHasDeleted:n=!1,emitEvent:c=!0,id:g=0}=r,{self:m}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,or("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(m.publicKey)&&await this.client.core.crypto.deleteKeyPair(m.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),n||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Zm).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,or("USER_DISCONNECTED"))}),s===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=es.idle),c&&this.client.events.emit("session_delete",{id:g,topic:s})},this.deleteProposal=async(r,i)=>{if(i)try{const s=this.client.proposal.get(r),n=this.client.core.eventClient.getEvent({topic:s.pairingTopic});n==null||n.setError(Xo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,or("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,i,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(n=>n.id!==r),s&&(this.sessionRequestQueue.state=es.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,i,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,i),s?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,i)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,i),await this.client.session.update(r,{expiry:i}))},this.setProposal=async(r,i)=>{this.client.core.expirer.set(r,Ur(Hr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,i)},this.setAuthRequest=async(r,i)=>{const{request:s,pairingTopic:n,transportType:c=sr.relay}=i;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:n,verifyContext:s.verifyContext,transportType:c})},this.setPendingSessionRequest=async r=>{const{id:i,topic:s,params:n,verifyContext:c}=r,g=n.request.expiryTimestamp||Ur(Hr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,g),await this.client.pendingRequest.set(i,{id:i,topic:s,params:n,verifyContext:c})},this.sendRequest=async r=>{const{topic:i,method:s,params:n,expiry:c,relayRpcId:g,clientRpcId:m,throwOnFailedPublish:l,appLink:w}=r,_=Po(s,n,m);let I;const D=!!w;try{const F=D?Wh:Ro;I=await this.client.core.crypto.encode(i,_,{encoding:F})}catch(F){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),F}let C;if(mq.includes(s)){const F=Xs(JSON.stringify(_)),Q=Xs(I);C=await this.client.core.verify.register({id:Q,decryptedId:F})}const B=Hr[s].req;if(B.attestation=C,c&&(B.ttl=c),g&&(B.id=g),this.client.core.history.set(i,_),D){const F=fc(w,i,I);await global.Linking.openURL(F,this.client.name)}else{const F=Hr[s].req;c&&(F.ttl=c),g&&(F.id=g),l?(F.internal=Pn(mr({},F.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,I,F)):this.client.core.relayer.publish(i,I,F).catch(Q=>this.client.logger.error(Q))}return _.id},this.sendResult=async r=>{const{id:i,topic:s,result:n,throwOnFailedPublish:c,encodeOpts:g,appLink:m}=r,l=d0(i,n);let w;const _=m&&typeof(global==null?void 0:global.Linking)<"u";try{const D=_?Wh:Ro;w=await this.client.core.crypto.encode(s,l,Pn(mr({},g||{}),{encoding:D}))}catch(D){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),D}let I;try{I=await this.client.core.history.get(s,i)}catch(D){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${i}) failed`),D}if(_){const D=fc(m,s,w);await global.Linking.openURL(D,this.client.name)}else{const D=Hr[I.request.method].res;c?(D.internal=Pn(mr({},D.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,w,D)):this.client.core.relayer.publish(s,w,D).catch(C=>this.client.logger.error(C))}await this.client.core.history.resolve(l)},this.sendError=async r=>{const{id:i,topic:s,error:n,encodeOpts:c,rpcOpts:g,appLink:m}=r,l=p0(i,n);let w;const _=m&&typeof(global==null?void 0:global.Linking)<"u";try{const D=_?Wh:Ro;w=await this.client.core.crypto.encode(s,l,Pn(mr({},c||{}),{encoding:D}))}catch(D){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),D}let I;try{I=await this.client.core.history.get(s,i)}catch(D){throw this.client.logger.error(`sendError() -> history.get(${s}, ${i}) failed`),D}if(_){const D=fc(m,s,w);await global.Linking.openURL(D,this.client.name)}else{const D=g||Hr[I.request.method].res;this.client.core.relayer.publish(s,w,D)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const r=[],i=[];this.client.session.getAll().forEach(s=>{let n=!1;_o(s.expiry)&&(n=!0),this.client.core.crypto.keychain.has(s.topic)||(n=!0),n&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{_o(s.expiryTimestamp)&&i.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...i.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===es.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=es.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=es.idle},this.processRequest=async r=>{const{topic:i,payload:s,attestation:n,transportType:c,encryptedId:g}=r,m=s.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:m}))switch(m){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:s,attestation:n,encryptedId:g});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,s);case"wc_sessionPing":return await this.onSessionPingRequest(i,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:s,attestation:n,encryptedId:g,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(i,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:s,attestation:n,encryptedId:g,transportType:c});default:return this.client.logger.info(`Unsupported request method ${m}`)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:s,transportType:n}=r,c=(await this.client.core.history.get(i,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(i,s,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,s);case"wc_sessionExtend":return this.onSessionExtendResponse(i,s);case"wc_sessionPing":return this.onSessionPingResponse(i,s);case"wc_sessionRequest":return this.onSessionRequestResponse(i,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:i}=r,{message:s}=Zt("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)},this.shouldIgnorePairingRequest=r=>{const{topic:i,requestMethod:s}=r,n=this.expectedPairingMethodMap.get(i);return!n||n.includes(s)?!1:!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:i,payload:s,attestation:n,encryptedId:c}=r,{params:g,id:m}=s;try{const l=this.client.core.eventClient.getEvent({topic:i});this.isValidConnect(mr({},s.params));const w=g.expiryTimestamp||Ur(Hr.wc_sessionPropose.req.ttl),_=mr({id:m,pairingTopic:i,expiryTimestamp:w},g);await this.setProposal(m,_);const I=await this.getVerifyContext({attestationId:n,hash:Xs(JSON.stringify(s)),encryptedId:c,metadata:_.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Js.proposal_listener_not_found)),l==null||l.addTrace(rs.emit_session_proposal),this.client.events.emit("session_proposal",{id:m,params:_,verifyContext:I})}catch(l){await this.sendError({id:m,topic:i,error:l,rpcOpts:Hr.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(r,i,s)=>{const{id:n}=i;if(as(i)){const{result:c}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const g=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:g});const m=g.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:m});const l=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const w=await this.client.core.crypto.generateSharedKey(m,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:w});const _=await this.client.core.relayer.subscribe(w,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:_}),await this.client.core.pairing.activate({topic:r})}else if(bn(i)){await this.client.proposal.delete(n,or("USER_DISCONNECTED"));const c=Re("session_connect");if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(Re("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(r,i)=>{const{id:s,params:n}=i;try{this.isValidSessionSettleRequest(n);const{relay:c,controller:g,expiry:m,namespaces:l,sessionProperties:w,sessionConfig:_}=i.params,I=Pn(mr(mr({topic:r,relay:c,expiry:m,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:g.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:g.publicKey,metadata:g.metadata}},w&&{sessionProperties:w}),_&&{sessionConfig:_}),{transportType:sr.relay}),D=Re("session_connect");if(this.events.listenerCount(D)===0)throw new Error(`emitting ${D} without any listeners 997`);this.events.emit(Re("session_connect"),{session:I}),await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:s,topic:r,error:c}),this.client.logger.error(c)}},this.onSessionSettleResponse=async(r,i)=>{const{id:s}=i;as(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Re("session_approve",s),{})):bn(i)&&(await this.client.session.delete(r,or("USER_DISCONNECTED")),this.events.emit(Re("session_approve",s),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{const{params:s,id:n}=i;try{const c=`${r}_session_update`,g=Xh.get(c);if(g&&this.isRequestOutOfSync(g,n)){this.client.logger.info(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:r,error:or("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(mr({topic:r},s));try{Xh.set(c,n),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0})}catch(m){throw Xh.delete(c),m}this.client.events.emit("session_update",{id:n,topic:r,params:s})}catch(c){await this.sendError({id:n,topic:r,error:c}),this.client.logger.error(c)}},this.isRequestOutOfSync=(r,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,i)=>{const{id:s}=i,n=Re("session_update",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);as(i)?this.events.emit(Re("session_update",s),{}):bn(i)&&this.events.emit(Re("session_update",s),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{const{id:s}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Ur(Ua)),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(n){await this.sendError({id:s,topic:r,error:n}),this.client.logger.error(n)}},this.onSessionExtendResponse=(r,i)=>{const{id:s}=i,n=Re("session_extend",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);as(i)?this.events.emit(Re("session_extend",s),{}):bn(i)&&this.events.emit(Re("session_extend",s),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(n){await this.sendError({id:s,topic:r,error:n}),this.client.logger.error(n)}},this.onSessionPingResponse=(r,i)=>{const{id:s}=i,n=Re("session_ping",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);setTimeout(()=>{as(i)?this.events.emit(Re("session_ping",s),{}):bn(i)&&this.events.emit(Re("session_ping",s),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),Promise.all([new Promise(n=>{this.client.core.relayer.once(pi.publish,async()=>{n(await this.deleteSession({topic:r,id:s}))})}),this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:or("USER_DISCONNECTED")})]).catch(n=>this.client.logger.error(n))}catch(n){this.client.logger.error(n)}},this.onSessionRequest=async r=>{var i,s,n;const{topic:c,payload:g,attestation:m,encryptedId:l,transportType:w}=r,{id:_,params:I}=g;try{await this.isValidRequest(mr({topic:c},I));const D=this.client.session.get(c),C=await this.getVerifyContext({attestationId:m,hash:Xs(JSON.stringify(Po("wc_sessionRequest",I,_))),encryptedId:l,metadata:D.peer.metadata,transportType:w}),B={id:_,topic:c,params:I,verifyContext:C};await this.setPendingSessionRequest(B),w===sr.link_mode&&(i=D.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((s=D.peer.metadata.redirect)==null?void 0:s.universal),(n=this.client.signConfig)!=null&&n.disableRequestQueue?this.emitSessionRequest(B):(this.addSessionRequestToSessionRequestQueue(B),this.processSessionRequestQueue())}catch(D){await this.sendError({id:_,topic:c,error:D}),this.client.logger.error(D)}},this.onSessionRequestResponse=(r,i)=>{const{id:s}=i,n=Re("session_request",s);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);as(i)?this.events.emit(Re("session_request",s),{result:i.result}):bn(i)&&this.events.emit(Re("session_request",s),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{const{id:s,params:n}=i;try{const c=`${r}_session_event_${n.event.name}`,g=Xh.get(c);if(g&&this.isRequestOutOfSync(g,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(mr({topic:r},n)),this.client.events.emit("session_event",{id:s,topic:r,params:n}),Xh.set(c,s)}catch(c){await this.sendError({id:s,topic:r,error:c}),this.client.logger.error(c)}},this.onSessionAuthenticateResponse=(r,i)=>{const{id:s}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),as(i)?this.events.emit(Re("session_request",s),{result:i.result}):bn(i)&&this.events.emit(Re("session_request",s),{error:i.error})},this.onSessionAuthenticateRequest=async r=>{var i;const{topic:s,payload:n,attestation:c,encryptedId:g,transportType:m}=r;try{const{requester:l,authPayload:w,expiryTimestamp:_}=n.params,I=await this.getVerifyContext({attestationId:c,hash:Xs(JSON.stringify(n)),encryptedId:g,metadata:l.metadata,transportType:m}),D={requester:l,pairingTopic:s,id:n.id,authPayload:w,verifyContext:I,expiryTimestamp:_};await this.setAuthRequest(n.id,{request:D,pairingTopic:s,transportType:m}),m===sr.link_mode&&(i=l.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:n.params,id:n.id,verifyContext:I})}catch(l){this.client.logger.error(l);const w=n.params.requester.publicKey,_=await this.client.core.crypto.generateKeyPair(),I=this.getAppLinkIfEnabled(n.params.requester.metadata,m),D={type:so,receiverPublicKey:w,senderPublicKey:_};await this.sendError({id:n.id,topic:s,error:l,encodeOpts:D,rpcOpts:Hr.wc_sessionAuthenticate.autoReject,appLink:I})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=es.idle,this.processSessionRequestQueue()},ee.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:i})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(n=>n.topic===r&&n.request.method==="wc_sessionRequest").forEach(n=>{const c=n.request.id,g=Re("session_request",c);if(this.events.listenerCount(g)===0)throw new Error(`emitting ${g} without any listeners`);this.events.emit(Re("session_request",n.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===es.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=es.active,this.emitSessionRequest(r)}catch(i){this.client.logger.error(i)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);i&&this.onSessionProposeRequest({topic:r.topic,payload:Po("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id)})},this.isValidConnect=async r=>{if(!Pi(r)){const{message:m}=Zt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(m)}const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:n,sessionProperties:c,relays:g}=r;if(mi(i)||await this.isValidPairingTopic(i),!fO(g)){const{message:m}=Zt("MISSING_OR_INVALID",`connect() relays: ${g}`);throw new Error(m)}!mi(s)&&Wc(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!mi(n)&&Wc(n)!==0&&this.validateNamespaces(n,"optionalNamespaces"),mi(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(r,i)=>{const s=hO(r,"connect()",i);if(s)throw new Error(s.message)},this.isValidApprove=async r=>{if(!Pi(r))throw new Error(Zt("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:s,relayProtocol:n,sessionProperties:c}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const g=this.client.proposal.get(i),m=Zd(s,"approve()");if(m)throw new Error(m.message);const l=Am(g.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!Er(n,!0)){const{message:w}=Zt("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(w)}mi(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async r=>{if(!Pi(r)){const{message:n}=Zt("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(n)}const{id:i,reason:s}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!cO(s)){const{message:n}=Zt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(n)}},this.isValidSessionSettleRequest=r=>{if(!Pi(r)){const{message:l}=Zt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:i,controller:s,namespaces:n,expiry:c}=r;if(!Ky(i)){const{message:l}=Zt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const g=rO(s,"onSessionSettleRequest()");if(g)throw new Error(g.message);const m=Zd(n,"onSessionSettleRequest()");if(m)throw new Error(m.message);if(_o(c)){const{message:l}=Zt("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!Pi(r)){const{message:m}=Zt("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(m)}const{topic:i,namespaces:s}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const n=this.client.session.get(i),c=Zd(s,"update()");if(c)throw new Error(c.message);const g=Am(n.requiredNamespaces,s,"update()");if(g)throw new Error(g.message)},this.isValidExtend=async r=>{if(!Pi(r)){const{message:s}=Zt("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!Pi(r)){const{message:m}=Zt("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(m)}const{topic:i,request:s,chainId:n,expiry:c}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:g}=this.client.session.get(i);if(!wm(g,n)){const{message:m}=Zt("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(m)}if(!lO(s)){const{message:m}=Zt("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(m)}if(!gO(g,n,s.method)){const{message:m}=Zt("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(m)}if(c&&!yO(c,s1)){const{message:m}=Zt("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${s1.min} and ${s1.max}`);throw new Error(m)}},this.isValidRespond=async r=>{var i;if(!Pi(r)){const{message:c}=Zt("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(c)}const{topic:s,response:n}=r;try{await this.isValidSessionTopic(s)}catch(c){throw(i=r==null?void 0:r.response)!=null&&i.id&&this.cleanupAfterResponse(r),c}if(!dO(n)){const{message:c}=Zt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(c)}},this.isValidPing=async r=>{if(!Pi(r)){const{message:s}=Zt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!Pi(r)){const{message:g}=Zt("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(g)}const{topic:i,event:s,chainId:n}=r;await this.isValidSessionTopic(i);const{namespaces:c}=this.client.session.get(i);if(!wm(c,n)){const{message:g}=Zt("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(g)}if(!pO(s)){const{message:g}=Zt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(g)}if(!vO(c,n,s.name)){const{message:g}=Zt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(g)}},this.isValidDisconnect=async r=>{if(!Pi(r)){const{message:s}=Zt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=r=>{const{chains:i,uri:s,domain:n,nonce:c}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!Er(s,!1))throw new Error("uri is required parameter");if(!Er(n,!1))throw new Error("domain is required parameter");if(!Er(c,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(m=>qd(m).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:g}=qd(i[0]);if(g!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:i,hash:s,encryptedId:n,metadata:c,transportType:g}=r,m={verified:{verifyUrl:c.verifyUrl||mf,validation:"UNKNOWN",origin:c.url||""}};try{if(g===sr.link_mode){const w=this.getAppLinkIfEnabled(c,g);return m.verified.validation=w&&new URL(w).origin===new URL(c.url).origin?"VALID":"INVALID",m}const l=await this.client.core.verify.resolve({attestationId:i,hash:s,encryptedId:n,verifyUrl:c.verifyUrl});l&&(m.verified.origin=l.origin,m.verified.isScam=l.isScam,m.verified.validation=l.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(m)}`),m},this.validateSessionProps=(r,i)=>{Object.values(r).forEach(s=>{if(!Er(s,!1)){const{message:n}=Zt("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(n)}})},this.getPendingAuthRequest=r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const n=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=n)break;this.recentlyDeletedMap.delete(c)}}},this.checkRecentlyDeleted=r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:s}=Zt("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(s)}},this.isLinkModeEnabled=(r,i)=>{var s,n,c,g,m,l,w,_,I;return!r||i!==sr.link_mode?!1:((n=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:n.linkMode)===!0&&((g=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:g.universal)!==void 0&&((l=(m=this.client.metadata)==null?void 0:m.redirect)==null?void 0:l.universal)!==""&&((w=r==null?void 0:r.redirect)==null?void 0:w.universal)!==void 0&&((_=r==null?void 0:r.redirect)==null?void 0:_.universal)!==""&&((I=r==null?void 0:r.redirect)==null?void 0:I.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,i)=>{var s;return this.isLinkModeEnabled(r,i)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const i=B3(r,"topic")||"",s=decodeURIComponent(B3(r,"wc_ev")||""),n=this.client.session.keys.includes(i);n&&this.client.session.update(i,{transportType:sr.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:s,sessionExists:n})},this.registerLinkModeListeners=async()=>{var r;if(pp()||uh()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await i.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}}isInitialized(){if(!this.initialized){const{message:t}=Zt("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(pi.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:r,message:i,attestation:s,transportType:n}=t,{publicKey:c}=this.client.auth.authKeys.keys.includes(Pc)?this.client.auth.authKeys.get(Pc):{responseTopic:void 0,publicKey:void 0},g=await this.client.core.crypto.decode(r,i,{receiverPublicKey:c,encoding:n===sr.link_mode?Wh:Ro});try{Mp(g)?(this.client.core.history.set(r,g),this.onRelayEventRequest({topic:r,payload:g,attestation:s,transportType:n,encryptedId:Xs(i)})):g0(g)?(await this.client.core.history.resolve(g),await this.onRelayEventResponse({topic:r,payload:g,transportType:n}),this.client.core.history.delete(r,g.id)):this.onRelayEventUnknownPayload({topic:r,payload:g,transportType:n})}catch(m){this.client.logger.error(m)}}registerExpirerEvents(){this.client.core.expirer.on(pn.expired,async t=>{const{topic:r,id:i}=ty(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,Zt("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,Zt("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(ea.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(ea.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Er(t,!1)){const{message:r}=Zt("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=Zt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(_o(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=Zt("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Er(t,!1)){const{message:r}=Zt("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=Zt("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(_o(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=Zt("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=Zt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Er(t,!1)){const{message:r}=Zt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=Zt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!uO(t)){const{message:r}=Zt("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=Zt("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(_o(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=Zt("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}};class Nq extends ga{constructor(t,r){super(t,r,dq,xp),this.core=t,this.logger=r}}class Cq extends ga{constructor(t,r){super(t,r,pq,xp),this.core=t,this.logger=r}}class Rq extends ga{constructor(t,r){super(t,r,vq,xp,i=>i.id),this.core=t,this.logger=r}}class Pq extends ga{constructor(t,r){super(t,r,wq,m0,()=>Pc),this.core=t,this.logger=r}}class Oq extends ga{constructor(t,r){super(t,r,Aq,m0),this.core=t,this.logger=r}}let Bq=class extends ga{constructor(t,r){super(t,r,_q,m0,i=>i.id),this.core=t,this.logger=r}};class Tq{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new Pq(this.core,this.logger),this.pairingTopics=new Oq(this.core,this.logger),this.requests=new Bq(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class Ip extends KD{constructor(t){super(t),this.protocol=g8,this.version=v8,this.name=n1.name,this.events=new Wi.EventEmitter,this.on=(i,s)=>this.events.on(i,s),this.once=(i,s)=>this.events.once(i,s),this.off=(i,s)=>this.events.off(i,s),this.removeListener=(i,s)=>this.events.removeListener(i,s),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(s){throw this.logger.error(s.message),s}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(s){throw this.logger.error(s.message),s}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(s){throw this.logger.error(s.message),s}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(s){throw this.logger.error(s.message),s}},this.update=async i=>{try{return await this.engine.update(i)}catch(s){throw this.logger.error(s.message),s}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(s){throw this.logger.error(s.message),s}},this.request=async i=>{try{return await this.engine.request(i)}catch(s){throw this.logger.error(s.message),s}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(s){throw this.logger.error(s.message),s}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(s){throw this.logger.error(s.message),s}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(s){throw this.logger.error(s.message),s}},this.find=i=>{try{return this.engine.find(i)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async(i,s)=>{try{return await this.engine.authenticate(i,s)}catch(n){throw this.logger.error(n.message),n}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(s){throw this.logger.error(s.message),s}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(s){throw this.logger.error(s.message),s}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(s){throw this.logger.error(s.message),s}},this.name=(t==null?void 0:t.name)||n1.name,this.metadata=(t==null?void 0:t.metadata)||Vb(),this.signConfig=t==null?void 0:t.signConfig;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Bf(u0({level:(t==null?void 0:t.logger)||n1.logger}));this.core=(t==null?void 0:t.core)||new lq(t),this.logger=_i(r,this.name),this.session=new Cq(this.core,this.logger),this.proposal=new Nq(this.core,this.logger),this.pendingRequest=new Rq(this.core,this.logger),this.engine=new Dq(this),this.auth=new Tq(this.core,this.logger)}static async init(t){const r=new Ip(t);return await r.initialize(),r}get context(){return Li(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const Fq=":";function y8(e){const[t,r]=e.split(Fq);return{namespace:t,reference:r}}function o1(e=[],t=[]){return[...new Set([...e,...t])]}var w8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qq(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var Uq={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var n=!i&&typeof self=="object",c=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?s=w8:n&&(s=self);var g=!s.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,m=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],I=[1,256,65536,16777216],D=[6,1536,393216,100663296],C=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],F=[224,256,384,512],Q=[128,256],U=["hex","buffer","arrayBuffer","array","digest"],J={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"}),m&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(b){return typeof b=="object"&&b.buffer&&b.buffer.constructor===ArrayBuffer});for(var z=function(b,L,O){return function(T){return new M(b,L,b).update(T)[O]()}},$=function(b,L,O){return function(T,j){return new M(b,L,j).update(T)[O]()}},q=function(b,L,O){return function(T,j,N,k){return h["cshake"+b].update(T,j,N,k)[O]()}},R=function(b,L,O){return function(T,j,N,k){return h["kmac"+b].update(T,j,N,k)[O]()}},H=function(b,L,O,T){for(var j=0;j<U.length;++j){var N=U[j];b[N]=L(O,T,N)}return b},rt=function(b,L){var O=z(b,L,"hex");return O.create=function(){return new M(b,L,b)},O.update=function(T){return O.create().update(T)},H(O,z,b,L)},ot=function(b,L){var O=$(b,L,"hex");return O.create=function(T){return new M(b,L,T)},O.update=function(T,j){return O.create(j).update(T)},H(O,$,b,L)},G=function(b,L){var O=J[b],T=q(b,L,"hex");return T.create=function(j,N,k){return!N&&!k?h["shake"+b].create(j):new M(b,L,j).bytepad([N,k],O)},T.update=function(j,N,k,Z){return T.create(N,k,Z).update(j)},H(T,q,b,L)},x=function(b,L){var O=J[b],T=R(b,L,"hex");return T.create=function(j,N,k){return new V(b,L,N).bytepad(["KMAC",k],O).bytepad([j],O)},T.update=function(j,N,k,Z){return T.create(j,k,Z).update(N)},H(T,R,b,L)},o=[{name:"keccak",padding:I,bits:F,createMethod:rt},{name:"sha3",padding:D,bits:F,createMethod:rt},{name:"shake",padding:w,bits:Q,createMethod:ot},{name:"cshake",padding:_,bits:Q,createMethod:G},{name:"kmac",padding:_,bits:Q,createMethod:x}],h={},u=[],v=0;v<o.length;++v)for(var y=o[v],A=y.bits,E=0;E<A.length;++E){var p=y.name+"_"+A[E];if(u.push(p),h[p]=y.createMethod(A[E],y.padding),y.name!=="sha3"){var f=y.name+A[E];u.push(f),h[f]=h[p]}}function M(b,L,O){this.blocks=[],this.s=[],this.padding=L,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(b<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}M.prototype.update=function(b){if(this.finalized)throw new Error(r);var L,O=typeof b;if(O!=="string"){if(O==="object"){if(b===null)throw new Error(t);if(m&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!m||!ArrayBuffer.isView(b)))throw new Error(t)}else throw new Error(t);L=!0}for(var T=this.blocks,j=this.byteCount,N=b.length,k=this.blockCount,Z=0,nt=this.s,et,ct;Z<N;){if(this.reset)for(this.reset=!1,T[0]=this.block,et=1;et<k+1;++et)T[et]=0;if(L)for(et=this.start;Z<N&&et<j;++Z)T[et>>2]|=b[Z]<<C[et++&3];else for(et=this.start;Z<N&&et<j;++Z)ct=b.charCodeAt(Z),ct<128?T[et>>2]|=ct<<C[et++&3]:ct<2048?(T[et>>2]|=(192|ct>>6)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]):ct<55296||ct>=57344?(T[et>>2]|=(224|ct>>12)<<C[et++&3],T[et>>2]|=(128|ct>>6&63)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]):(ct=65536+((ct&1023)<<10|b.charCodeAt(++Z)&1023),T[et>>2]|=(240|ct>>18)<<C[et++&3],T[et>>2]|=(128|ct>>12&63)<<C[et++&3],T[et>>2]|=(128|ct>>6&63)<<C[et++&3],T[et>>2]|=(128|ct&63)<<C[et++&3]);if(this.lastByteIndex=et,et>=j){for(this.start=et-j,this.block=T[k],et=0;et<k;++et)nt[et]^=T[et];W(nt),this.reset=!0}else this.start=et}return this},M.prototype.encode=function(b,L){var O=b&255,T=1,j=[O];for(b=b>>8,O=b&255;O>0;)j.unshift(O),b=b>>8,O=b&255,++T;return L?j.push(T):j.unshift(T),this.update(j),j.length},M.prototype.encodeString=function(b){var L,O=typeof b;if(O!=="string"){if(O==="object"){if(b===null)throw new Error(t);if(m&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!m||!ArrayBuffer.isView(b)))throw new Error(t)}else throw new Error(t);L=!0}var T=0,j=b.length;if(L)T=j;else for(var N=0;N<b.length;++N){var k=b.charCodeAt(N);k<128?T+=1:k<2048?T+=2:k<55296||k>=57344?T+=3:(k=65536+((k&1023)<<10|b.charCodeAt(++N)&1023),T+=4)}return T+=this.encode(T*8),this.update(b),T},M.prototype.bytepad=function(b,L){for(var O=this.encode(L),T=0;T<b.length;++T)O+=this.encodeString(b[T]);var j=L-O%L,N=[];return N.length=j,this.update(N),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var b=this.blocks,L=this.lastByteIndex,O=this.blockCount,T=this.s;if(b[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(b[0]=b[O],L=1;L<O+1;++L)b[L]=0;for(b[O-1]|=2147483648,L=0;L<O;++L)T[L]^=b[L];W(T)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k="",Z;N<O;){for(j=0;j<b&&N<O;++j,++N)Z=L[j],k+=l[Z>>4&15]+l[Z&15]+l[Z>>12&15]+l[Z>>8&15]+l[Z>>20&15]+l[Z>>16&15]+l[Z>>28&15]+l[Z>>24&15];N%b===0&&(W(L),j=0)}return T&&(Z=L[j],k+=l[Z>>4&15]+l[Z&15],T>1&&(k+=l[Z>>12&15]+l[Z>>8&15]),T>2&&(k+=l[Z>>20&15]+l[Z>>16&15])),k},M.prototype.arrayBuffer=function(){this.finalize();var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k=this.outputBits>>3,Z;T?Z=new ArrayBuffer(O+1<<2):Z=new ArrayBuffer(k);for(var nt=new Uint32Array(Z);N<O;){for(j=0;j<b&&N<O;++j,++N)nt[N]=L[j];N%b===0&&W(L)}return T&&(nt[j]=L[j],Z=Z.slice(0,k)),Z},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var b=this.blockCount,L=this.s,O=this.outputBlocks,T=this.extraBytes,j=0,N=0,k=[],Z,nt;N<O;){for(j=0;j<b&&N<O;++j,++N)Z=N<<2,nt=L[j],k[Z]=nt&255,k[Z+1]=nt>>8&255,k[Z+2]=nt>>16&255,k[Z+3]=nt>>24&255;N%b===0&&W(L)}return T&&(Z=N<<2,nt=L[j],k[Z]=nt&255,T>1&&(k[Z+1]=nt>>8&255),T>2&&(k[Z+2]=nt>>16&255)),k};function V(b,L,O){M.call(this,b,L,O)}V.prototype=new M,V.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var W=function(b){var L,O,T,j,N,k,Z,nt,et,ct,pt,bt,ie,yt,_t,Gt,lt,wt,Yt,ut,At,Kt,dt,It,Jt,vt,Rt,te,mt,Pt,ce,Tt,Vt,le,Ft,Wt,pe,Mt,Lt,oe,St,kt,ne,Dt,jt,ae,Nt,zt,fe,xt,Ut,ue,Ct,Xt,be,Ht,Qt,ze,$e,He,je,Ke,xe;for(T=0;T<48;T+=2)j=b[0]^b[10]^b[20]^b[30]^b[40],N=b[1]^b[11]^b[21]^b[31]^b[41],k=b[2]^b[12]^b[22]^b[32]^b[42],Z=b[3]^b[13]^b[23]^b[33]^b[43],nt=b[4]^b[14]^b[24]^b[34]^b[44],et=b[5]^b[15]^b[25]^b[35]^b[45],ct=b[6]^b[16]^b[26]^b[36]^b[46],pt=b[7]^b[17]^b[27]^b[37]^b[47],bt=b[8]^b[18]^b[28]^b[38]^b[48],ie=b[9]^b[19]^b[29]^b[39]^b[49],L=bt^(k<<1|Z>>>31),O=ie^(Z<<1|k>>>31),b[0]^=L,b[1]^=O,b[10]^=L,b[11]^=O,b[20]^=L,b[21]^=O,b[30]^=L,b[31]^=O,b[40]^=L,b[41]^=O,L=j^(nt<<1|et>>>31),O=N^(et<<1|nt>>>31),b[2]^=L,b[3]^=O,b[12]^=L,b[13]^=O,b[22]^=L,b[23]^=O,b[32]^=L,b[33]^=O,b[42]^=L,b[43]^=O,L=k^(ct<<1|pt>>>31),O=Z^(pt<<1|ct>>>31),b[4]^=L,b[5]^=O,b[14]^=L,b[15]^=O,b[24]^=L,b[25]^=O,b[34]^=L,b[35]^=O,b[44]^=L,b[45]^=O,L=nt^(bt<<1|ie>>>31),O=et^(ie<<1|bt>>>31),b[6]^=L,b[7]^=O,b[16]^=L,b[17]^=O,b[26]^=L,b[27]^=O,b[36]^=L,b[37]^=O,b[46]^=L,b[47]^=O,L=ct^(j<<1|N>>>31),O=pt^(N<<1|j>>>31),b[8]^=L,b[9]^=O,b[18]^=L,b[19]^=O,b[28]^=L,b[29]^=O,b[38]^=L,b[39]^=O,b[48]^=L,b[49]^=O,yt=b[0],_t=b[1],ae=b[11]<<4|b[10]>>>28,Nt=b[10]<<4|b[11]>>>28,te=b[20]<<3|b[21]>>>29,mt=b[21]<<3|b[20]>>>29,He=b[31]<<9|b[30]>>>23,je=b[30]<<9|b[31]>>>23,kt=b[40]<<18|b[41]>>>14,ne=b[41]<<18|b[40]>>>14,le=b[2]<<1|b[3]>>>31,Ft=b[3]<<1|b[2]>>>31,Gt=b[13]<<12|b[12]>>>20,lt=b[12]<<12|b[13]>>>20,zt=b[22]<<10|b[23]>>>22,fe=b[23]<<10|b[22]>>>22,Pt=b[33]<<13|b[32]>>>19,ce=b[32]<<13|b[33]>>>19,Ke=b[42]<<2|b[43]>>>30,xe=b[43]<<2|b[42]>>>30,Xt=b[5]<<30|b[4]>>>2,be=b[4]<<30|b[5]>>>2,Wt=b[14]<<6|b[15]>>>26,pe=b[15]<<6|b[14]>>>26,wt=b[25]<<11|b[24]>>>21,Yt=b[24]<<11|b[25]>>>21,xt=b[34]<<15|b[35]>>>17,Ut=b[35]<<15|b[34]>>>17,Tt=b[45]<<29|b[44]>>>3,Vt=b[44]<<29|b[45]>>>3,It=b[6]<<28|b[7]>>>4,Jt=b[7]<<28|b[6]>>>4,Ht=b[17]<<23|b[16]>>>9,Qt=b[16]<<23|b[17]>>>9,Mt=b[26]<<25|b[27]>>>7,Lt=b[27]<<25|b[26]>>>7,ut=b[36]<<21|b[37]>>>11,At=b[37]<<21|b[36]>>>11,ue=b[47]<<24|b[46]>>>8,Ct=b[46]<<24|b[47]>>>8,Dt=b[8]<<27|b[9]>>>5,jt=b[9]<<27|b[8]>>>5,vt=b[18]<<20|b[19]>>>12,Rt=b[19]<<20|b[18]>>>12,ze=b[29]<<7|b[28]>>>25,$e=b[28]<<7|b[29]>>>25,oe=b[38]<<8|b[39]>>>24,St=b[39]<<8|b[38]>>>24,Kt=b[48]<<14|b[49]>>>18,dt=b[49]<<14|b[48]>>>18,b[0]=yt^~Gt&wt,b[1]=_t^~lt&Yt,b[10]=It^~vt&te,b[11]=Jt^~Rt&mt,b[20]=le^~Wt&Mt,b[21]=Ft^~pe&Lt,b[30]=Dt^~ae&zt,b[31]=jt^~Nt&fe,b[40]=Xt^~Ht&ze,b[41]=be^~Qt&$e,b[2]=Gt^~wt&ut,b[3]=lt^~Yt&At,b[12]=vt^~te&Pt,b[13]=Rt^~mt&ce,b[22]=Wt^~Mt&oe,b[23]=pe^~Lt&St,b[32]=ae^~zt&xt,b[33]=Nt^~fe&Ut,b[42]=Ht^~ze&He,b[43]=Qt^~$e&je,b[4]=wt^~ut&Kt,b[5]=Yt^~At&dt,b[14]=te^~Pt&Tt,b[15]=mt^~ce&Vt,b[24]=Mt^~oe&kt,b[25]=Lt^~St&ne,b[34]=zt^~xt&ue,b[35]=fe^~Ut&Ct,b[44]=ze^~He&Ke,b[45]=$e^~je&xe,b[6]=ut^~Kt&yt,b[7]=At^~dt&_t,b[16]=Pt^~Tt&It,b[17]=ce^~Vt&Jt,b[26]=oe^~kt&le,b[27]=St^~ne&Ft,b[36]=xt^~ue&Dt,b[37]=Ut^~Ct&jt,b[46]=He^~Ke&Xt,b[47]=je^~xe&be,b[8]=Kt^~yt&Gt,b[9]=dt^~_t&lt,b[18]=Tt^~It&vt,b[19]=Vt^~Jt&Rt,b[28]=kt^~le&Wt,b[29]=ne^~Ft&pe,b[38]=ue^~Dt&ae,b[39]=Ct^~jt&Nt,b[48]=Ke^~Xt&Ht,b[49]=xe^~be&Qt,b[0]^=B[T],b[1]^=B[T+1]};if(g)e.exports=h;else for(v=0;v<u.length;++v)s[u[v]]=h[u[v]]})()})(Uq);const Lq="logger/5.7.0";let r6=!1,i6=!1;const Oc={debug:1,default:2,info:2,warning:3,error:4,off:5};let n6=Oc.default,a1=null;function kq(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(e){return e.message}return null}const s6=kq();var Y1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(Y1||(Y1={}));var Un;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Un||(Un={}));const o6="0123456789abcdef";class Ge{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Oc[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(n6>Oc[i])&&console.log.apply(console,r)}debug(...t){this._log(Ge.levels.DEBUG,t)}info(...t){this._log(Ge.levels.INFO,t)}warn(...t){this._log(Ge.levels.WARNING,t)}makeError(t,r,i){if(i6)return this.makeError("censored error",r,{});r||(r=Ge.errors.UNKNOWN_ERROR),i||(i={});const s=[];Object.keys(i).forEach(m=>{const l=i[m];try{if(l instanceof Uint8Array){let w="";for(let _=0;_<l.length;_++)w+=o6[l[_]>>4],w+=o6[l[_]&15];s.push(m+"=Uint8Array(0x"+w+")")}else s.push(m+"="+JSON.stringify(l))}catch{s.push(m+"="+JSON.stringify(i[m].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const n=t;let c="";switch(r){case Un.NUMERIC_FAULT:{c="NUMERIC_FAULT";const m=t;switch(m){case"overflow":case"underflow":case"division-by-zero":c+="-"+m;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Un.CALL_EXCEPTION:case Un.INSUFFICIENT_FUNDS:case Un.MISSING_NEW:case Un.NONCE_EXPIRED:case Un.REPLACEMENT_UNDERPRICED:case Un.TRANSACTION_REPLACED:case Un.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),s.length&&(t+=" ("+s.join(", ")+")");const g=new Error(t);return g.reason=n,g.code=r,Object.keys(i).forEach(function(m){g[m]=i[m]}),g}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Ge.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,s){t||this.throwError(r,i,s)}assertArgument(t,r,i,s){t||this.throwArgumentError(r,i,s)}checkNormalize(t){s6&&this.throwError("platform missing String.prototype.normalize",Ge.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:s6})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Ge.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Ge.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Ge.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Ge.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Ge.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ge.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Ge.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return a1||(a1=new Ge(Lq)),a1}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ge.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),r6){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ge.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i6=!!t,r6=!!r}static setLogLevel(t){const r=Oc[t.toLowerCase()];if(r==null){Ge.globalLogger().warn("invalid log level - "+t);return}n6=r}static from(t){return new Ge(t)}}Ge.errors=Un,Ge.levels=Y1;const zq="bytes/5.7.0",Bo=new Ge(zq);function A8(e){return!!e.toHexString}function Bc(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Bc(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function a6(e){return typeof e=="number"&&e==e&&e%1===0}function Hf(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!a6(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!a6(r)||r<0||r>=256)return!1}return!0}function _8(e,t){if(t||(t={}),typeof e=="number"){Bo.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Bc(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),A8(e)&&(e=e.toHexString()),ih(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Bo.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let s=0;s<r.length;s+=2)i.push(parseInt(r.substring(s,s+2),16));return Bc(new Uint8Array(i))}return Hf(e)?Bc(new Uint8Array(e)):Bo.throwArgumentError("invalid arrayify value","value",e)}function ih(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const h1="0123456789abcdef";function E8(e,t){if(t||(t={}),typeof e=="number"){Bo.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=h1[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),A8(e))return e.toHexString();if(ih(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Bo.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Hf(e)){let r="0x";for(let i=0;i<e.length;i++){let s=e[i];r+=h1[(s&240)>>4]+h1[s&15]}return r}return Bo.throwArgumentError("invalid hexlify value","value",e)}function Zc(e,t){for(typeof e!="string"?e=E8(e):ih(e)||Bo.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Bo.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var M8={exports:{}},$q={},Hq=Object.freeze({__proto__:null,default:$q}),jq=qq(Hq);(function(e){(function(t,r){function i(o,h){if(!o)throw new Error(h||"Assertion failed")}function s(o,h){o.super_=h;var u=function(){};u.prototype=h.prototype,o.prototype=new u,o.prototype.constructor=o}function n(o,h,u){if(n.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(u=h,h=10),this._init(o||0,h||10,u||"be"))}typeof t=="object"?t.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=jq.Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,h){return o.cmp(h)>0?o:h},n.min=function(o,h){return o.cmp(h)<0?o:h},n.prototype._init=function(o,h,u){if(typeof o=="number")return this._initNumber(o,h,u);if(typeof o=="object")return this._initArray(o,h,u);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(h===16?this._parseHex(o,v,u):(this._parseBase(o,h,v),u==="le"&&this._initArray(this.toArray(),h,u)))},n.prototype._initNumber=function(o,h,u){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),h,u)},n.prototype._initArray=function(o,h,u){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,A,E=0;if(u==="be")for(v=o.length-1,y=0;v>=0;v-=3)A=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[y]|=A<<E&67108863,this.words[y+1]=A>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);else if(u==="le")for(v=0,y=0;v<o.length;v+=3)A=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[y]|=A<<E&67108863,this.words[y+1]=A>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);return this._strip()};function g(o,h){var u=o.charCodeAt(h);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;i(!1,"Invalid character in "+o)}function m(o,h,u){var v=g(o,u);return u-1>=h&&(v|=g(o,u-1)<<4),v}n.prototype._parseHex=function(o,h,u){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y=0,A=0,E;if(u==="be")for(v=o.length-1;v>=h;v-=2)E=m(o,h,v)<<y,this.words[A]|=E&67108863,y>=18?(y-=18,A+=1,this.words[A]|=E>>>26):y+=8;else{var p=o.length-h;for(v=p%2===0?h+1:h;v<o.length;v+=2)E=m(o,h,v)<<y,this.words[A]|=E&67108863,y>=18?(y-=18,A+=1,this.words[A]|=E>>>26):y+=8}this._strip()};function l(o,h,u,v){for(var y=0,A=0,E=Math.min(o.length,u),p=h;p<E;p++){var f=o.charCodeAt(p)-48;y*=v,f>=49?A=f-49+10:f>=17?A=f-17+10:A=f,i(f>=0&&A<v,"Invalid character"),y+=A}return y}n.prototype._parseBase=function(o,h,u){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=h)v++;v--,y=y/h|0;for(var A=o.length-u,E=A%v,p=Math.min(A,A-E)+u,f=0,M=u;M<p;M+=v)f=l(o,M,M+v,h),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var V=1;for(f=l(o,M,o.length,h),M=0;M<E;M++)V*=h;this.imuln(V),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function w(o,h){o.words=h.words,o.length=h.length,o.negative=h.negative,o.red=h.red}if(n.prototype._move=function(o){w(o,this)},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{n.prototype.inspect=_}else n.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,h){o=o||10,h=h|0||1;var u;if(o===16||o==="hex"){u="";for(var v=0,y=0,A=0;A<this.length;A++){var E=this.words[A],p=((E<<v|y)&16777215).toString(16);y=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,A--),y!==0||A!==this.length-1?u=I[6-p.length]+p+u:u=p+u}for(y!==0&&(u=y.toString(16)+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(o===(o|0)&&o>=2&&o<=36){var f=D[o],M=C[o];u="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modrn(M).toString(o);V=V.idivn(M),V.isZero()?u=W+u:u=I[f-W.length]+W+u}for(this.isZero()&&(u="0"+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16,2)},c&&(n.prototype.toBuffer=function(o,h){return this.toArrayLike(c,o,h)}),n.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var B=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};n.prototype.toArrayLike=function(o,h,u){this._strip();var v=this.byteLength(),y=u||Math.max(1,v);i(v<=y,"byte array longer than desired length"),i(y>0,"Requested array length <= 0");var A=B(o,y),E=h==="le"?"LE":"BE";return this["_toArrayLike"+E](A,v),A},n.prototype._toArrayLikeLE=function(o,h){for(var u=0,v=0,y=0,A=0;y<this.length;y++){var E=this.words[y]<<A|v;o[u++]=E&255,u<o.length&&(o[u++]=E>>8&255),u<o.length&&(o[u++]=E>>16&255),A===6?(u<o.length&&(o[u++]=E>>24&255),v=0,A=0):(v=E>>>24,A+=2)}if(u<o.length)for(o[u++]=v;u<o.length;)o[u++]=0},n.prototype._toArrayLikeBE=function(o,h){for(var u=o.length-1,v=0,y=0,A=0;y<this.length;y++){var E=this.words[y]<<A|v;o[u--]=E&255,u>=0&&(o[u--]=E>>8&255),u>=0&&(o[u--]=E>>16&255),A===6?(u>=0&&(o[u--]=E>>24&255),v=0,A=0):(v=E>>>24,A+=2)}if(u>=0)for(o[u--]=v;u>=0;)o[u--]=0},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var h=o,u=0;return h>=4096&&(u+=13,h>>>=13),h>=64&&(u+=7,h>>>=7),h>=8&&(u+=4,h>>>=4),h>=2&&(u+=2,h>>>=2),u+h},n.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,u=0;return h&8191||(u+=13,h>>>=13),h&127||(u+=7,h>>>=7),h&15||(u+=4,h>>>=4),h&3||(u+=2,h>>>=2),h&1||u++,u},n.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function F(o){for(var h=new Array(o.bitLength()),u=0;u<h.length;u++){var v=u/26|0,y=u%26;h[u]=o.words[v]>>>y&1}return h}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var u=this._zeroBits(this.words[h]);if(o+=u,u!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},n.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var u=0;u<h.length;u++)this.words[u]=this.words[u]&o.words[u];return this.length=h.length,this._strip()},n.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var h,u;this.length>o.length?(h=this,u=o):(h=o,u=this);for(var v=0;v<u.length;v++)this.words[v]=h.words[v]^u.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},n.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,u=o%26;this._expand(h),u>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return u>0&&(this.words[v]=~this.words[v]&67108863>>26-u),this._strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,h){i(typeof o=="number"&&o>=0);var u=o/26|0,v=o%26;return this._expand(u+1),h?this.words[u]=this.words[u]|1<<v:this.words[u]=this.words[u]&~(1<<v),this._strip()},n.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var u,v;this.length>o.length?(u=this,v=o):(u=o,v=this);for(var y=0,A=0;A<v.length;A++)h=(u.words[A]|0)+(v.words[A]|0)+y,this.words[A]=h&67108863,y=h>>>26;for(;y!==0&&A<u.length;A++)h=(u.words[A]|0)+y,this.words[A]=h&67108863,y=h>>>26;if(this.length=u.length,y!==0)this.words[this.length]=y,this.length++;else if(u!==this)for(;A<u.length;A++)this.words[A]=u.words[A];return this},n.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var u=this.cmp(o);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,y;u>0?(v=this,y=o):(v=o,y=this);for(var A=0,E=0;E<y.length;E++)h=(v.words[E]|0)-(y.words[E]|0)+A,A=h>>26,this.words[E]=h&67108863;for(;A!==0&&E<v.length;E++)h=(v.words[E]|0)+A,A=h>>26,this.words[E]=h&67108863;if(A===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function Q(o,h,u){u.negative=h.negative^o.negative;var v=o.length+h.length|0;u.length=v,v=v-1|0;var y=o.words[0]|0,A=h.words[0]|0,E=y*A,p=E&67108863,f=E/67108864|0;u.words[0]=p;for(var M=1;M<v;M++){for(var V=f>>>26,W=f&67108863,b=Math.min(M,h.length-1),L=Math.max(0,M-o.length+1);L<=b;L++){var O=M-L|0;y=o.words[O]|0,A=h.words[L]|0,E=y*A+W,V+=E/67108864|0,W=E&67108863}u.words[M]=W|0,f=V|0}return f!==0?u.words[M]=f|0:u.length--,u._strip()}var U=function(o,h,u){var v=o.words,y=h.words,A=u.words,E=0,p,f,M,V=v[0]|0,W=V&8191,b=V>>>13,L=v[1]|0,O=L&8191,T=L>>>13,j=v[2]|0,N=j&8191,k=j>>>13,Z=v[3]|0,nt=Z&8191,et=Z>>>13,ct=v[4]|0,pt=ct&8191,bt=ct>>>13,ie=v[5]|0,yt=ie&8191,_t=ie>>>13,Gt=v[6]|0,lt=Gt&8191,wt=Gt>>>13,Yt=v[7]|0,ut=Yt&8191,At=Yt>>>13,Kt=v[8]|0,dt=Kt&8191,It=Kt>>>13,Jt=v[9]|0,vt=Jt&8191,Rt=Jt>>>13,te=y[0]|0,mt=te&8191,Pt=te>>>13,ce=y[1]|0,Tt=ce&8191,Vt=ce>>>13,le=y[2]|0,Ft=le&8191,Wt=le>>>13,pe=y[3]|0,Mt=pe&8191,Lt=pe>>>13,oe=y[4]|0,St=oe&8191,kt=oe>>>13,ne=y[5]|0,Dt=ne&8191,jt=ne>>>13,ae=y[6]|0,Nt=ae&8191,zt=ae>>>13,fe=y[7]|0,xt=fe&8191,Ut=fe>>>13,ue=y[8]|0,Ct=ue&8191,Xt=ue>>>13,be=y[9]|0,Ht=be&8191,Qt=be>>>13;u.negative=o.negative^h.negative,u.length=19,p=Math.imul(W,mt),f=Math.imul(W,Pt),f=f+Math.imul(b,mt)|0,M=Math.imul(b,Pt);var ze=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,p=Math.imul(O,mt),f=Math.imul(O,Pt),f=f+Math.imul(T,mt)|0,M=Math.imul(T,Pt),p=p+Math.imul(W,Tt)|0,f=f+Math.imul(W,Vt)|0,f=f+Math.imul(b,Tt)|0,M=M+Math.imul(b,Vt)|0;var $e=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+($e>>>26)|0,$e&=67108863,p=Math.imul(N,mt),f=Math.imul(N,Pt),f=f+Math.imul(k,mt)|0,M=Math.imul(k,Pt),p=p+Math.imul(O,Tt)|0,f=f+Math.imul(O,Vt)|0,f=f+Math.imul(T,Tt)|0,M=M+Math.imul(T,Vt)|0,p=p+Math.imul(W,Ft)|0,f=f+Math.imul(W,Wt)|0,f=f+Math.imul(b,Ft)|0,M=M+Math.imul(b,Wt)|0;var He=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(nt,mt),f=Math.imul(nt,Pt),f=f+Math.imul(et,mt)|0,M=Math.imul(et,Pt),p=p+Math.imul(N,Tt)|0,f=f+Math.imul(N,Vt)|0,f=f+Math.imul(k,Tt)|0,M=M+Math.imul(k,Vt)|0,p=p+Math.imul(O,Ft)|0,f=f+Math.imul(O,Wt)|0,f=f+Math.imul(T,Ft)|0,M=M+Math.imul(T,Wt)|0,p=p+Math.imul(W,Mt)|0,f=f+Math.imul(W,Lt)|0,f=f+Math.imul(b,Mt)|0,M=M+Math.imul(b,Lt)|0;var je=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(je>>>26)|0,je&=67108863,p=Math.imul(pt,mt),f=Math.imul(pt,Pt),f=f+Math.imul(bt,mt)|0,M=Math.imul(bt,Pt),p=p+Math.imul(nt,Tt)|0,f=f+Math.imul(nt,Vt)|0,f=f+Math.imul(et,Tt)|0,M=M+Math.imul(et,Vt)|0,p=p+Math.imul(N,Ft)|0,f=f+Math.imul(N,Wt)|0,f=f+Math.imul(k,Ft)|0,M=M+Math.imul(k,Wt)|0,p=p+Math.imul(O,Mt)|0,f=f+Math.imul(O,Lt)|0,f=f+Math.imul(T,Mt)|0,M=M+Math.imul(T,Lt)|0,p=p+Math.imul(W,St)|0,f=f+Math.imul(W,kt)|0,f=f+Math.imul(b,St)|0,M=M+Math.imul(b,kt)|0;var Ke=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(yt,mt),f=Math.imul(yt,Pt),f=f+Math.imul(_t,mt)|0,M=Math.imul(_t,Pt),p=p+Math.imul(pt,Tt)|0,f=f+Math.imul(pt,Vt)|0,f=f+Math.imul(bt,Tt)|0,M=M+Math.imul(bt,Vt)|0,p=p+Math.imul(nt,Ft)|0,f=f+Math.imul(nt,Wt)|0,f=f+Math.imul(et,Ft)|0,M=M+Math.imul(et,Wt)|0,p=p+Math.imul(N,Mt)|0,f=f+Math.imul(N,Lt)|0,f=f+Math.imul(k,Mt)|0,M=M+Math.imul(k,Lt)|0,p=p+Math.imul(O,St)|0,f=f+Math.imul(O,kt)|0,f=f+Math.imul(T,St)|0,M=M+Math.imul(T,kt)|0,p=p+Math.imul(W,Dt)|0,f=f+Math.imul(W,jt)|0,f=f+Math.imul(b,Dt)|0,M=M+Math.imul(b,jt)|0;var xe=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(xe>>>26)|0,xe&=67108863,p=Math.imul(lt,mt),f=Math.imul(lt,Pt),f=f+Math.imul(wt,mt)|0,M=Math.imul(wt,Pt),p=p+Math.imul(yt,Tt)|0,f=f+Math.imul(yt,Vt)|0,f=f+Math.imul(_t,Tt)|0,M=M+Math.imul(_t,Vt)|0,p=p+Math.imul(pt,Ft)|0,f=f+Math.imul(pt,Wt)|0,f=f+Math.imul(bt,Ft)|0,M=M+Math.imul(bt,Wt)|0,p=p+Math.imul(nt,Mt)|0,f=f+Math.imul(nt,Lt)|0,f=f+Math.imul(et,Mt)|0,M=M+Math.imul(et,Lt)|0,p=p+Math.imul(N,St)|0,f=f+Math.imul(N,kt)|0,f=f+Math.imul(k,St)|0,M=M+Math.imul(k,kt)|0,p=p+Math.imul(O,Dt)|0,f=f+Math.imul(O,jt)|0,f=f+Math.imul(T,Dt)|0,M=M+Math.imul(T,jt)|0,p=p+Math.imul(W,Nt)|0,f=f+Math.imul(W,zt)|0,f=f+Math.imul(b,Nt)|0,M=M+Math.imul(b,zt)|0;var dr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(ut,mt),f=Math.imul(ut,Pt),f=f+Math.imul(At,mt)|0,M=Math.imul(At,Pt),p=p+Math.imul(lt,Tt)|0,f=f+Math.imul(lt,Vt)|0,f=f+Math.imul(wt,Tt)|0,M=M+Math.imul(wt,Vt)|0,p=p+Math.imul(yt,Ft)|0,f=f+Math.imul(yt,Wt)|0,f=f+Math.imul(_t,Ft)|0,M=M+Math.imul(_t,Wt)|0,p=p+Math.imul(pt,Mt)|0,f=f+Math.imul(pt,Lt)|0,f=f+Math.imul(bt,Mt)|0,M=M+Math.imul(bt,Lt)|0,p=p+Math.imul(nt,St)|0,f=f+Math.imul(nt,kt)|0,f=f+Math.imul(et,St)|0,M=M+Math.imul(et,kt)|0,p=p+Math.imul(N,Dt)|0,f=f+Math.imul(N,jt)|0,f=f+Math.imul(k,Dt)|0,M=M+Math.imul(k,jt)|0,p=p+Math.imul(O,Nt)|0,f=f+Math.imul(O,zt)|0,f=f+Math.imul(T,Nt)|0,M=M+Math.imul(T,zt)|0,p=p+Math.imul(W,xt)|0,f=f+Math.imul(W,Ut)|0,f=f+Math.imul(b,xt)|0,M=M+Math.imul(b,Ut)|0;var Dr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,p=Math.imul(dt,mt),f=Math.imul(dt,Pt),f=f+Math.imul(It,mt)|0,M=Math.imul(It,Pt),p=p+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Vt)|0,f=f+Math.imul(At,Tt)|0,M=M+Math.imul(At,Vt)|0,p=p+Math.imul(lt,Ft)|0,f=f+Math.imul(lt,Wt)|0,f=f+Math.imul(wt,Ft)|0,M=M+Math.imul(wt,Wt)|0,p=p+Math.imul(yt,Mt)|0,f=f+Math.imul(yt,Lt)|0,f=f+Math.imul(_t,Mt)|0,M=M+Math.imul(_t,Lt)|0,p=p+Math.imul(pt,St)|0,f=f+Math.imul(pt,kt)|0,f=f+Math.imul(bt,St)|0,M=M+Math.imul(bt,kt)|0,p=p+Math.imul(nt,Dt)|0,f=f+Math.imul(nt,jt)|0,f=f+Math.imul(et,Dt)|0,M=M+Math.imul(et,jt)|0,p=p+Math.imul(N,Nt)|0,f=f+Math.imul(N,zt)|0,f=f+Math.imul(k,Nt)|0,M=M+Math.imul(k,zt)|0,p=p+Math.imul(O,xt)|0,f=f+Math.imul(O,Ut)|0,f=f+Math.imul(T,xt)|0,M=M+Math.imul(T,Ut)|0,p=p+Math.imul(W,Ct)|0,f=f+Math.imul(W,Xt)|0,f=f+Math.imul(b,Ct)|0,M=M+Math.imul(b,Xt)|0;var pr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(vt,mt),f=Math.imul(vt,Pt),f=f+Math.imul(Rt,mt)|0,M=Math.imul(Rt,Pt),p=p+Math.imul(dt,Tt)|0,f=f+Math.imul(dt,Vt)|0,f=f+Math.imul(It,Tt)|0,M=M+Math.imul(It,Vt)|0,p=p+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Wt)|0,f=f+Math.imul(At,Ft)|0,M=M+Math.imul(At,Wt)|0,p=p+Math.imul(lt,Mt)|0,f=f+Math.imul(lt,Lt)|0,f=f+Math.imul(wt,Mt)|0,M=M+Math.imul(wt,Lt)|0,p=p+Math.imul(yt,St)|0,f=f+Math.imul(yt,kt)|0,f=f+Math.imul(_t,St)|0,M=M+Math.imul(_t,kt)|0,p=p+Math.imul(pt,Dt)|0,f=f+Math.imul(pt,jt)|0,f=f+Math.imul(bt,Dt)|0,M=M+Math.imul(bt,jt)|0,p=p+Math.imul(nt,Nt)|0,f=f+Math.imul(nt,zt)|0,f=f+Math.imul(et,Nt)|0,M=M+Math.imul(et,zt)|0,p=p+Math.imul(N,xt)|0,f=f+Math.imul(N,Ut)|0,f=f+Math.imul(k,xt)|0,M=M+Math.imul(k,Ut)|0,p=p+Math.imul(O,Ct)|0,f=f+Math.imul(O,Xt)|0,f=f+Math.imul(T,Ct)|0,M=M+Math.imul(T,Xt)|0,p=p+Math.imul(W,Ht)|0,f=f+Math.imul(W,Qt)|0,f=f+Math.imul(b,Ht)|0,M=M+Math.imul(b,Qt)|0;var Nr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,p=Math.imul(vt,Tt),f=Math.imul(vt,Vt),f=f+Math.imul(Rt,Tt)|0,M=Math.imul(Rt,Vt),p=p+Math.imul(dt,Ft)|0,f=f+Math.imul(dt,Wt)|0,f=f+Math.imul(It,Ft)|0,M=M+Math.imul(It,Wt)|0,p=p+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(At,Mt)|0,M=M+Math.imul(At,Lt)|0,p=p+Math.imul(lt,St)|0,f=f+Math.imul(lt,kt)|0,f=f+Math.imul(wt,St)|0,M=M+Math.imul(wt,kt)|0,p=p+Math.imul(yt,Dt)|0,f=f+Math.imul(yt,jt)|0,f=f+Math.imul(_t,Dt)|0,M=M+Math.imul(_t,jt)|0,p=p+Math.imul(pt,Nt)|0,f=f+Math.imul(pt,zt)|0,f=f+Math.imul(bt,Nt)|0,M=M+Math.imul(bt,zt)|0,p=p+Math.imul(nt,xt)|0,f=f+Math.imul(nt,Ut)|0,f=f+Math.imul(et,xt)|0,M=M+Math.imul(et,Ut)|0,p=p+Math.imul(N,Ct)|0,f=f+Math.imul(N,Xt)|0,f=f+Math.imul(k,Ct)|0,M=M+Math.imul(k,Xt)|0,p=p+Math.imul(O,Ht)|0,f=f+Math.imul(O,Qt)|0,f=f+Math.imul(T,Ht)|0,M=M+Math.imul(T,Qt)|0;var Cr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,p=Math.imul(vt,Ft),f=Math.imul(vt,Wt),f=f+Math.imul(Rt,Ft)|0,M=Math.imul(Rt,Wt),p=p+Math.imul(dt,Mt)|0,f=f+Math.imul(dt,Lt)|0,f=f+Math.imul(It,Mt)|0,M=M+Math.imul(It,Lt)|0,p=p+Math.imul(ut,St)|0,f=f+Math.imul(ut,kt)|0,f=f+Math.imul(At,St)|0,M=M+Math.imul(At,kt)|0,p=p+Math.imul(lt,Dt)|0,f=f+Math.imul(lt,jt)|0,f=f+Math.imul(wt,Dt)|0,M=M+Math.imul(wt,jt)|0,p=p+Math.imul(yt,Nt)|0,f=f+Math.imul(yt,zt)|0,f=f+Math.imul(_t,Nt)|0,M=M+Math.imul(_t,zt)|0,p=p+Math.imul(pt,xt)|0,f=f+Math.imul(pt,Ut)|0,f=f+Math.imul(bt,xt)|0,M=M+Math.imul(bt,Ut)|0,p=p+Math.imul(nt,Ct)|0,f=f+Math.imul(nt,Xt)|0,f=f+Math.imul(et,Ct)|0,M=M+Math.imul(et,Xt)|0,p=p+Math.imul(N,Ht)|0,f=f+Math.imul(N,Qt)|0,f=f+Math.imul(k,Ht)|0,M=M+Math.imul(k,Qt)|0;var gr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(vt,Mt),f=Math.imul(vt,Lt),f=f+Math.imul(Rt,Mt)|0,M=Math.imul(Rt,Lt),p=p+Math.imul(dt,St)|0,f=f+Math.imul(dt,kt)|0,f=f+Math.imul(It,St)|0,M=M+Math.imul(It,kt)|0,p=p+Math.imul(ut,Dt)|0,f=f+Math.imul(ut,jt)|0,f=f+Math.imul(At,Dt)|0,M=M+Math.imul(At,jt)|0,p=p+Math.imul(lt,Nt)|0,f=f+Math.imul(lt,zt)|0,f=f+Math.imul(wt,Nt)|0,M=M+Math.imul(wt,zt)|0,p=p+Math.imul(yt,xt)|0,f=f+Math.imul(yt,Ut)|0,f=f+Math.imul(_t,xt)|0,M=M+Math.imul(_t,Ut)|0,p=p+Math.imul(pt,Ct)|0,f=f+Math.imul(pt,Xt)|0,f=f+Math.imul(bt,Ct)|0,M=M+Math.imul(bt,Xt)|0,p=p+Math.imul(nt,Ht)|0,f=f+Math.imul(nt,Qt)|0,f=f+Math.imul(et,Ht)|0,M=M+Math.imul(et,Qt)|0;var Mr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,p=Math.imul(vt,St),f=Math.imul(vt,kt),f=f+Math.imul(Rt,St)|0,M=Math.imul(Rt,kt),p=p+Math.imul(dt,Dt)|0,f=f+Math.imul(dt,jt)|0,f=f+Math.imul(It,Dt)|0,M=M+Math.imul(It,jt)|0,p=p+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,zt)|0,f=f+Math.imul(At,Nt)|0,M=M+Math.imul(At,zt)|0,p=p+Math.imul(lt,xt)|0,f=f+Math.imul(lt,Ut)|0,f=f+Math.imul(wt,xt)|0,M=M+Math.imul(wt,Ut)|0,p=p+Math.imul(yt,Ct)|0,f=f+Math.imul(yt,Xt)|0,f=f+Math.imul(_t,Ct)|0,M=M+Math.imul(_t,Xt)|0,p=p+Math.imul(pt,Ht)|0,f=f+Math.imul(pt,Qt)|0,f=f+Math.imul(bt,Ht)|0,M=M+Math.imul(bt,Qt)|0;var Sr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,p=Math.imul(vt,Dt),f=Math.imul(vt,jt),f=f+Math.imul(Rt,Dt)|0,M=Math.imul(Rt,jt),p=p+Math.imul(dt,Nt)|0,f=f+Math.imul(dt,zt)|0,f=f+Math.imul(It,Nt)|0,M=M+Math.imul(It,zt)|0,p=p+Math.imul(ut,xt)|0,f=f+Math.imul(ut,Ut)|0,f=f+Math.imul(At,xt)|0,M=M+Math.imul(At,Ut)|0,p=p+Math.imul(lt,Ct)|0,f=f+Math.imul(lt,Xt)|0,f=f+Math.imul(wt,Ct)|0,M=M+Math.imul(wt,Xt)|0,p=p+Math.imul(yt,Ht)|0,f=f+Math.imul(yt,Qt)|0,f=f+Math.imul(_t,Ht)|0,M=M+Math.imul(_t,Qt)|0;var Ze=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,p=Math.imul(vt,Nt),f=Math.imul(vt,zt),f=f+Math.imul(Rt,Nt)|0,M=Math.imul(Rt,zt),p=p+Math.imul(dt,xt)|0,f=f+Math.imul(dt,Ut)|0,f=f+Math.imul(It,xt)|0,M=M+Math.imul(It,Ut)|0,p=p+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,Xt)|0,f=f+Math.imul(At,Ct)|0,M=M+Math.imul(At,Xt)|0,p=p+Math.imul(lt,Ht)|0,f=f+Math.imul(lt,Qt)|0,f=f+Math.imul(wt,Ht)|0,M=M+Math.imul(wt,Qt)|0;var Rr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,p=Math.imul(vt,xt),f=Math.imul(vt,Ut),f=f+Math.imul(Rt,xt)|0,M=Math.imul(Rt,Ut),p=p+Math.imul(dt,Ct)|0,f=f+Math.imul(dt,Xt)|0,f=f+Math.imul(It,Ct)|0,M=M+Math.imul(It,Xt)|0,p=p+Math.imul(ut,Ht)|0,f=f+Math.imul(ut,Qt)|0,f=f+Math.imul(At,Ht)|0,M=M+Math.imul(At,Qt)|0;var Pr=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,p=Math.imul(vt,Ct),f=Math.imul(vt,Xt),f=f+Math.imul(Rt,Ct)|0,M=Math.imul(Rt,Xt),p=p+Math.imul(dt,Ht)|0,f=f+Math.imul(dt,Qt)|0,f=f+Math.imul(It,Ht)|0,M=M+Math.imul(It,Qt)|0;var Or=(E+p|0)+((f&8191)<<13)|0;E=(M+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,p=Math.imul(vt,Ht),f=Math.imul(vt,Qt),f=f+Math.imul(Rt,Ht)|0,M=Math.imul(Rt,Qt);var ai=(E+p|0)+((f&8191)<<13)|0;return E=(M+(f>>>13)|0)+(ai>>>26)|0,ai&=67108863,A[0]=ze,A[1]=$e,A[2]=He,A[3]=je,A[4]=Ke,A[5]=xe,A[6]=dr,A[7]=Dr,A[8]=pr,A[9]=Nr,A[10]=Cr,A[11]=gr,A[12]=Mr,A[13]=Sr,A[14]=Ze,A[15]=Rr,A[16]=Pr,A[17]=Or,A[18]=ai,E!==0&&(A[19]=E,u.length++),u};Math.imul||(U=Q);function J(o,h,u){u.negative=h.negative^o.negative,u.length=o.length+h.length;for(var v=0,y=0,A=0;A<u.length-1;A++){var E=y;y=0;for(var p=v&67108863,f=Math.min(A,h.length-1),M=Math.max(0,A-o.length+1);M<=f;M++){var V=A-M,W=o.words[V]|0,b=h.words[M]|0,L=W*b,O=L&67108863;E=E+(L/67108864|0)|0,O=O+p|0,p=O&67108863,E=E+(O>>>26)|0,y+=E>>>26,E&=67108863}u.words[A]=p,v=E,E=y}return v!==0?u.words[A]=v:u.length--,u._strip()}function z(o,h,u){return J(o,h,u)}n.prototype.mulTo=function(o,h){var u,v=this.length+o.length;return this.length===10&&o.length===10?u=U(this,o,h):v<63?u=Q(this,o,h):v<1024?u=J(this,o,h):u=z(this,o,h),u},n.prototype.mul=function(o){var h=new n(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},n.prototype.mulf=function(o){var h=new n(null);return h.words=new Array(this.length+o.length),z(this,o,h)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){var h=o<0;h&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var u=0,v=0;v<this.length;v++){var y=(this.words[v]|0)*o,A=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=A>>>26,this.words[v]=A&67108863}return u!==0&&(this.words[v]=u,this.length++),h?this.ineg():this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var h=F(o);if(h.length===0)return new n(1);for(var u=this,v=0;v<h.length&&h[v]===0;v++,u=u.sqr());if(++v<h.length)for(var y=u.sqr();v<h.length;v++,y=y.sqr())h[v]!==0&&(u=u.mul(y));return u},n.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26,v=67108863>>>26-h<<26-h,y;if(h!==0){var A=0;for(y=0;y<this.length;y++){var E=this.words[y]&v,p=(this.words[y]|0)-E<<h;this.words[y]=p|A,A=E>>>26-h}A&&(this.words[y]=A,this.length++)}if(u!==0){for(y=this.length-1;y>=0;y--)this.words[y+u]=this.words[y];for(y=0;y<u;y++)this.words[y]=0;this.length+=u}return this._strip()},n.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,h,u){i(typeof o=="number"&&o>=0);var v;h?v=(h-h%26)/26:v=0;var y=o%26,A=Math.min((o-y)/26,this.length),E=67108863^67108863>>>y<<y,p=u;if(v-=A,v=Math.max(0,v),p){for(var f=0;f<A;f++)p.words[f]=this.words[f];p.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var M=0;for(f=this.length-1;f>=0&&(M!==0||f>=v);f--){var V=this.words[f]|0;this.words[f]=M<<26-y|V>>>y,M=V&E}return p&&M!==0&&(p.words[p.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(o,h,u){return i(this.negative===0),this.iushrn(o,h,u)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26,v=1<<h;if(this.length<=u)return!1;var y=this.words[u];return!!(y&v)},n.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,u=(o-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(h!==0&&u++,this.length=Math.min(u,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,h,u){var v=o.length+u,y;this._expand(v);var A,E=0;for(y=0;y<o.length;y++){A=(this.words[y+u]|0)+E;var p=(o.words[y]|0)*h;A-=p&67108863,E=(A>>26)-(p/67108864|0),this.words[y+u]=A&67108863}for(;y<this.length-u;y++)A=(this.words[y+u]|0)+E,E=A>>26,this.words[y+u]=A&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,y=0;y<this.length;y++)A=-(this.words[y]|0)+E,E=A>>26,this.words[y]=A&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(o,h){var u=this.length-o.length,v=this.clone(),y=o,A=y.words[y.length-1]|0,E=this._countBits(A);u=26-E,u!==0&&(y=y.ushln(u),v.iushln(u),A=y.words[y.length-1]|0);var p=v.length-y.length,f;if(h!=="mod"){f=new n(null),f.length=p+1,f.words=new Array(f.length);for(var M=0;M<f.length;M++)f.words[M]=0}var V=v.clone()._ishlnsubmul(y,1,p);V.negative===0&&(v=V,f&&(f.words[p]=1));for(var W=p-1;W>=0;W--){var b=(v.words[y.length+W]|0)*67108864+(v.words[y.length+W-1]|0);for(b=Math.min(b/A|0,67108863),v._ishlnsubmul(y,b,W);v.negative!==0;)b--,v.negative=0,v._ishlnsubmul(y,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=b)}return f&&f._strip(),v._strip(),h!=="div"&&u!==0&&v.iushrn(u),{div:f||null,mod:v}},n.prototype.divmod=function(o,h,u){if(i(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,y,A;return this.negative!==0&&o.negative===0?(A=this.neg().divmod(o,h),h!=="mod"&&(v=A.div.neg()),h!=="div"&&(y=A.mod.neg(),u&&y.negative!==0&&y.iadd(o)),{div:v,mod:y}):this.negative===0&&o.negative!==0?(A=this.divmod(o.neg(),h),h!=="mod"&&(v=A.div.neg()),{div:v,mod:A.mod}):this.negative&o.negative?(A=this.neg().divmod(o.neg(),h),h!=="div"&&(y=A.mod.neg(),u&&y.negative!==0&&y.isub(o)),{div:A.div,mod:y}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modrn(o.words[0]))}:this._wordDiv(o,h)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var u=h.div.negative!==0?h.mod.isub(o):h.mod,v=o.ushrn(1),y=o.andln(1),A=u.cmp(v);return A<0||y===1&&A===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modrn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var u=(1<<26)%o,v=0,y=this.length-1;y>=0;y--)v=(u*v+(this.words[y]|0))%o;return h?-v:v},n.prototype.modn=function(o){return this.modrn(o)},n.prototype.idivn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var u=0,v=this.length-1;v>=0;v--){var y=(this.words[v]|0)+u*67108864;this.words[v]=y/o|0,u=y%o}return this._strip(),h?this.ineg():this},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var h=this,u=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new n(1),y=new n(0),A=new n(0),E=new n(1),p=0;h.isEven()&&u.isEven();)h.iushrn(1),u.iushrn(1),++p;for(var f=u.clone(),M=h.clone();!h.isZero();){for(var V=0,W=1;!(h.words[0]&W)&&V<26;++V,W<<=1);if(V>0)for(h.iushrn(V);V-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(f),y.isub(M)),v.iushrn(1),y.iushrn(1);for(var b=0,L=1;!(u.words[0]&L)&&b<26;++b,L<<=1);if(b>0)for(u.iushrn(b);b-- >0;)(A.isOdd()||E.isOdd())&&(A.iadd(f),E.isub(M)),A.iushrn(1),E.iushrn(1);h.cmp(u)>=0?(h.isub(u),v.isub(A),y.isub(E)):(u.isub(h),A.isub(v),E.isub(y))}return{a:A,b:E,gcd:u.iushln(p)}},n.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var h=this,u=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new n(1),y=new n(0),A=u.clone();h.cmpn(1)>0&&u.cmpn(1)>0;){for(var E=0,p=1;!(h.words[0]&p)&&E<26;++E,p<<=1);if(E>0)for(h.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);for(var f=0,M=1;!(u.words[0]&M)&&f<26;++f,M<<=1);if(f>0)for(u.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);h.cmp(u)>=0?(h.isub(u),v.isub(y)):(u.isub(h),y.isub(v))}var V;return h.cmpn(1)===0?V=v:V=y,V.cmpn(0)<0&&V.iadd(o),V},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),u=o.clone();h.negative=0,u.negative=0;for(var v=0;h.isEven()&&u.isEven();v++)h.iushrn(1),u.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;u.isEven();)u.iushrn(1);var y=h.cmp(u);if(y<0){var A=h;h=u,u=A}else if(y===0||u.cmpn(1)===0)break;h.isub(u)}while(!0);return u.iushln(v)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){i(typeof o=="number");var h=o%26,u=(o-h)/26,v=1<<h;if(this.length<=u)return this._expand(u+1),this.words[u]|=v,this;for(var y=v,A=u;y!==0&&A<this.length;A++){var E=this.words[A]|0;E+=y,y=E>>>26,E&=67108863,this.words[A]=E}return y!==0&&(this.words[A]=y,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var u;if(this.length>1)u=1;else{h&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;u=v===o?0:v<o?-1:1}return this.negative!==0?-u|0:u},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,u=this.length-1;u>=0;u--){var v=this.words[u]|0,y=o.words[u]|0;if(v!==y){v<y?h=-1:v>y&&(h=1);break}}return h},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new G(o)},n.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var $={k256:null,p224:null,p192:null,p25519:null};function q(o,h){this.name=o,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},q.prototype.ireduce=function(o){var h=o,u;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),u=h.bitLength();while(u>this.n);var v=u<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},q.prototype.split=function(o,h){o.iushrn(this.n,0,h)},q.prototype.imulK=function(o){return o.imul(this.k)};function R(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(R,q),R.prototype.split=function(o,h){for(var u=4194303,v=Math.min(o.length,9),y=0;y<v;y++)h.words[y]=o.words[y];if(h.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var A=o.words[9];for(h.words[h.length++]=A&u,y=10;y<o.length;y++){var E=o.words[y]|0;o.words[y-10]=(E&u)<<4|A>>>22,A=E}A>>>=22,o.words[y-10]=A,A===0&&o.length>10?o.length-=10:o.length-=9},R.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,u=0;u<o.length;u++){var v=o.words[u]|0;h+=v*977,o.words[u]=h&67108863,h=v*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,q);function rt(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(rt,q);function ot(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(ot,q),ot.prototype.imulK=function(o){for(var h=0,u=0;u<o.length;u++){var v=(o.words[u]|0)*19+h,y=v&67108863;v>>>=26,o.words[u]=y,h=v}return h!==0&&(o.words[o.length++]=h),o},n._prime=function(o){if($[o])return $[o];var h;if(o==="k256")h=new R;else if(o==="p224")h=new H;else if(o==="p192")h=new rt;else if(o==="p25519")h=new ot;else throw new Error("Unknown prime "+o);return $[o]=h,h};function G(o){if(typeof o=="string"){var h=n._prime(o);this.m=h.p,this.prime=h}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}G.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,h){i((o.negative|h.negative)===0,"red works only with positives"),i(o.red&&o.red===h.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(w(o,o.umod(this.m)._forceRed(this)),o)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,h){this._verify2(o,h);var u=o.add(h);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},G.prototype.iadd=function(o,h){this._verify2(o,h);var u=o.iadd(h);return u.cmp(this.m)>=0&&u.isub(this.m),u},G.prototype.sub=function(o,h){this._verify2(o,h);var u=o.sub(h);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},G.prototype.isub=function(o,h){this._verify2(o,h);var u=o.isub(h);return u.cmpn(0)<0&&u.iadd(this.m),u},G.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},G.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},G.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var u=this.m.add(new n(1)).iushrn(2);return this.pow(o,u)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);i(!v.isZero());var A=new n(1).toRed(this),E=A.redNeg(),p=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,p).cmp(E)!==0;)f.redIAdd(E);for(var M=this.pow(f,v),V=this.pow(o,v.addn(1).iushrn(1)),W=this.pow(o,v),b=y;W.cmp(A)!==0;){for(var L=W,O=0;L.cmp(A)!==0;O++)L=L.redSqr();i(O<b);var T=this.pow(M,new n(1).iushln(b-O-1));V=V.redMul(T),M=T.redSqr(),W=W.redMul(M),b=O}return V},G.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},G.prototype.pow=function(o,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var u=4,v=new Array(1<<u);v[0]=new n(1).toRed(this),v[1]=o;for(var y=2;y<v.length;y++)v[y]=this.mul(v[y-1],o);var A=v[0],E=0,p=0,f=h.bitLength()%26;for(f===0&&(f=26),y=h.length-1;y>=0;y--){for(var M=h.words[y],V=f-1;V>=0;V--){var W=M>>V&1;if(A!==v[0]&&(A=this.sqr(A)),W===0&&E===0){p=0;continue}E<<=1,E|=W,p++,!(p!==u&&(y!==0||V!==0))&&(A=this.mul(A,v[E]),p=0,E=0)}f=26}return A},G.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},G.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},n.mont=function(o){return new x(o)};function x(o){G.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(x,G),x.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},x.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},x.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var u=o.imul(h),v=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=u.isub(v).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},x.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new n(0)._forceRed(this);var u=o.mul(h),v=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=u.isub(v).iushrn(this.shift),A=y;return y.cmp(this.m)>=0?A=y.isub(this.m):y.cmpn(0)<0&&(A=y.iadd(this.m)),A._forceRed(this)},x.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,w8)})(M8);var Me=M8.exports;const S8="bignumber/5.7.0";var W1=Me.BN;const Ws=new Ge(S8),f1={},h6=9007199254740991;function Kq(e){return e!=null&&(ar.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||ih(e)||typeof e=="bigint"||Hf(e))}let f6=!1;class ar{constructor(t,r){t!==f1&&Ws.throwError("cannot call constructor directly; use BigNumber.from",Ge.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ci(Te(this).fromTwos(t))}toTwos(t){return Ci(Te(this).toTwos(t))}abs(){return this._hex[0]==="-"?ar.from(this._hex.substring(1)):this}add(t){return Ci(Te(this).add(Te(t)))}sub(t){return Ci(Te(this).sub(Te(t)))}div(t){return ar.from(t).isZero()&&ln("division-by-zero","div"),Ci(Te(this).div(Te(t)))}mul(t){return Ci(Te(this).mul(Te(t)))}mod(t){const r=Te(t);return r.isNeg()&&ln("division-by-zero","mod"),Ci(Te(this).umod(r))}pow(t){const r=Te(t);return r.isNeg()&&ln("negative-power","pow"),Ci(Te(this).pow(r))}and(t){const r=Te(t);return(this.isNegative()||r.isNeg())&&ln("unbound-bitwise-result","and"),Ci(Te(this).and(r))}or(t){const r=Te(t);return(this.isNegative()||r.isNeg())&&ln("unbound-bitwise-result","or"),Ci(Te(this).or(r))}xor(t){const r=Te(t);return(this.isNegative()||r.isNeg())&&ln("unbound-bitwise-result","xor"),Ci(Te(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&ln("negative-width","mask"),Ci(Te(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&ln("negative-width","shl"),Ci(Te(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&ln("negative-width","shr"),Ci(Te(this).shrn(t))}eq(t){return Te(this).eq(Te(t))}lt(t){return Te(this).lt(Te(t))}lte(t){return Te(this).lte(Te(t))}gt(t){return Te(this).gt(Te(t))}gte(t){return Te(this).gte(Te(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Te(this).isZero()}toNumber(){try{return Te(this).toNumber()}catch{ln("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ws.throwError("this platform does not support BigInt",Ge.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?f6||(f6=!0,Ws.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ws.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ge.errors.UNEXPECTED_ARGUMENT,{}):Ws.throwError("BigNumber.toString does not accept parameters",Ge.errors.UNEXPECTED_ARGUMENT,{})),Te(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ar)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new ar(f1,xf(t)):t.match(/^-?[0-9]+$/)?new ar(f1,xf(new W1(t))):Ws.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&ln("underflow","BigNumber.from",t),(t>=h6||t<=-h6)&&ln("overflow","BigNumber.from",t),ar.from(String(t));const r=t;if(typeof r=="bigint")return ar.from(r.toString());if(Hf(r))return ar.from(E8(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return ar.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(ih(i)||i[0]==="-"&&ih(i.substring(1))))return ar.from(i)}return Ws.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function xf(e){if(typeof e!="string")return xf(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Ws.throwArgumentError("invalid hex","value",e),e=xf(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Ci(e){return ar.from(xf(e))}function Te(e){const t=ar.from(e).toHexString();return t[0]==="-"?new W1("-"+t.substring(3),16):new W1(t.substring(2),16)}function ln(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Ws.throwError(e,Ge.errors.NUMERIC_FAULT,i)}const bi=new Ge(S8),bf={},x8=ar.from(0),I8=ar.from(-1);function D8(e,t,r,i){const s={fault:t,operation:r};return i!==void 0&&(s.value=i),bi.throwError(e,Ge.errors.NUMERIC_FAULT,s)}let yf="0";for(;yf.length<256;)yf+=yf;function Dp(e){if(typeof e!="number")try{e=ar.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+yf.substring(0,e):bi.throwArgumentError("invalid decimal size","decimals",e)}function u1(e,t){t==null&&(t=0);const r=Dp(t);e=ar.from(e);const i=e.lt(x8);i&&(e=e.mul(I8));let s=e.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];const n=e.div(r).toString();return r.length===1?e=n:e=n+"."+s,i&&(e="-"+e),e}function Qs(e,t){t==null&&(t=0);const r=Dp(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&bi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&bi.throwArgumentError("missing value","value",e);const s=e.split(".");s.length>2&&bi.throwArgumentError("too many decimal points","value",e);let n=s[0],c=s[1];for(n||(n="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&D8("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const g=ar.from(n),m=ar.from(c);let l=g.mul(r).add(m);return i&&(l=l.mul(I8)),l}class Va{constructor(t,r,i,s){t!==bf&&bi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ge.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=s,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(s),this._multiplier=Dp(s),Object.freeze(this)}static from(t){if(t instanceof Va)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,s=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||bi.throwArgumentError("invalid fixed format","format",t),r=n[1]!=="u",i=parseInt(n[2]),s=parseInt(n[3])}}else if(t){const n=(c,g,m)=>t[c]==null?m:(typeof t[c]!==g&&bi.throwArgumentError("invalid fixed format ("+c+" not "+g+")","format."+c,t[c]),t[c]);r=n("signed","boolean",r),i=n("width","number",i),s=n("decimals","number",s)}return i%8&&bi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),s>80&&bi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new Va(bf,r,i,s)}}class Xr{constructor(t,r,i,s){t!==bf&&bi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ge.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&bi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Qs(this._value,this.format.decimals),i=Qs(t._value,t.format.decimals);return Xr.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Qs(this._value,this.format.decimals),i=Qs(t._value,t.format.decimals);return Xr.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Qs(this._value,this.format.decimals),i=Qs(t._value,t.format.decimals);return Xr.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Qs(this._value,this.format.decimals),i=Qs(t._value,t.format.decimals);return Xr.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Xr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(u6.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Xr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(u6.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&bi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=Xr.from("1"+yf.substring(0,t),this.format),s=Gq.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(s).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&bi.throwArgumentError("invalid byte width","width",t);const r=ar.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Zc(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Xr.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!Kq(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),Xr.fromString(u1(t,r),Va.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Va.from(r),s=Qs(t,i.decimals);!i.signed&&s.lt(x8)&&D8("unsigned value cannot be negative","overflow","value",t);let n=null;i.signed?n=s.toTwos(i.width).toHexString():(n=s.toHexString(),n=Zc(n,i.width/8));const c=u1(s,i.decimals);return new Xr(bf,n,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Va.from(r);if(_8(t).length>i.width/8)throw new Error("overflow");let s=ar.from(t);i.signed&&(s=s.fromTwos(i.width));const n=s.toTwos((i.signed?0:1)+i.width).toHexString(),c=u1(s,i.decimals);return new Xr(bf,n,c,i)}static from(t,r){if(typeof t=="string")return Xr.fromString(t,r);if(Hf(t))return Xr.fromBytes(t,r);try{return Xr.fromValue(t,0,r)}catch(i){if(i.code!==Ge.errors.INVALID_ARGUMENT)throw i}return bi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const u6=Xr.from(1),Gq=Xr.from("0.5");var c6;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(c6||(c6={}));var l6;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(l6||(l6={}));function Qq(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function c1(e,t){t||(t=function(s){return[parseInt(s,16)]});let r=0,i={};return e.split(",").forEach(s=>{let n=s.split(":");r+=parseInt(n[0],16),i[r]=t(n[1])}),i}function d6(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let s=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:s,h:t}})}d6("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),c1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),c1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),c1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Qq),d6("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Jq(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return _8(t)}function N8(e,t){t==null&&(t=1);const r=[],i=r.forEach,s=function(n,c){i.call(n,function(g){c>0&&Array.isArray(g)?s(g,c-1):r.push(g)})};return s(e,t),r}function Vq(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function Yq(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),s=1,n=[0,1];for(let $=1;$<i;$++)n.push(s+=r());let c=r(),g=t;t+=c;let m=0,l=0;function w(){return m==0&&(l=l<<8|e[t++],m=8),l>>--m&1}const _=31,I=Math.pow(2,_),D=I>>>1,C=D>>1,B=I-1;let F=0;for(let $=0;$<_;$++)F=F<<1|w();let Q=[],U=0,J=I;for(;;){let $=Math.floor(((F-U+1)*s-1)/J),q=0,R=i;for(;R-q>1;){let ot=q+R>>>1;$<n[ot]?R=ot:q=ot}if(q==0)break;Q.push(q);let H=U+Math.floor(J*n[q]/s),rt=U+Math.floor(J*n[q+1]/s)-1;for(;!((H^rt)&D);)F=F<<1&B|w(),H=H<<1&B,rt=rt<<1&B|1;for(;H&~rt&C;)F=F&D|F<<1&B>>>1|w(),H=H<<1^D,rt=(rt^D)<<1|D|1;U=H,J=1+rt-H}let z=i-4;return Q.map($=>{switch($-z){case 3:return z+65792+(e[g++]<<16|e[g++]<<8|e[g++]);case 2:return z+256+(e[g++]<<8|e[g++]);case 1:return z+e[g++];default:return $-1}})}function Wq(e){let t=0;return()=>e[t++]}function Xq(e){return Wq(Yq(e))}function Zq(e){return e&1?~e>>1:e>>1}function tU(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function p6(e,t){let r=Array(e);for(let i=0,s=-1;i<e;i++)r[i]=s+=1+t();return r}function eU(e,t){let r=Array(e);for(let i=0,s=0;i<e;i++)r[i]=s+=Zq(t());return r}function t0(e,t){let r=p6(e(),e),i=e(),s=p6(i,e),n=tU(i,e);for(let c=0;c<i;c++)for(let g=0;g<n[c];g++)r.push(s[c]+g);return t?r.map(c=>t[c]):r}function rU(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(nU(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(sU(r,e))}return Vq(N8(t))}function iU(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function C8(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let s=0;s<t;s++)eU(e,r).forEach((n,c)=>i[c].push(n));return i}function nU(e,t){let r=1+t(),i=t(),s=iU(t),n=C8(s.length,1+e,t);return N8(n.map((c,g)=>{const m=c[0],l=c.slice(1);return Array(s[g]).fill(void 0).map((w,_)=>{let I=_*i;return[m+_*r,l.map(D=>D+I)]})}))}function sU(e,t){let r=1+t();return C8(r,1+e,t).map(i=>[i[0],i.slice(1)])}function oU(e){let t=t0(e).sort((i,s)=>i-s);return r();function r(){let i=[];for(;;){let l=t0(e,t);if(l.length==0)break;i.push({set:new Set(l),node:r()})}i.sort((l,w)=>w.set.size-l.set.size);let s=e(),n=s%3;s=s/3|0;let c=!!(s&1);s>>=1;let g=s==1,m=s==2;return{branches:i,valid:n,fe0f:c,save:g,check:m}}}function aU(){return Xq(Jq("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"))}const uc=aU();new Set(t0(uc)),new Set(t0(uc)),rU(uc),oU(uc);const hU=new Uint8Array(32);hU.fill(0);const fU=new Uint8Array(32);fU.fill(0),ar.from(-1);const uU=ar.from(0),cU=ar.from(1);ar.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zc(cU.toHexString(),32),Zc(uU.toHexString(),32);var fs={},Ue={},jf=R8;function R8(e,t){if(!e)throw new Error(t||"Assertion failed")}R8.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var X1={exports:{}};typeof Object.create=="function"?X1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:X1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var lU=jf,dU=X1.exports;Ue.inherits=dU;function pU(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function gU(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),s=0;s<e.length;s+=2)r.push(parseInt(e[s]+e[s+1],16))}else for(var i=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n<128?r[i++]=n:n<2048?(r[i++]=n>>6|192,r[i++]=n&63|128):pU(e,s)?(n=65536+((n&1023)<<10)+(e.charCodeAt(++s)&1023),r[i++]=n>>18|240,r[i++]=n>>12&63|128,r[i++]=n>>6&63|128,r[i++]=n&63|128):(r[i++]=n>>12|224,r[i++]=n>>6&63|128,r[i++]=n&63|128)}else for(s=0;s<e.length;s++)r[s]=e[s]|0;return r}Ue.toArray=gU;function vU(e){for(var t="",r=0;r<e.length;r++)t+=O8(e[r].toString(16));return t}Ue.toHex=vU;function P8(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Ue.htonl=P8;function mU(e,t){for(var r="",i=0;i<e.length;i++){var s=e[i];t==="little"&&(s=P8(s)),r+=B8(s.toString(16))}return r}Ue.toHex32=mU;function O8(e){return e.length===1?"0"+e:e}Ue.zero2=O8;function B8(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Ue.zero8=B8;function bU(e,t,r,i){var s=r-t;lU(s%4===0);for(var n=new Array(s/4),c=0,g=t;c<n.length;c++,g+=4){var m;i==="big"?m=e[g]<<24|e[g+1]<<16|e[g+2]<<8|e[g+3]:m=e[g+3]<<24|e[g+2]<<16|e[g+1]<<8|e[g],n[c]=m>>>0}return n}Ue.join32=bU;function yU(e,t){for(var r=new Array(e.length*4),i=0,s=0;i<e.length;i++,s+=4){var n=e[i];t==="big"?(r[s]=n>>>24,r[s+1]=n>>>16&255,r[s+2]=n>>>8&255,r[s+3]=n&255):(r[s+3]=n>>>24,r[s+2]=n>>>16&255,r[s+1]=n>>>8&255,r[s]=n&255)}return r}Ue.split32=yU;function wU(e,t){return e>>>t|e<<32-t}Ue.rotr32=wU;function AU(e,t){return e<<t|e>>>32-t}Ue.rotl32=AU;function _U(e,t){return e+t>>>0}Ue.sum32=_U;function EU(e,t,r){return e+t+r>>>0}Ue.sum32_3=EU;function MU(e,t,r,i){return e+t+r+i>>>0}Ue.sum32_4=MU;function SU(e,t,r,i,s){return e+t+r+i+s>>>0}Ue.sum32_5=SU;function xU(e,t,r,i){var s=e[t],n=e[t+1],c=i+n>>>0,g=(c<i?1:0)+r+s;e[t]=g>>>0,e[t+1]=c}Ue.sum64=xU;function IU(e,t,r,i){var s=t+i>>>0,n=(s<t?1:0)+e+r;return n>>>0}Ue.sum64_hi=IU;function DU(e,t,r,i){var s=t+i;return s>>>0}Ue.sum64_lo=DU;function NU(e,t,r,i,s,n,c,g){var m=0,l=t;l=l+i>>>0,m+=l<t?1:0,l=l+n>>>0,m+=l<n?1:0,l=l+g>>>0,m+=l<g?1:0;var w=e+r+s+c+m;return w>>>0}Ue.sum64_4_hi=NU;function CU(e,t,r,i,s,n,c,g){var m=t+i+n+g;return m>>>0}Ue.sum64_4_lo=CU;function RU(e,t,r,i,s,n,c,g,m,l){var w=0,_=t;_=_+i>>>0,w+=_<t?1:0,_=_+n>>>0,w+=_<n?1:0,_=_+g>>>0,w+=_<g?1:0,_=_+l>>>0,w+=_<l?1:0;var I=e+r+s+c+m+w;return I>>>0}Ue.sum64_5_hi=RU;function PU(e,t,r,i,s,n,c,g,m,l){var w=t+i+n+g+l;return w>>>0}Ue.sum64_5_lo=PU;function OU(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Ue.rotr64_hi=OU;function BU(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Ue.rotr64_lo=BU;function TU(e,t,r){return e>>>r}Ue.shr64_hi=TU;function FU(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Ue.shr64_lo=FU;var mh={},g6=Ue,qU=jf;function cc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}mh.BlockHash=cc,cc.prototype.update=function(e,t){if(e=g6.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=g6.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},cc.prototype.digest=function(e){return this.update(this._pad()),qU(this.pending===null),this._digest(e)},cc.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var n=8;n<this.padLength;n++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,n=8;n<this.padLength;n++)i[s++]=0;return i};var $a={},Rs={},UU=Ue,Ms=UU.rotr32;function LU(e,t,r,i){if(e===0)return T8(t,r,i);if(e===1||e===3)return q8(t,r,i);if(e===2)return F8(t,r,i)}Rs.ft_1=LU;function T8(e,t,r){return e&t^~e&r}Rs.ch32=T8;function F8(e,t,r){return e&t^e&r^t&r}Rs.maj32=F8;function q8(e,t,r){return e^t^r}Rs.p32=q8;function kU(e){return Ms(e,2)^Ms(e,13)^Ms(e,22)}Rs.s0_256=kU;function zU(e){return Ms(e,6)^Ms(e,11)^Ms(e,25)}Rs.s1_256=zU;function $U(e){return Ms(e,7)^Ms(e,18)^e>>>3}Rs.g0_256=$U;function HU(e){return Ms(e,17)^Ms(e,19)^e>>>10}Rs.g1_256=HU;var nh=Ue,jU=mh,KU=Rs,l1=nh.rotl32,nf=nh.sum32,GU=nh.sum32_5,QU=KU.ft_1,U8=jU.BlockHash,JU=[1518500249,1859775393,2400959708,3395469782];function gs(){if(!(this instanceof gs))return new gs;U8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}nh.inherits(gs,U8);var VU=gs;gs.blockSize=512,gs.outSize=160,gs.hmacStrength=80,gs.padLength=64,gs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=l1(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],n=this.h[1],c=this.h[2],g=this.h[3],m=this.h[4];for(i=0;i<r.length;i++){var l=~~(i/20),w=GU(l1(s,5),QU(l,n,c,g),m,r[i],JU[l]);m=g,g=c,c=l1(n,30),n=s,s=w}this.h[0]=nf(this.h[0],s),this.h[1]=nf(this.h[1],n),this.h[2]=nf(this.h[2],c),this.h[3]=nf(this.h[3],g),this.h[4]=nf(this.h[4],m)},gs.prototype._digest=function(e){return e==="hex"?nh.toHex32(this.h,"big"):nh.split32(this.h,"big")};var sh=Ue,YU=mh,bh=Rs,WU=jf,On=sh.sum32,XU=sh.sum32_4,ZU=sh.sum32_5,tL=bh.ch32,eL=bh.maj32,rL=bh.s0_256,iL=bh.s1_256,nL=bh.g0_256,sL=bh.g1_256,L8=YU.BlockHash,oL=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vs(){if(!(this instanceof vs))return new vs;L8.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=oL,this.W=new Array(64)}sh.inherits(vs,L8);var k8=vs;vs.blockSize=512,vs.outSize=256,vs.hmacStrength=192,vs.padLength=64,vs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=XU(sL(r[i-2]),r[i-7],nL(r[i-15]),r[i-16]);var s=this.h[0],n=this.h[1],c=this.h[2],g=this.h[3],m=this.h[4],l=this.h[5],w=this.h[6],_=this.h[7];for(WU(this.k.length===r.length),i=0;i<r.length;i++){var I=ZU(_,iL(m),tL(m,l,w),this.k[i],r[i]),D=On(rL(s),eL(s,n,c));_=w,w=l,l=m,m=On(g,I),g=c,c=n,n=s,s=On(I,D)}this.h[0]=On(this.h[0],s),this.h[1]=On(this.h[1],n),this.h[2]=On(this.h[2],c),this.h[3]=On(this.h[3],g),this.h[4]=On(this.h[4],m),this.h[5]=On(this.h[5],l),this.h[6]=On(this.h[6],w),this.h[7]=On(this.h[7],_)},vs.prototype._digest=function(e){return e==="hex"?sh.toHex32(this.h,"big"):sh.split32(this.h,"big")};var Z1=Ue,z8=k8;function io(){if(!(this instanceof io))return new io;z8.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Z1.inherits(io,z8);var aL=io;io.blockSize=512,io.outSize=224,io.hmacStrength=192,io.padLength=64,io.prototype._digest=function(e){return e==="hex"?Z1.toHex32(this.h.slice(0,7),"big"):Z1.split32(this.h.slice(0,7),"big")};var Ui=Ue,hL=mh,fL=jf,Ss=Ui.rotr64_hi,xs=Ui.rotr64_lo,$8=Ui.shr64_hi,H8=Ui.shr64_lo,Ao=Ui.sum64,d1=Ui.sum64_hi,p1=Ui.sum64_lo,uL=Ui.sum64_4_hi,cL=Ui.sum64_4_lo,lL=Ui.sum64_5_hi,dL=Ui.sum64_5_lo,j8=hL.BlockHash,pL=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function zn(){if(!(this instanceof zn))return new zn;j8.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pL,this.W=new Array(160)}Ui.inherits(zn,j8);var K8=zn;zn.blockSize=1024,zn.outSize=512,zn.hmacStrength=192,zn.padLength=128,zn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=SL(r[i-4],r[i-3]),n=xL(r[i-4],r[i-3]),c=r[i-14],g=r[i-13],m=EL(r[i-30],r[i-29]),l=ML(r[i-30],r[i-29]),w=r[i-32],_=r[i-31];r[i]=uL(s,n,c,g,m,l,w,_),r[i+1]=cL(s,n,c,g,m,l,w,_)}},zn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],n=this.h[2],c=this.h[3],g=this.h[4],m=this.h[5],l=this.h[6],w=this.h[7],_=this.h[8],I=this.h[9],D=this.h[10],C=this.h[11],B=this.h[12],F=this.h[13],Q=this.h[14],U=this.h[15];fL(this.k.length===r.length);for(var J=0;J<r.length;J+=2){var z=Q,$=U,q=AL(_,I),R=_L(_,I),H=gL(_,I,D,C,B),rt=vL(_,I,D,C,B,F),ot=this.k[J],G=this.k[J+1],x=r[J],o=r[J+1],h=lL(z,$,q,R,H,rt,ot,G,x,o),u=dL(z,$,q,R,H,rt,ot,G,x,o);z=yL(i,s),$=wL(i,s),q=mL(i,s,n,c,g),R=bL(i,s,n,c,g,m);var v=d1(z,$,q,R),y=p1(z,$,q,R);Q=B,U=F,B=D,F=C,D=_,C=I,_=d1(l,w,h,u),I=p1(w,w,h,u),l=g,w=m,g=n,m=c,n=i,c=s,i=d1(h,u,v,y),s=p1(h,u,v,y)}Ao(this.h,0,i,s),Ao(this.h,2,n,c),Ao(this.h,4,g,m),Ao(this.h,6,l,w),Ao(this.h,8,_,I),Ao(this.h,10,D,C),Ao(this.h,12,B,F),Ao(this.h,14,Q,U)},zn.prototype._digest=function(e){return e==="hex"?Ui.toHex32(this.h,"big"):Ui.split32(this.h,"big")};function gL(e,t,r,i,s){var n=e&r^~e&s;return n<0&&(n+=4294967296),n}function vL(e,t,r,i,s,n){var c=t&i^~t&n;return c<0&&(c+=4294967296),c}function mL(e,t,r,i,s){var n=e&r^e&s^r&s;return n<0&&(n+=4294967296),n}function bL(e,t,r,i,s,n){var c=t&i^t&n^i&n;return c<0&&(c+=4294967296),c}function yL(e,t){var r=Ss(e,t,28),i=Ss(t,e,2),s=Ss(t,e,7),n=r^i^s;return n<0&&(n+=4294967296),n}function wL(e,t){var r=xs(e,t,28),i=xs(t,e,2),s=xs(t,e,7),n=r^i^s;return n<0&&(n+=4294967296),n}function AL(e,t){var r=Ss(e,t,14),i=Ss(e,t,18),s=Ss(t,e,9),n=r^i^s;return n<0&&(n+=4294967296),n}function _L(e,t){var r=xs(e,t,14),i=xs(e,t,18),s=xs(t,e,9),n=r^i^s;return n<0&&(n+=4294967296),n}function EL(e,t){var r=Ss(e,t,1),i=Ss(e,t,8),s=$8(e,t,7),n=r^i^s;return n<0&&(n+=4294967296),n}function ML(e,t){var r=xs(e,t,1),i=xs(e,t,8),s=H8(e,t,7),n=r^i^s;return n<0&&(n+=4294967296),n}function SL(e,t){var r=Ss(e,t,19),i=Ss(t,e,29),s=$8(e,t,6),n=r^i^s;return n<0&&(n+=4294967296),n}function xL(e,t){var r=xs(e,t,19),i=xs(t,e,29),s=H8(e,t,6),n=r^i^s;return n<0&&(n+=4294967296),n}var tp=Ue,G8=K8;function no(){if(!(this instanceof no))return new no;G8.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}tp.inherits(no,G8);var IL=no;no.blockSize=1024,no.outSize=384,no.hmacStrength=192,no.padLength=128,no.prototype._digest=function(e){return e==="hex"?tp.toHex32(this.h.slice(0,12),"big"):tp.split32(this.h.slice(0,12),"big")},$a.sha1=VU,$a.sha224=aL,$a.sha256=k8,$a.sha384=IL,$a.sha512=K8;var Q8={},oa=Ue,DL=mh,lc=oa.rotl32,v6=oa.sum32,sf=oa.sum32_3,m6=oa.sum32_4,J8=DL.BlockHash;function us(){if(!(this instanceof us))return new us;J8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}oa.inherits(us,J8),Q8.ripemd160=us,us.blockSize=512,us.outSize=160,us.hmacStrength=192,us.padLength=64,us.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],n=this.h[3],c=this.h[4],g=r,m=i,l=s,w=n,_=c,I=0;I<80;I++){var D=v6(lc(m6(r,b6(I,i,s,n),e[RL[I]+t],NL(I)),OL[I]),c);r=c,c=n,n=lc(s,10),s=i,i=D,D=v6(lc(m6(g,b6(79-I,m,l,w),e[PL[I]+t],CL(I)),BL[I]),_),g=_,_=w,w=lc(l,10),l=m,m=D}D=sf(this.h[1],s,w),this.h[1]=sf(this.h[2],n,_),this.h[2]=sf(this.h[3],c,g),this.h[3]=sf(this.h[4],r,m),this.h[4]=sf(this.h[0],i,l),this.h[0]=D},us.prototype._digest=function(e){return e==="hex"?oa.toHex32(this.h,"little"):oa.split32(this.h,"little")};function b6(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function NL(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function CL(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var RL=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],PL=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],OL=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],BL=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],TL=Ue,FL=jf;function Ya(e,t,r){if(!(this instanceof Ya))return new Ya(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(TL.toArray(t,r))}var qL=Ya;Ya.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),FL(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Ya.prototype.update=function(e,t){return this.inner.update(e,t),this},Ya.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Ue,t.common=mh,t.sha=$a,t.ripemd=Q8,t.hmac=qL,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(fs);function yh(e,t,r){return r={path:t,exports:{},require:function(i,s){return UL(i,s??r.path)}},e(r,r.exports),r.exports}function UL(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Np=V8;function V8(e,t){if(!e)throw new Error(t||"Assertion failed")}V8.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var jn=yh(function(e,t){var r=t;function i(c,g){if(Array.isArray(c))return c.slice();if(!c)return[];var m=[];if(typeof c!="string"){for(var l=0;l<c.length;l++)m[l]=c[l]|0;return m}if(g==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var l=0;l<c.length;l+=2)m.push(parseInt(c[l]+c[l+1],16))}else for(var l=0;l<c.length;l++){var w=c.charCodeAt(l),_=w>>8,I=w&255;_?m.push(_,I):m.push(I)}return m}r.toArray=i;function s(c){return c.length===1?"0"+c:c}r.zero2=s;function n(c){for(var g="",m=0;m<c.length;m++)g+=s(c[m].toString(16));return g}r.toHex=n,r.encode=function(c,g){return g==="hex"?n(c):c}}),Yi=yh(function(e,t){var r=t;r.assert=Np,r.toArray=jn.toArray,r.zero2=jn.zero2,r.toHex=jn.toHex,r.encode=jn.encode;function i(m,l,w){var _=new Array(Math.max(m.bitLength(),w)+1);_.fill(0);for(var I=1<<l+1,D=m.clone(),C=0;C<_.length;C++){var B,F=D.andln(I-1);D.isOdd()?(F>(I>>1)-1?B=(I>>1)-F:B=F,D.isubn(B)):B=0,_[C]=B,D.iushrn(1)}return _}r.getNAF=i;function s(m,l){var w=[[],[]];m=m.clone(),l=l.clone();for(var _=0,I=0,D;m.cmpn(-_)>0||l.cmpn(-I)>0;){var C=m.andln(3)+_&3,B=l.andln(3)+I&3;C===3&&(C=-1),B===3&&(B=-1);var F;C&1?(D=m.andln(7)+_&7,(D===3||D===5)&&B===2?F=-C:F=C):F=0,w[0].push(F);var Q;B&1?(D=l.andln(7)+I&7,(D===3||D===5)&&C===2?Q=-B:Q=B):Q=0,w[1].push(Q),2*_===F+1&&(_=1-_),2*I===Q+1&&(I=1-I),m.iushrn(1),l.iushrn(1)}return w}r.getJSF=s;function n(m,l,w){var _="_"+l;m.prototype[l]=function(){return this[_]!==void 0?this[_]:this[_]=w.call(this)}}r.cachedProperty=n;function c(m){return typeof m=="string"?r.toArray(m,"hex"):m}r.parseBytes=c;function g(m){return new Me(m,"hex","le")}r.intFromLE=g}),dc=Yi.getNAF,LL=Yi.getJSF,e0=Yi.assert;function No(e,t){this.type=e,this.p=new Me(t.p,16),this.red=t.prime?Me.red(t.prime):Me.mont(this.p),this.zero=new Me(0).toRed(this.red),this.one=new Me(1).toRed(this.red),this.two=new Me(2).toRed(this.red),this.n=t.n&&new Me(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ma=No;No.prototype.point=function(){throw new Error("Not implemented")},No.prototype.validate=function(){throw new Error("Not implemented")},No.prototype._fixedNafMul=function(e,t){e0(e.precomputed);var r=e._getDoubles(),i=dc(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var n=[],c,g;for(c=0;c<i.length;c+=r.step){g=0;for(var m=c+r.step-1;m>=c;m--)g=(g<<1)+i[m];n.push(g)}for(var l=this.jpoint(null,null,null),w=this.jpoint(null,null,null),_=s;_>0;_--){for(c=0;c<n.length;c++)g=n[c],g===_?w=w.mixedAdd(r.points[c]):g===-_&&(w=w.mixedAdd(r.points[c].neg()));l=l.add(w)}return l.toP()},No.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,n=dc(t,r,this._bitLength),c=this.jpoint(null,null,null),g=n.length-1;g>=0;g--){for(var m=0;g>=0&&n[g]===0;g--)m++;if(g>=0&&m++,c=c.dblp(m),g<0)break;var l=n[g];e0(l!==0),e.type==="affine"?l>0?c=c.mixedAdd(s[l-1>>1]):c=c.mixedAdd(s[-l-1>>1].neg()):l>0?c=c.add(s[l-1>>1]):c=c.add(s[-l-1>>1].neg())}return e.type==="affine"?c.toP():c},No.prototype._wnafMulAdd=function(e,t,r,i,s){var n=this._wnafT1,c=this._wnafT2,g=this._wnafT3,m=0,l,w,_;for(l=0;l<i;l++){_=t[l];var I=_._getNAFPoints(e);n[l]=I.wnd,c[l]=I.points}for(l=i-1;l>=1;l-=2){var D=l-1,C=l;if(n[D]!==1||n[C]!==1){g[D]=dc(r[D],n[D],this._bitLength),g[C]=dc(r[C],n[C],this._bitLength),m=Math.max(g[D].length,m),m=Math.max(g[C].length,m);continue}var B=[t[D],null,null,t[C]];t[D].y.cmp(t[C].y)===0?(B[1]=t[D].add(t[C]),B[2]=t[D].toJ().mixedAdd(t[C].neg())):t[D].y.cmp(t[C].y.redNeg())===0?(B[1]=t[D].toJ().mixedAdd(t[C]),B[2]=t[D].add(t[C].neg())):(B[1]=t[D].toJ().mixedAdd(t[C]),B[2]=t[D].toJ().mixedAdd(t[C].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],Q=LL(r[D],r[C]);for(m=Math.max(Q[0].length,m),g[D]=new Array(m),g[C]=new Array(m),w=0;w<m;w++){var U=Q[0][w]|0,J=Q[1][w]|0;g[D][w]=F[(U+1)*3+(J+1)],g[C][w]=0,c[D]=B}}var z=this.jpoint(null,null,null),$=this._wnafT4;for(l=m;l>=0;l--){for(var q=0;l>=0;){var R=!0;for(w=0;w<i;w++)$[w]=g[w][l]|0,$[w]!==0&&(R=!1);if(!R)break;q++,l--}if(l>=0&&q++,z=z.dblp(q),l<0)break;for(w=0;w<i;w++){var H=$[w];H!==0&&(H>0?_=c[w][H-1>>1]:H<0&&(_=c[w][-H-1>>1].neg()),_.type==="affine"?z=z.mixedAdd(_):z=z.add(_))}}for(l=0;l<i;l++)c[l]=null;return s?z:z.toP()};function dn(e,t){this.curve=e,this.type=t,this.precomputed=null}No.BasePoint=dn,dn.prototype.eq=function(){throw new Error("Not implemented")},dn.prototype.validate=function(){return this.curve.validate(this)},No.prototype.decodePoint=function(e,t){e=Yi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?e0(e[e.length-1]%2===0):e[0]===7&&e0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},dn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},dn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},dn.prototype.encode=function(e,t){return Yi.encode(this._encode(t),e)},dn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},dn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},dn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var n=0;n<e;n++)i=i.dbl();r.push(i)}return{step:e,points:r}},dn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}},dn.prototype._getBeta=function(){return null},dn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Cp=yh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),kL=Yi.assert;function An(e){ma.call(this,"short",e),this.a=new Me(e.a,16).toRed(this.red),this.b=new Me(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Cp(An,ma);var zL=An;An.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Me(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Me(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],kL(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var n;return e.basis?n=e.basis.map(function(c){return{a:new Me(c.a,16),b:new Me(c.b,16)}}):n=this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},An.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Me.mont(e),r=new Me(2).toRed(t).redInvm(),i=r.redNeg(),s=new Me(3).toRed(t).redNeg().redSqrt().redMul(r),n=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[n,c]},An.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Me(1),n=new Me(0),c=new Me(0),g=new Me(1),m,l,w,_,I,D,C,B=0,F,Q;r.cmpn(0)!==0;){var U=i.div(r);F=i.sub(U.mul(r)),Q=c.sub(U.mul(s));var J=g.sub(U.mul(n));if(!w&&F.cmp(t)<0)m=C.neg(),l=s,w=F.neg(),_=Q;else if(w&&++B===2)break;C=F,i=r,r=F,c=s,s=Q,g=n,n=J}I=F.neg(),D=Q;var z=w.sqr().add(_.sqr()),$=I.sqr().add(D.sqr());return $.cmp(z)>=0&&(I=m,D=l),w.negative&&(w=w.neg(),_=_.neg()),I.negative&&(I=I.neg(),D=D.neg()),[{a:w,b:_},{a:I,b:D}]},An.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),n=r.b.neg().mul(e).divRound(this.n),c=s.mul(r.a),g=n.mul(i.a),m=s.mul(r.b),l=n.mul(i.b),w=e.sub(c).sub(g),_=m.add(l).neg();return{k1:w,k2:_}},An.prototype.pointFromX=function(e,t){e=new Me(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},An.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0},An.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,n=0;n<e.length;n++){var c=this._endoSplit(t[n]),g=e[n],m=g._getBeta();c.k1.negative&&(c.k1.ineg(),g=g.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[n*2]=g,i[n*2+1]=m,s[n*2]=c.k1,s[n*2+1]=c.k2}for(var l=this._wnafMulAdd(1,i,s,n*2,r),w=0;w<n*2;w++)i[w]=null,s[w]=null;return l};function jr(e,t,r,i){ma.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Me(t,16),this.y=new Me(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Cp(jr,ma.BasePoint),An.prototype.point=function(e,t,r){return new jr(this,e,t,r)},An.prototype.pointFromJSON=function(e,t){return jr.fromJSON(this,e,t)},jr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},jr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},jr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(c){return e.point(c[0],c[1],r)}var n=t[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(s))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(s))}},i},jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},jr.prototype.isInfinity=function(){return this.inf},jr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},jr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),n=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,c)},jr.prototype.getX=function(){return this.x.fromRed()},jr.prototype.getY=function(){return this.y.fromRed()},jr.prototype.mul=function(e){return e=new Me(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},jr.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},jr.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},jr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},jr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},jr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Wr(e,t,r,i){ma.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Me(0)):(this.x=new Me(t,16),this.y=new Me(r,16),this.z=new Me(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Cp(Wr,ma.BasePoint),An.prototype.jpoint=function(e,t,r){return new Wr(this,e,t,r)},Wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),n=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),g=i.redSub(s),m=n.redSub(c);if(g.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=g.redSqr(),w=l.redMul(g),_=i.redMul(l),I=m.redSqr().redIAdd(w).redISub(_).redISub(_),D=m.redMul(_.redISub(I)).redISub(n.redMul(w)),C=this.z.redMul(e.z).redMul(g);return this.curve.jpoint(I,D,C)},Wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,n=e.y.redMul(t).redMul(this.z),c=r.redSub(i),g=s.redSub(n);if(c.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),l=m.redMul(c),w=r.redMul(m),_=g.redSqr().redIAdd(l).redISub(w).redISub(w),I=g.redMul(w.redISub(_)).redISub(s.redMul(l)),D=this.z.redMul(c);return this.curve.jpoint(_,I,D)},Wr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,n=this.x,c=this.y,g=this.z,m=g.redSqr().redSqr(),l=c.redAdd(c);for(t=0;t<e;t++){var w=n.redSqr(),_=l.redSqr(),I=_.redSqr(),D=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(m)),C=n.redMul(_),B=D.redSqr().redISub(C.redAdd(C)),F=C.redISub(B),Q=D.redMul(F);Q=Q.redIAdd(Q).redISub(I);var U=l.redMul(g);t+1<e&&(m=m.redMul(I)),n=B,g=U,l=Q}return this.curve.jpoint(n,l.redMul(s),g)},Wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Wr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(n);c=c.redIAdd(c);var g=i.redAdd(i).redIAdd(i),m=g.redSqr().redISub(c).redISub(c),l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),e=m,t=g.redMul(c.redISub(m)).redISub(l),r=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),_=this.y.redSqr(),I=_.redSqr(),D=this.x.redAdd(_).redSqr().redISub(w).redISub(I);D=D.redIAdd(D);var C=w.redAdd(w).redIAdd(w),B=C.redSqr(),F=I.redIAdd(I);F=F.redIAdd(F),F=F.redIAdd(F),e=B.redISub(D).redISub(D),t=C.redMul(D.redISub(e)).redISub(F),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Wr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),n=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(n);c=c.redIAdd(c);var g=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=g.redSqr().redISub(c).redISub(c);e=m;var l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),t=g.redMul(c.redISub(m)).redISub(l),r=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),_=this.y.redSqr(),I=this.x.redMul(_),D=this.x.redSub(w).redMul(this.x.redAdd(w));D=D.redAdd(D).redIAdd(D);var C=I.redIAdd(I);C=C.redIAdd(C);var B=C.redAdd(C);e=D.redSqr().redISub(B),r=this.y.redAdd(this.z).redSqr().redISub(_).redISub(w);var F=_.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),t=D.redMul(C.redISub(e)).redISub(F)}return this.curve.jpoint(e,t,r)},Wr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),n=t.redSqr(),c=r.redSqr(),g=n.redAdd(n).redIAdd(n).redIAdd(e.redMul(s)),m=t.redAdd(t);m=m.redIAdd(m);var l=m.redMul(c),w=g.redSqr().redISub(l.redAdd(l)),_=l.redISub(w),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var D=g.redMul(_).redISub(I),C=r.redAdd(r).redMul(i);return this.curve.jpoint(w,D,C)},Wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),n=s.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(n);var g=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var l=s.redIAdd(c).redSqr().redISub(n).redISub(g).redISub(m),w=t.redMul(l);w=w.redIAdd(w),w=w.redIAdd(w);var _=this.x.redMul(g).redISub(w);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.y.redMul(l.redMul(m.redISub(l)).redISub(c.redMul(g)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var D=this.z.redAdd(c).redSqr().redISub(r).redISub(g);return this.curve.jpoint(_,I,D)},Wr.prototype.mul=function(e,t){return e=new Me(e,t),this.curve._wnafMul(this,e)},Wr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},Wr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}},Wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Tc=yh(function(e,t){var r=t;r.base=ma,r.short=zL,r.mont=null,r.edwards=null}),Fc=yh(function(e,t){var r=t,i=Yi.assert;function s(g){g.type==="short"?this.curve=new Tc.short(g):g.type==="edwards"?this.curve=new Tc.edwards(g):this.curve=new Tc.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function n(g,m){Object.defineProperty(r,g,{configurable:!0,enumerable:!0,get:function(){var l=new s(m);return Object.defineProperty(r,g,{configurable:!0,enumerable:!0,value:l}),l}})}n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:fs.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:fs.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:fs.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:fs.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:fs.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:fs.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:fs.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:fs.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Co(e){if(!(this instanceof Co))return new Co(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=jn.toArray(e.entropy,e.entropyEnc||"hex"),r=jn.toArray(e.nonce,e.nonceEnc||"hex"),i=jn.toArray(e.pers,e.persEnc||"hex");Np(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var y6=Co;Co.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Co.prototype._hmac=function(){return new fs.hmac(this.hash,this.K)},Co.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Co.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=jn.toArray(e,t),r=jn.toArray(r,i),Np(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Co.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=jn.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var n=s.slice(0,e);return this._update(r),this._reseed++,jn.encode(n,t)};var g1=Yi.assert;function oi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var v1=oi;oi.fromPublic=function(e,t,r){return t instanceof oi?t:new oi(e,{pub:t,pubEnc:r})},oi.fromPrivate=function(e,t,r){return t instanceof oi?t:new oi(e,{priv:t,privEnc:r})},oi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},oi.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},oi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},oi.prototype._importPrivate=function(e,t){this.priv=new Me(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},oi.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?g1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&g1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},oi.prototype.derive=function(e){return e.validate()||g1(e.validate(),"public point not validated"),e.mul(this.priv).getX()},oi.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},oi.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},oi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var $L=Yi.assert;function b0(e,t){if(e instanceof b0)return e;this._importDER(e,t)||($L(e.r&&e.s,"Signature without r or s"),this.r=new Me(e.r,16),this.s=new Me(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var pc=b0;function HL(){this.place=0}function m1(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var s=0,n=0,c=t.place;n<i;n++,c++)s<<=8,s|=e[c],s>>>=0;return s<=127?!1:(t.place=c,s)}function w6(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}b0.prototype._importDER=function(e,t){e=Yi.toArray(e,t);var r=new HL;if(e[r.place++]!==48)return!1;var i=m1(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=m1(e,r);if(s===!1)return!1;var n=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var c=m1(e,r);if(c===!1||e.length!==c+r.place)return!1;var g=e.slice(r.place,c+r.place);if(n[0]===0)if(n[1]&128)n=n.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new Me(n),this.s=new Me(g),this.recoveryParam=null,!0};function b1(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}b0.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=w6(t),r=w6(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];b1(i,t.length),i=i.concat(t),i.push(2),b1(i,r.length);var s=i.concat(r),n=[48];return b1(n,s.length),n=n.concat(s),Yi.encode(n,e)};var jL=function(){throw new Error("unsupported")},Y8=Yi.assert;function mn(e){if(!(this instanceof mn))return new mn(e);typeof e=="string"&&(Y8(Object.prototype.hasOwnProperty.call(Fc,e),"Unknown curve "+e),e=Fc[e]),e instanceof Fc.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var KL=mn;mn.prototype.keyPair=function(e){return new v1(this,e)},mn.prototype.keyFromPrivate=function(e,t){return v1.fromPrivate(this,e,t)},mn.prototype.keyFromPublic=function(e,t){return v1.fromPublic(this,e,t)},mn.prototype.genKeyPair=function(e){e||(e={});for(var t=new y6({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||jL(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Me(2));;){var s=new Me(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},mn.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},mn.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Me(e,16));for(var s=this.n.byteLength(),n=t.getPrivate().toArray("be",s),c=e.toArray("be",s),g=new y6({hash:this.hash,entropy:n,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new Me(1)),l=0;;l++){var w=i.k?i.k(l):new Me(g.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(m)>=0)){var _=this.g.mul(w);if(!_.isInfinity()){var I=_.getX(),D=I.umod(this.n);if(D.cmpn(0)!==0){var C=w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var B=(_.getY().isOdd()?1:0)|(I.cmp(D)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),B^=1),new pc({r:D,s:C,recoveryParam:B})}}}}}},mn.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Me(e,16)),r=this.keyFromPublic(r,i),t=new pc(t,"hex");var s=t.r,n=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var c=n.invm(this.n),g=c.mul(e).umod(this.n),m=c.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(g,r.getPublic(),m),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(g,r.getPublic(),m),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)},mn.prototype.recoverPubKey=function(e,t,r,i){Y8((3&r)===r,"The recovery param is more than two bits"),t=new pc(t,i);var s=this.n,n=new Me(e),c=t.r,g=t.s,m=r&1,l=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?c=this.curve.pointFromX(c.add(this.curve.n),m):c=this.curve.pointFromX(c,m);var w=t.r.invm(s),_=s.sub(n).mul(w).umod(s),I=g.mul(w).umod(s);return this.g.mulAdd(_,c,I)},mn.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new pc(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var s=0;s<4;s++){var n;try{n=this.recoverPubKey(e,t,s)}catch{continue}if(n.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var GL=yh(function(e,t){var r=t;r.version="6.5.4",r.utils=Yi,r.rand=function(){throw new Error("unsupported")},r.curve=Tc,r.curves=Fc,r.ec=KL,r.eddsa=null});GL.ec;var A6;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(A6||(A6={}));function Rp(e){return e.includes(":")}function uf(e){return Rp(e)?e.split(":")[0]:e}const QL={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function _6(e,t){const{message:r,code:i}=QL[e];return{message:t?`${r} ${t}`:r,code:i}}function E6(e,t){return!!Array.isArray(e)}function JL(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}var gc={exports:{}},M6;function VL(){return M6||(M6=1,function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Bi<"u"&&Bi,i=function(){function n(){this.fetch=!1,this.DOMException=r.DOMException}return n.prototype=r,new n}();(function(n){(function(c){var g=typeof n<"u"&&n||typeof self<"u"&&self||typeof Bi<"u"&&Bi||{},m={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(m.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(u){return u&&w.indexOf(Object.prototype.toString.call(u))>-1};function I(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(u)||u==="")throw new TypeError('Invalid character in header field name: "'+u+'"');return u.toLowerCase()}function D(u){return typeof u!="string"&&(u=String(u)),u}function C(u){var v={next:function(){var y=u.shift();return{done:y===void 0,value:y}}};return m.iterable&&(v[Symbol.iterator]=function(){return v}),v}function B(u){this.map={},u instanceof B?u.forEach(function(v,y){this.append(y,v)},this):Array.isArray(u)?u.forEach(function(v){if(v.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+v.length);this.append(v[0],v[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(v){this.append(v,u[v])},this)}B.prototype.append=function(u,v){u=I(u),v=D(v);var y=this.map[u];this.map[u]=y?y+", "+v:v},B.prototype.delete=function(u){delete this.map[I(u)]},B.prototype.get=function(u){return u=I(u),this.has(u)?this.map[u]:null},B.prototype.has=function(u){return this.map.hasOwnProperty(I(u))},B.prototype.set=function(u,v){this.map[I(u)]=D(v)},B.prototype.forEach=function(u,v){for(var y in this.map)this.map.hasOwnProperty(y)&&u.call(v,this.map[y],y,this)},B.prototype.keys=function(){var u=[];return this.forEach(function(v,y){u.push(y)}),C(u)},B.prototype.values=function(){var u=[];return this.forEach(function(v){u.push(v)}),C(u)},B.prototype.entries=function(){var u=[];return this.forEach(function(v,y){u.push([y,v])}),C(u)},m.iterable&&(B.prototype[Symbol.iterator]=B.prototype.entries);function F(u){if(!u._noBody){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}}function Q(u){return new Promise(function(v,y){u.onload=function(){v(u.result)},u.onerror=function(){y(u.error)}})}function U(u){var v=new FileReader,y=Q(v);return v.readAsArrayBuffer(u),y}function J(u){var v=new FileReader,y=Q(v),A=/charset=([A-Za-z0-9_-]+)/.exec(u.type),E=A?A[1]:"utf-8";return v.readAsText(u,E),y}function z(u){for(var v=new Uint8Array(u),y=new Array(v.length),A=0;A<v.length;A++)y[A]=String.fromCharCode(v[A]);return y.join("")}function $(u){if(u.slice)return u.slice(0);var v=new Uint8Array(u.byteLength);return v.set(new Uint8Array(u)),v.buffer}function q(){return this.bodyUsed=!1,this._initBody=function(u){this.bodyUsed=this.bodyUsed,this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:m.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:m.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:m.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():m.arrayBuffer&&m.blob&&l(u)?(this._bodyArrayBuffer=$(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||_(u))?this._bodyArrayBuffer=$(u):this._bodyText=u=Object.prototype.toString.call(u):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var u=F(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var u=F(this);return u||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(m.blob)return this.blob().then(U);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var u=F(this);if(u)return u;if(this._bodyBlob)return J(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(z(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(ot)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function H(u){var v=u.toUpperCase();return R.indexOf(v)>-1?v:u}function rt(u,v){if(!(this instanceof rt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v=v||{};var y=v.body;if(u instanceof rt){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,v.headers||(this.headers=new B(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!y&&u._bodyInit!=null&&(y=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new B(v.headers)),this.method=H(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal||function(){if("AbortController"in g){var p=new AbortController;return p.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(y),(this.method==="GET"||this.method==="HEAD")&&(v.cache==="no-store"||v.cache==="no-cache")){var A=/([?&])_=[^&]*/;if(A.test(this.url))this.url=this.url.replace(A,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}rt.prototype.clone=function(){return new rt(this,{body:this._bodyInit})};function ot(u){var v=new FormData;return u.trim().split("&").forEach(function(y){if(y){var A=y.split("="),E=A.shift().replace(/\+/g," "),p=A.join("=").replace(/\+/g," ");v.append(decodeURIComponent(E),decodeURIComponent(p))}}),v}function G(u){var v=new B,y=u.replace(/\r?\n[\t ]+/g," ");return y.split("\r").map(function(A){return A.indexOf(`
`)===0?A.substr(1,A.length):A}).forEach(function(A){var E=A.split(":"),p=E.shift().trim();if(p){var f=E.join(":").trim();try{v.append(p,f)}catch(M){console.warn("Response "+M.message)}}}),v}q.call(rt.prototype);function x(u,v){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=v.statusText===void 0?"":""+v.statusText,this.headers=new B(v.headers),this.url=v.url||"",this._initBody(u)}q.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new B(this.headers),url:this.url})},x.error=function(){var u=new x(null,{status:200,statusText:""});return u.ok=!1,u.status=0,u.type="error",u};var o=[301,302,303,307,308];x.redirect=function(u,v){if(o.indexOf(v)===-1)throw new RangeError("Invalid status code");return new x(null,{status:v,headers:{location:u}})},c.DOMException=g.DOMException;try{new c.DOMException}catch{c.DOMException=function(v,y){this.message=v,this.name=y;var A=Error(v);this.stack=A.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function h(u,v){return new Promise(function(y,A){var E=new rt(u,v);if(E.signal&&E.signal.aborted)return A(new c.DOMException("Aborted","AbortError"));var p=new XMLHttpRequest;function f(){p.abort()}p.onload=function(){var W={statusText:p.statusText,headers:G(p.getAllResponseHeaders()||"")};E.url.indexOf("file://")===0&&(p.status<200||p.status>599)?W.status=200:W.status=p.status,W.url="responseURL"in p?p.responseURL:W.headers.get("X-Request-URL");var b="response"in p?p.response:p.responseText;setTimeout(function(){y(new x(b,W))},0)},p.onerror=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},p.ontimeout=function(){setTimeout(function(){A(new TypeError("Network request timed out"))},0)},p.onabort=function(){setTimeout(function(){A(new c.DOMException("Aborted","AbortError"))},0)};function M(W){try{return W===""&&g.location.href?g.location.href:W}catch{return W}}if(p.open(E.method,M(E.url),!0),E.credentials==="include"?p.withCredentials=!0:E.credentials==="omit"&&(p.withCredentials=!1),"responseType"in p&&(m.blob?p.responseType="blob":m.arrayBuffer&&(p.responseType="arraybuffer")),v&&typeof v.headers=="object"&&!(v.headers instanceof B||g.Headers&&v.headers instanceof g.Headers)){var V=[];Object.getOwnPropertyNames(v.headers).forEach(function(W){V.push(I(W)),p.setRequestHeader(W,D(v.headers[W]))}),E.headers.forEach(function(W,b){V.indexOf(b)===-1&&p.setRequestHeader(b,W)})}else E.headers.forEach(function(W,b){p.setRequestHeader(b,W)});E.signal&&(E.signal.addEventListener("abort",f),p.onreadystatechange=function(){p.readyState===4&&E.signal.removeEventListener("abort",f)}),p.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return h.polyfill=!0,g.fetch||(g.fetch=h,g.Headers=B,g.Request=rt,g.Response=x),c.Headers=B,c.Request=rt,c.Response=x,c.fetch=h,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(gc,gc.exports)),gc.exports}var YL=VL();const S6=i0(YL);var WL=Object.defineProperty,XL=Object.defineProperties,ZL=Object.getOwnPropertyDescriptors,x6=Object.getOwnPropertySymbols,tk=Object.prototype.hasOwnProperty,ek=Object.prototype.propertyIsEnumerable,I6=(e,t,r)=>t in e?WL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D6=(e,t)=>{for(var r in t)tk.call(t,r)&&I6(e,r,t[r]);if(x6)for(var r of x6(t))ek.call(t,r)&&I6(e,r,t[r]);return e},N6=(e,t)=>XL(e,ZL(t));const rk={Accept:"application/json","Content-Type":"application/json"},ik="POST",C6={headers:rk,method:ik},R6=10;class Ps{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Wi.EventEmitter,this.isAvailable=!1,this.registering=!1,!Dm(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=oo(t),i=await(await S6(this.url,N6(D6({},C6),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!Dm(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,s)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),s(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));i()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=oo({id:1,jsonrpc:"2.0",method:"test",params:[]});await S6(t,N6(D6({},C6),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?aa(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),s=i.message||i.toString(),n=p0(t,s);this.events.emit("payload",n)}parseError(t,r=this.url){return Jy(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>R6&&this.events.setMaxListeners(R6)}}const P6="error",nk="wss://relay.walletconnect.org",sk="wc",ok="universal_provider",O6=`${sk}@2:${ok}:`,W8="https://rpc.walletconnect.org/v1/",Ha="generic",ak=`${W8}bundler`,Jn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ep={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,i="4.17.21",s=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",g="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",l=500,w="__lodash_placeholder__",_=1,I=2,D=4,C=1,B=2,F=1,Q=2,U=4,J=8,z=16,$=32,q=64,R=128,H=256,rt=512,ot=30,G="...",x=800,o=16,h=1,u=2,v=3,y=1/0,A=9007199254740991,E=17976931348623157e292,p=NaN,f=4294967295,M=f-1,V=f>>>1,W=[["ary",R],["bind",F],["bindKey",Q],["curry",J],["curryRight",z],["flip",rt],["partial",$],["partialRight",q],["rearg",H]],b="[object Arguments]",L="[object Array]",O="[object AsyncFunction]",T="[object Boolean]",j="[object Date]",N="[object DOMException]",k="[object Error]",Z="[object Function]",nt="[object GeneratorFunction]",et="[object Map]",ct="[object Number]",pt="[object Null]",bt="[object Object]",ie="[object Promise]",yt="[object Proxy]",_t="[object RegExp]",Gt="[object Set]",lt="[object String]",wt="[object Symbol]",Yt="[object Undefined]",ut="[object WeakMap]",At="[object WeakSet]",Kt="[object ArrayBuffer]",dt="[object DataView]",It="[object Float32Array]",Jt="[object Float64Array]",vt="[object Int8Array]",Rt="[object Int16Array]",te="[object Int32Array]",mt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",ce="[object Uint16Array]",Tt="[object Uint32Array]",Vt=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wt=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,Mt=RegExp(Wt.source),Lt=RegExp(pe.source),oe=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(ae.source),zt=/^\s+/,fe=/\s/,xt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,Ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xt=/[()=,{}\[\]\/\s]/,be=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qt=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=/($^)/,Dr=/['\n\r\u2028\u2029\\]/g,pr="\\ud800-\\udfff",Nr="\\u0300-\\u036f",Cr="\\ufe20-\\ufe2f",gr="\\u20d0-\\u20ff",Mr=Nr+Cr+gr,Sr="\\u2700-\\u27bf",Ze="a-z\\xdf-\\xf6\\xf8-\\xff",Rr="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Or="\\u2000-\\u206f",ai=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kf="A-Z\\xc0-\\xd6\\xd8-\\xde",Gf="\\ufe0e\\ufe0f",To=Rr+Pr+Or+ai,wh="['’]",Fo="["+pr+"]",Ah="["+To+"]",qo="["+Mr+"]",Qf="\\d+",y0="["+Sr+"]",Jf="["+Ze+"]",Vf="[^"+pr+To+Qf+Sr+Ze+Kf+"]",ya="\\ud83c[\\udffb-\\udfff]",w0="(?:"+qo+"|"+ya+")",Yf="[^"+pr+"]",wa="(?:\\ud83c[\\udde6-\\uddff]){2}",ho="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+Kf+"]",Wf="\\u200d",Xf="(?:"+Jf+"|"+Vf+")",Vn="(?:"+ki+"|"+Vf+")",Zf="(?:"+wh+"(?:d|ll|m|re|s|t|ve))?",tu="(?:"+wh+"(?:D|LL|M|RE|S|T|VE))?",eu=w0+"?",ru="["+Gf+"]?",A0="(?:"+Wf+"(?:"+[Yf,wa,ho].join("|")+")"+ru+eu+")*",Os="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",iu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nu=ru+eu+A0,Aa="(?:"+[y0,wa,ho].join("|")+")"+nu,_0="(?:"+[Yf+qo+"?",qo,wa,ho,Fo].join("|")+")",_h=RegExp(wh,"g"),E0=RegExp(qo,"g"),_a=RegExp(ya+"(?="+ya+")|"+_0+nu,"g"),su=RegExp([ki+"?"+Jf+"+"+Zf+"(?="+[Ah,ki,"$"].join("|")+")",Vn+"+"+tu+"(?="+[Ah,ki+Xf,"$"].join("|")+")",ki+"?"+Xf+"+"+Zf,ki+"+"+tu,iu,Os,Qf,Aa].join("|"),"g"),ou=RegExp("["+Wf+pr+Mr+Gf+"]"),Uo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],M0=-1,tr={};tr[It]=tr[Jt]=tr[vt]=tr[Rt]=tr[te]=tr[mt]=tr[Pt]=tr[ce]=tr[Tt]=!0,tr[b]=tr[L]=tr[Kt]=tr[T]=tr[dt]=tr[j]=tr[k]=tr[Z]=tr[et]=tr[ct]=tr[bt]=tr[_t]=tr[Gt]=tr[lt]=tr[ut]=!1;var We={};We[b]=We[L]=We[Kt]=We[dt]=We[T]=We[j]=We[It]=We[Jt]=We[vt]=We[Rt]=We[te]=We[et]=We[ct]=We[bt]=We[_t]=We[Gt]=We[lt]=We[wt]=We[mt]=We[Pt]=We[ce]=We[Tt]=!0,We[k]=We[Z]=We[ut]=!1;var tt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,we=parseInt,hr=typeof of=="object"&&of&&of.Object===Object&&of,xr=typeof self=="object"&&self&&self.Object===Object&&self,Le=hr||xr||Function("return this")(),rr=t&&!t.nodeType&&t,yr=rr&&!0&&e&&!e.nodeType&&e,Ei=yr&&yr.exports===rr,Ir=Ei&&hr.process,fr=function(){try{var ht=yr&&yr.require&&yr.require("util").types;return ht||Ir&&Ir.binding&&Ir.binding("util")}catch{}}(),hi=fr&&fr.isArrayBuffer,En=fr&&fr.isDate,Xi=fr&&fr.isMap,Yn=fr&&fr.isRegExp,Eh=fr&&fr.isSet,Lo=fr&&fr.isTypedArray;function Lr(ht,Et,gt){switch(gt.length){case 0:return ht.call(Et);case 1:return ht.call(Et,gt[0]);case 2:return ht.call(Et,gt[0],gt[1]);case 3:return ht.call(Et,gt[0],gt[1],gt[2])}return ht.apply(Et,gt)}function t5(ht,Et,gt,he){for(var ye=-1,Qe=ht==null?0:ht.length;++ye<Qe;){var Br=ht[ye];Et(he,Br,gt(Br),ht)}return he}function Zi(ht,Et){for(var gt=-1,he=ht==null?0:ht.length;++gt<he&&Et(ht[gt],gt,ht)!==!1;);return ht}function e5(ht,Et){for(var gt=ht==null?0:ht.length;gt--&&Et(ht[gt],gt,ht)!==!1;);return ht}function Bp(ht,Et){for(var gt=-1,he=ht==null?0:ht.length;++gt<he;)if(!Et(ht[gt],gt,ht))return!1;return!0}function fo(ht,Et){for(var gt=-1,he=ht==null?0:ht.length,ye=0,Qe=[];++gt<he;){var Br=ht[gt];Et(Br,gt,ht)&&(Qe[ye++]=Br)}return Qe}function hu(ht,Et){var gt=ht==null?0:ht.length;return!!gt&&Ea(ht,Et,0)>-1}function S0(ht,Et,gt){for(var he=-1,ye=ht==null?0:ht.length;++he<ye;)if(gt(Et,ht[he]))return!0;return!1}function cr(ht,Et){for(var gt=-1,he=ht==null?0:ht.length,ye=Array(he);++gt<he;)ye[gt]=Et(ht[gt],gt,ht);return ye}function uo(ht,Et){for(var gt=-1,he=Et.length,ye=ht.length;++gt<he;)ht[ye+gt]=Et[gt];return ht}function x0(ht,Et,gt,he){var ye=-1,Qe=ht==null?0:ht.length;for(he&&Qe&&(gt=ht[++ye]);++ye<Qe;)gt=Et(gt,ht[ye],ye,ht);return gt}function r5(ht,Et,gt,he){var ye=ht==null?0:ht.length;for(he&&ye&&(gt=ht[--ye]);ye--;)gt=Et(gt,ht[ye],ye,ht);return gt}function I0(ht,Et){for(var gt=-1,he=ht==null?0:ht.length;++gt<he;)if(Et(ht[gt],gt,ht))return!0;return!1}var i5=D0("length");function n5(ht){return ht.split("")}function s5(ht){return ht.match(Ct)||[]}function Tp(ht,Et,gt){var he;return gt(ht,function(ye,Qe,Br){if(Et(ye,Qe,Br))return he=Qe,!1}),he}function fu(ht,Et,gt,he){for(var ye=ht.length,Qe=gt+(he?1:-1);he?Qe--:++Qe<ye;)if(Et(ht[Qe],Qe,ht))return Qe;return-1}function Ea(ht,Et,gt){return Et===Et?m5(ht,Et,gt):fu(ht,Fp,gt)}function o5(ht,Et,gt,he){for(var ye=gt-1,Qe=ht.length;++ye<Qe;)if(he(ht[ye],Et))return ye;return-1}function Fp(ht){return ht!==ht}function qp(ht,Et){var gt=ht==null?0:ht.length;return gt?C0(ht,Et)/gt:p}function D0(ht){return function(Et){return Et==null?r:Et[ht]}}function N0(ht){return function(Et){return ht==null?r:ht[Et]}}function Up(ht,Et,gt,he,ye){return ye(ht,function(Qe,Br,ir){gt=he?(he=!1,Qe):Et(gt,Qe,Br,ir)}),gt}function a5(ht,Et){var gt=ht.length;for(ht.sort(Et);gt--;)ht[gt]=ht[gt].value;return ht}function C0(ht,Et){for(var gt,he=-1,ye=ht.length;++he<ye;){var Qe=Et(ht[he]);Qe!==r&&(gt=gt===r?Qe:gt+Qe)}return gt}function R0(ht,Et){for(var gt=-1,he=Array(ht);++gt<ht;)he[gt]=Et(gt);return he}function h5(ht,Et){return cr(Et,function(gt){return[gt,ht[gt]]})}function Lp(ht){return ht&&ht.slice(0,Hp(ht)+1).replace(zt,"")}function zi(ht){return function(Et){return ht(Et)}}function P0(ht,Et){return cr(Et,function(gt){return ht[gt]})}function Mh(ht,Et){return ht.has(Et)}function kp(ht,Et){for(var gt=-1,he=ht.length;++gt<he&&Ea(Et,ht[gt],0)>-1;);return gt}function zp(ht,Et){for(var gt=ht.length;gt--&&Ea(Et,ht[gt],0)>-1;);return gt}function f5(ht,Et){for(var gt=ht.length,he=0;gt--;)ht[gt]===Et&&++he;return he}var u5=N0(tt),c5=N0(at);function l5(ht){return"\\"+se[ht]}function d5(ht,Et){return ht==null?r:ht[Et]}function Ma(ht){return ou.test(ht)}function p5(ht){return Uo.test(ht)}function g5(ht){for(var Et,gt=[];!(Et=ht.next()).done;)gt.push(Et.value);return gt}function O0(ht){var Et=-1,gt=Array(ht.size);return ht.forEach(function(he,ye){gt[++Et]=[ye,he]}),gt}function $p(ht,Et){return function(gt){return ht(Et(gt))}}function co(ht,Et){for(var gt=-1,he=ht.length,ye=0,Qe=[];++gt<he;){var Br=ht[gt];(Br===Et||Br===w)&&(ht[gt]=w,Qe[ye++]=gt)}return Qe}function uu(ht){var Et=-1,gt=Array(ht.size);return ht.forEach(function(he){gt[++Et]=he}),gt}function v5(ht){var Et=-1,gt=Array(ht.size);return ht.forEach(function(he){gt[++Et]=[he,he]}),gt}function m5(ht,Et,gt){for(var he=gt-1,ye=ht.length;++he<ye;)if(ht[he]===Et)return he;return-1}function b5(ht,Et,gt){for(var he=gt+1;he--;)if(ht[he]===Et)return he;return he}function Sa(ht){return Ma(ht)?w5(ht):i5(ht)}function Mn(ht){return Ma(ht)?A5(ht):n5(ht)}function Hp(ht){for(var Et=ht.length;Et--&&fe.test(ht.charAt(Et)););return Et}var y5=N0(qt);function w5(ht){for(var Et=_a.lastIndex=0;_a.test(ht);)++Et;return Et}function A5(ht){return ht.match(_a)||[]}function _5(ht){return ht.match(su)||[]}var E5=function ht(Et){Et=Et==null?Le:xa.defaults(Le.Object(),Et,xa.pick(Le,au));var gt=Et.Array,he=Et.Date,ye=Et.Error,Qe=Et.Function,Br=Et.Math,ir=Et.Object,B0=Et.RegExp,M5=Et.String,tn=Et.TypeError,cu=gt.prototype,S5=Qe.prototype,Ia=ir.prototype,lu=Et["__core-js_shared__"],du=S5.toString,Ye=Ia.hasOwnProperty,x5=0,jp=function(){var a=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),pu=Ia.toString,I5=du.call(ir),D5=Le._,N5=B0("^"+du.call(Ye).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gu=Ei?Et.Buffer:r,lo=Et.Symbol,vu=Et.Uint8Array,Kp=gu?gu.allocUnsafe:r,mu=$p(ir.getPrototypeOf,ir),Gp=ir.create,Qp=Ia.propertyIsEnumerable,bu=cu.splice,Jp=lo?lo.isConcatSpreadable:r,Sh=lo?lo.iterator:r,ko=lo?lo.toStringTag:r,yu=function(){try{var a=Ko(ir,"defineProperty");return a({},"",{}),a}catch{}}(),C5=Et.clearTimeout!==Le.clearTimeout&&Et.clearTimeout,R5=he&&he.now!==Le.Date.now&&he.now,P5=Et.setTimeout!==Le.setTimeout&&Et.setTimeout,wu=Br.ceil,Au=Br.floor,T0=ir.getOwnPropertySymbols,O5=gu?gu.isBuffer:r,Vp=Et.isFinite,B5=cu.join,T5=$p(ir.keys,ir),Tr=Br.max,ri=Br.min,F5=he.now,q5=Et.parseInt,Yp=Br.random,U5=cu.reverse,F0=Ko(Et,"DataView"),xh=Ko(Et,"Map"),q0=Ko(Et,"Promise"),Da=Ko(Et,"Set"),Ih=Ko(Et,"WeakMap"),Dh=Ko(ir,"create"),_u=Ih&&new Ih,Na={},L5=Go(F0),k5=Go(xh),z5=Go(q0),$5=Go(Da),H5=Go(Ih),Eu=lo?lo.prototype:r,Nh=Eu?Eu.valueOf:r,Wp=Eu?Eu.toString:r;function Y(a){if(vr(a)&&!Ae(a)&&!(a instanceof Pe)){if(a instanceof en)return a;if(Ye.call(a,"__wrapped__"))return X2(a)}return new en(a)}var Ca=function(){function a(){}return function(d){if(!lr(d))return{};if(Gp)return Gp(d);a.prototype=d;var S=new a;return a.prototype=r,S}}();function Mu(){}function en(a,d){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=r}Y.templateSettings={escape:oe,evaluate:St,interpolate:kt,variable:"",imports:{_:Y}},Y.prototype=Mu.prototype,Y.prototype.constructor=Y,en.prototype=Ca(Mu.prototype),en.prototype.constructor=en;function Pe(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function j5(){var a=new Pe(this.__wrapped__);return a.__actions__=Mi(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Mi(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Mi(this.__views__),a}function K5(){if(this.__filtered__){var a=new Pe(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function G5(){var a=this.__wrapped__.value(),d=this.__dir__,S=Ae(a),P=d<0,K=S?a.length:0,X=nw(0,K,this.__views__),it=X.start,st=X.end,ft=st-it,Ot=P?st:it-1,Bt=this.__iteratees__,$t=Bt.length,re=0,de=ri(ft,this.__takeCount__);if(!S||!P&&K==ft&&de==ft)return A2(a,this.__actions__);var ve=[];t:for(;ft--&&re<de;){Ot+=d;for(var Ie=-1,me=a[Ot];++Ie<$t;){var Ce=Bt[Ie],ke=Ce.iteratee,ji=Ce.type,ci=ke(me);if(ji==u)me=ci;else if(!ci){if(ji==h)continue t;break t}}ve[re++]=me}return ve}Pe.prototype=Ca(Mu.prototype),Pe.prototype.constructor=Pe;function zo(a){var d=-1,S=a==null?0:a.length;for(this.clear();++d<S;){var P=a[d];this.set(P[0],P[1])}}function Q5(){this.__data__=Dh?Dh(null):{},this.size=0}function J5(a){var d=this.has(a)&&delete this.__data__[a];return this.size-=d?1:0,d}function V5(a){var d=this.__data__;if(Dh){var S=d[a];return S===m?r:S}return Ye.call(d,a)?d[a]:r}function Y5(a){var d=this.__data__;return Dh?d[a]!==r:Ye.call(d,a)}function W5(a,d){var S=this.__data__;return this.size+=this.has(a)?0:1,S[a]=Dh&&d===r?m:d,this}zo.prototype.clear=Q5,zo.prototype.delete=J5,zo.prototype.get=V5,zo.prototype.has=Y5,zo.prototype.set=W5;function Bs(a){var d=-1,S=a==null?0:a.length;for(this.clear();++d<S;){var P=a[d];this.set(P[0],P[1])}}function X5(){this.__data__=[],this.size=0}function Z5(a){var d=this.__data__,S=Su(d,a);if(S<0)return!1;var P=d.length-1;return S==P?d.pop():bu.call(d,S,1),--this.size,!0}function t4(a){var d=this.__data__,S=Su(d,a);return S<0?r:d[S][1]}function e4(a){return Su(this.__data__,a)>-1}function r4(a,d){var S=this.__data__,P=Su(S,a);return P<0?(++this.size,S.push([a,d])):S[P][1]=d,this}Bs.prototype.clear=X5,Bs.prototype.delete=Z5,Bs.prototype.get=t4,Bs.prototype.has=e4,Bs.prototype.set=r4;function Ts(a){var d=-1,S=a==null?0:a.length;for(this.clear();++d<S;){var P=a[d];this.set(P[0],P[1])}}function i4(){this.size=0,this.__data__={hash:new zo,map:new(xh||Bs),string:new zo}}function n4(a){var d=qu(this,a).delete(a);return this.size-=d?1:0,d}function s4(a){return qu(this,a).get(a)}function o4(a){return qu(this,a).has(a)}function a4(a,d){var S=qu(this,a),P=S.size;return S.set(a,d),this.size+=S.size==P?0:1,this}Ts.prototype.clear=i4,Ts.prototype.delete=n4,Ts.prototype.get=s4,Ts.prototype.has=o4,Ts.prototype.set=a4;function $o(a){var d=-1,S=a==null?0:a.length;for(this.__data__=new Ts;++d<S;)this.add(a[d])}function h4(a){return this.__data__.set(a,m),this}function f4(a){return this.__data__.has(a)}$o.prototype.add=$o.prototype.push=h4,$o.prototype.has=f4;function Sn(a){var d=this.__data__=new Bs(a);this.size=d.size}function u4(){this.__data__=new Bs,this.size=0}function c4(a){var d=this.__data__,S=d.delete(a);return this.size=d.size,S}function l4(a){return this.__data__.get(a)}function d4(a){return this.__data__.has(a)}function p4(a,d){var S=this.__data__;if(S instanceof Bs){var P=S.__data__;if(!xh||P.length<s-1)return P.push([a,d]),this.size=++S.size,this;S=this.__data__=new Ts(P)}return S.set(a,d),this.size=S.size,this}Sn.prototype.clear=u4,Sn.prototype.delete=c4,Sn.prototype.get=l4,Sn.prototype.has=d4,Sn.prototype.set=p4;function Xp(a,d){var S=Ae(a),P=!S&&Qo(a),K=!S&&!P&&bo(a),X=!S&&!P&&!K&&Ba(a),it=S||P||K||X,st=it?R0(a.length,M5):[],ft=st.length;for(var Ot in a)(d||Ye.call(a,Ot))&&!(it&&(Ot=="length"||K&&(Ot=="offset"||Ot=="parent")||X&&(Ot=="buffer"||Ot=="byteLength"||Ot=="byteOffset")||Ls(Ot,ft)))&&st.push(Ot);return st}function Zp(a){var d=a.length;return d?a[J0(0,d-1)]:r}function g4(a,d){return Uu(Mi(a),Ho(d,0,a.length))}function v4(a){return Uu(Mi(a))}function U0(a,d,S){(S!==r&&!xn(a[d],S)||S===r&&!(d in a))&&Fs(a,d,S)}function Ch(a,d,S){var P=a[d];(!(Ye.call(a,d)&&xn(P,S))||S===r&&!(d in a))&&Fs(a,d,S)}function Su(a,d){for(var S=a.length;S--;)if(xn(a[S][0],d))return S;return-1}function m4(a,d,S,P){return po(a,function(K,X,it){d(P,K,S(K),it)}),P}function t2(a,d){return a&&Xn(d,kr(d),a)}function b4(a,d){return a&&Xn(d,xi(d),a)}function Fs(a,d,S){d=="__proto__"&&yu?yu(a,d,{configurable:!0,enumerable:!0,value:S,writable:!0}):a[d]=S}function L0(a,d){for(var S=-1,P=d.length,K=gt(P),X=a==null;++S<P;)K[S]=X?r:yl(a,d[S]);return K}function Ho(a,d,S){return a===a&&(S!==r&&(a=a<=S?a:S),d!==r&&(a=a>=d?a:d)),a}function rn(a,d,S,P,K,X){var it,st=d&_,ft=d&I,Ot=d&D;if(S&&(it=K?S(a,P,K,X):S(a)),it!==r)return it;if(!lr(a))return a;var Bt=Ae(a);if(Bt){if(it=ow(a),!st)return Mi(a,it)}else{var $t=ii(a),re=$t==Z||$t==nt;if(bo(a))return M2(a,st);if($t==bt||$t==b||re&&!K){if(it=ft||re?{}:H2(a),!st)return ft?V4(a,b4(it,a)):J4(a,t2(it,a))}else{if(!We[$t])return K?a:{};it=aw(a,$t,st)}}X||(X=new Sn);var de=X.get(a);if(de)return de;X.set(a,it),bg(a)?a.forEach(function(me){it.add(rn(me,d,S,me,a,X))}):vg(a)&&a.forEach(function(me,Ce){it.set(Ce,rn(me,d,S,Ce,a,X))});var ve=Ot?ft?sl:nl:ft?xi:kr,Ie=Bt?r:ve(a);return Zi(Ie||a,function(me,Ce){Ie&&(Ce=me,me=a[Ce]),Ch(it,Ce,rn(me,d,S,Ce,a,X))}),it}function y4(a){var d=kr(a);return function(S){return e2(S,a,d)}}function e2(a,d,S){var P=S.length;if(a==null)return!P;for(a=ir(a);P--;){var K=S[P],X=d[K],it=a[K];if(it===r&&!(K in a)||!X(it))return!1}return!0}function r2(a,d,S){if(typeof a!="function")throw new tn(c);return qh(function(){a.apply(r,S)},d)}function Rh(a,d,S,P){var K=-1,X=hu,it=!0,st=a.length,ft=[],Ot=d.length;if(!st)return ft;S&&(d=cr(d,zi(S))),P?(X=S0,it=!1):d.length>=s&&(X=Mh,it=!1,d=new $o(d));t:for(;++K<st;){var Bt=a[K],$t=S==null?Bt:S(Bt);if(Bt=P||Bt!==0?Bt:0,it&&$t===$t){for(var re=Ot;re--;)if(d[re]===$t)continue t;ft.push(Bt)}else X(d,$t,P)||ft.push(Bt)}return ft}var po=N2(Wn),i2=N2(z0,!0);function w4(a,d){var S=!0;return po(a,function(P,K,X){return S=!!d(P,K,X),S}),S}function xu(a,d,S){for(var P=-1,K=a.length;++P<K;){var X=a[P],it=d(X);if(it!=null&&(st===r?it===it&&!Hi(it):S(it,st)))var st=it,ft=X}return ft}function A4(a,d,S,P){var K=a.length;for(S=Se(S),S<0&&(S=-S>K?0:K+S),P=P===r||P>K?K:Se(P),P<0&&(P+=K),P=S>P?0:wg(P);S<P;)a[S++]=d;return a}function n2(a,d){var S=[];return po(a,function(P,K,X){d(P,K,X)&&S.push(P)}),S}function Jr(a,d,S,P,K){var X=-1,it=a.length;for(S||(S=fw),K||(K=[]);++X<it;){var st=a[X];d>0&&S(st)?d>1?Jr(st,d-1,S,P,K):uo(K,st):P||(K[K.length]=st)}return K}var k0=C2(),s2=C2(!0);function Wn(a,d){return a&&k0(a,d,kr)}function z0(a,d){return a&&s2(a,d,kr)}function Iu(a,d){return fo(d,function(S){return ks(a[S])})}function jo(a,d){d=vo(d,a);for(var S=0,P=d.length;a!=null&&S<P;)a=a[Zn(d[S++])];return S&&S==P?a:r}function o2(a,d,S){var P=d(a);return Ae(a)?P:uo(P,S(a))}function fi(a){return a==null?a===r?Yt:pt:ko&&ko in ir(a)?iw(a):vw(a)}function $0(a,d){return a>d}function _4(a,d){return a!=null&&Ye.call(a,d)}function E4(a,d){return a!=null&&d in ir(a)}function M4(a,d,S){return a>=ri(d,S)&&a<Tr(d,S)}function H0(a,d,S){for(var P=S?S0:hu,K=a[0].length,X=a.length,it=X,st=gt(X),ft=1/0,Ot=[];it--;){var Bt=a[it];it&&d&&(Bt=cr(Bt,zi(d))),ft=ri(Bt.length,ft),st[it]=!S&&(d||K>=120&&Bt.length>=120)?new $o(it&&Bt):r}Bt=a[0];var $t=-1,re=st[0];t:for(;++$t<K&&Ot.length<ft;){var de=Bt[$t],ve=d?d(de):de;if(de=S||de!==0?de:0,!(re?Mh(re,ve):P(Ot,ve,S))){for(it=X;--it;){var Ie=st[it];if(!(Ie?Mh(Ie,ve):P(a[it],ve,S)))continue t}re&&re.push(ve),Ot.push(de)}}return Ot}function S4(a,d,S,P){return Wn(a,function(K,X,it){d(P,S(K),X,it)}),P}function Ph(a,d,S){d=vo(d,a),a=Q2(a,d);var P=a==null?a:a[Zn(sn(d))];return P==null?r:Lr(P,a,S)}function a2(a){return vr(a)&&fi(a)==b}function x4(a){return vr(a)&&fi(a)==Kt}function I4(a){return vr(a)&&fi(a)==j}function Oh(a,d,S,P,K){return a===d?!0:a==null||d==null||!vr(a)&&!vr(d)?a!==a&&d!==d:D4(a,d,S,P,Oh,K)}function D4(a,d,S,P,K,X){var it=Ae(a),st=Ae(d),ft=it?L:ii(a),Ot=st?L:ii(d);ft=ft==b?bt:ft,Ot=Ot==b?bt:Ot;var Bt=ft==bt,$t=Ot==bt,re=ft==Ot;if(re&&bo(a)){if(!bo(d))return!1;it=!0,Bt=!1}if(re&&!Bt)return X||(X=new Sn),it||Ba(a)?k2(a,d,S,P,K,X):ew(a,d,ft,S,P,K,X);if(!(S&C)){var de=Bt&&Ye.call(a,"__wrapped__"),ve=$t&&Ye.call(d,"__wrapped__");if(de||ve){var Ie=de?a.value():a,me=ve?d.value():d;return X||(X=new Sn),K(Ie,me,S,P,X)}}return re?(X||(X=new Sn),rw(a,d,S,P,K,X)):!1}function N4(a){return vr(a)&&ii(a)==et}function j0(a,d,S,P){var K=S.length,X=K,it=!P;if(a==null)return!X;for(a=ir(a);K--;){var st=S[K];if(it&&st[2]?st[1]!==a[st[0]]:!(st[0]in a))return!1}for(;++K<X;){st=S[K];var ft=st[0],Ot=a[ft],Bt=st[1];if(it&&st[2]){if(Ot===r&&!(ft in a))return!1}else{var $t=new Sn;if(P)var re=P(Ot,Bt,ft,a,d,$t);if(!(re===r?Oh(Bt,Ot,C|B,P,$t):re))return!1}}return!0}function h2(a){if(!lr(a)||cw(a))return!1;var d=ks(a)?N5:He;return d.test(Go(a))}function C4(a){return vr(a)&&fi(a)==_t}function R4(a){return vr(a)&&ii(a)==Gt}function P4(a){return vr(a)&&ju(a.length)&&!!tr[fi(a)]}function f2(a){return typeof a=="function"?a:a==null?Ii:typeof a=="object"?Ae(a)?l2(a[0],a[1]):c2(a):Rg(a)}function K0(a){if(!Fh(a))return T5(a);var d=[];for(var S in ir(a))Ye.call(a,S)&&S!="constructor"&&d.push(S);return d}function O4(a){if(!lr(a))return gw(a);var d=Fh(a),S=[];for(var P in a)P=="constructor"&&(d||!Ye.call(a,P))||S.push(P);return S}function G0(a,d){return a<d}function u2(a,d){var S=-1,P=Si(a)?gt(a.length):[];return po(a,function(K,X,it){P[++S]=d(K,X,it)}),P}function c2(a){var d=al(a);return d.length==1&&d[0][2]?K2(d[0][0],d[0][1]):function(S){return S===a||j0(S,a,d)}}function l2(a,d){return fl(a)&&j2(d)?K2(Zn(a),d):function(S){var P=yl(S,a);return P===r&&P===d?wl(S,a):Oh(d,P,C|B)}}function Du(a,d,S,P,K){a!==d&&k0(d,function(X,it){if(K||(K=new Sn),lr(X))B4(a,d,it,S,Du,P,K);else{var st=P?P(cl(a,it),X,it+"",a,d,K):r;st===r&&(st=X),U0(a,it,st)}},xi)}function B4(a,d,S,P,K,X,it){var st=cl(a,S),ft=cl(d,S),Ot=it.get(ft);if(Ot){U0(a,S,Ot);return}var Bt=X?X(st,ft,S+"",a,d,it):r,$t=Bt===r;if($t){var re=Ae(ft),de=!re&&bo(ft),ve=!re&&!de&&Ba(ft);Bt=ft,re||de||ve?Ae(st)?Bt=st:wr(st)?Bt=Mi(st):de?($t=!1,Bt=M2(ft,!0)):ve?($t=!1,Bt=S2(ft,!0)):Bt=[]:Uh(ft)||Qo(ft)?(Bt=st,Qo(st)?Bt=Ag(st):(!lr(st)||ks(st))&&(Bt=H2(ft))):$t=!1}$t&&(it.set(ft,Bt),K(Bt,ft,P,X,it),it.delete(ft)),U0(a,S,Bt)}function d2(a,d){var S=a.length;if(S)return d+=d<0?S:0,Ls(d,S)?a[d]:r}function p2(a,d,S){d.length?d=cr(d,function(X){return Ae(X)?function(it){return jo(it,X.length===1?X[0]:X)}:X}):d=[Ii];var P=-1;d=cr(d,zi(ge()));var K=u2(a,function(X,it,st){var ft=cr(d,function(Ot){return Ot(X)});return{criteria:ft,index:++P,value:X}});return a5(K,function(X,it){return Q4(X,it,S)})}function T4(a,d){return g2(a,d,function(S,P){return wl(a,P)})}function g2(a,d,S){for(var P=-1,K=d.length,X={};++P<K;){var it=d[P],st=jo(a,it);S(st,it)&&Bh(X,vo(it,a),st)}return X}function F4(a){return function(d){return jo(d,a)}}function Q0(a,d,S,P){var K=P?o5:Ea,X=-1,it=d.length,st=a;for(a===d&&(d=Mi(d)),S&&(st=cr(a,zi(S)));++X<it;)for(var ft=0,Ot=d[X],Bt=S?S(Ot):Ot;(ft=K(st,Bt,ft,P))>-1;)st!==a&&bu.call(st,ft,1),bu.call(a,ft,1);return a}function v2(a,d){for(var S=a?d.length:0,P=S-1;S--;){var K=d[S];if(S==P||K!==X){var X=K;Ls(K)?bu.call(a,K,1):W0(a,K)}}return a}function J0(a,d){return a+Au(Yp()*(d-a+1))}function q4(a,d,S,P){for(var K=-1,X=Tr(wu((d-a)/(S||1)),0),it=gt(X);X--;)it[P?X:++K]=a,a+=S;return it}function V0(a,d){var S="";if(!a||d<1||d>A)return S;do d%2&&(S+=a),d=Au(d/2),d&&(a+=a);while(d);return S}function De(a,d){return ll(G2(a,d,Ii),a+"")}function U4(a){return Zp(Ta(a))}function L4(a,d){var S=Ta(a);return Uu(S,Ho(d,0,S.length))}function Bh(a,d,S,P){if(!lr(a))return a;d=vo(d,a);for(var K=-1,X=d.length,it=X-1,st=a;st!=null&&++K<X;){var ft=Zn(d[K]),Ot=S;if(ft==="__proto__"||ft==="constructor"||ft==="prototype")return a;if(K!=it){var Bt=st[ft];Ot=P?P(Bt,ft,st):r,Ot===r&&(Ot=lr(Bt)?Bt:Ls(d[K+1])?[]:{})}Ch(st,ft,Ot),st=st[ft]}return a}var m2=_u?function(a,d){return _u.set(a,d),a}:Ii,k4=yu?function(a,d){return yu(a,"toString",{configurable:!0,enumerable:!1,value:_l(d),writable:!0})}:Ii;function z4(a){return Uu(Ta(a))}function nn(a,d,S){var P=-1,K=a.length;d<0&&(d=-d>K?0:K+d),S=S>K?K:S,S<0&&(S+=K),K=d>S?0:S-d>>>0,d>>>=0;for(var X=gt(K);++P<K;)X[P]=a[P+d];return X}function $4(a,d){var S;return po(a,function(P,K,X){return S=d(P,K,X),!S}),!!S}function Nu(a,d,S){var P=0,K=a==null?P:a.length;if(typeof d=="number"&&d===d&&K<=V){for(;P<K;){var X=P+K>>>1,it=a[X];it!==null&&!Hi(it)&&(S?it<=d:it<d)?P=X+1:K=X}return K}return Y0(a,d,Ii,S)}function Y0(a,d,S,P){var K=0,X=a==null?0:a.length;if(X===0)return 0;d=S(d);for(var it=d!==d,st=d===null,ft=Hi(d),Ot=d===r;K<X;){var Bt=Au((K+X)/2),$t=S(a[Bt]),re=$t!==r,de=$t===null,ve=$t===$t,Ie=Hi($t);if(it)var me=P||ve;else Ot?me=ve&&(P||re):st?me=ve&&re&&(P||!de):ft?me=ve&&re&&!de&&(P||!Ie):de||Ie?me=!1:me=P?$t<=d:$t<d;me?K=Bt+1:X=Bt}return ri(X,M)}function b2(a,d){for(var S=-1,P=a.length,K=0,X=[];++S<P;){var it=a[S],st=d?d(it):it;if(!S||!xn(st,ft)){var ft=st;X[K++]=it===0?0:it}}return X}function y2(a){return typeof a=="number"?a:Hi(a)?p:+a}function $i(a){if(typeof a=="string")return a;if(Ae(a))return cr(a,$i)+"";if(Hi(a))return Wp?Wp.call(a):"";var d=a+"";return d=="0"&&1/a==-y?"-0":d}function go(a,d,S){var P=-1,K=hu,X=a.length,it=!0,st=[],ft=st;if(S)it=!1,K=S0;else if(X>=s){var Ot=d?null:Z4(a);if(Ot)return uu(Ot);it=!1,K=Mh,ft=new $o}else ft=d?[]:st;t:for(;++P<X;){var Bt=a[P],$t=d?d(Bt):Bt;if(Bt=S||Bt!==0?Bt:0,it&&$t===$t){for(var re=ft.length;re--;)if(ft[re]===$t)continue t;d&&ft.push($t),st.push(Bt)}else K(ft,$t,S)||(ft!==st&&ft.push($t),st.push(Bt))}return st}function W0(a,d){return d=vo(d,a),a=Q2(a,d),a==null||delete a[Zn(sn(d))]}function w2(a,d,S,P){return Bh(a,d,S(jo(a,d)),P)}function Cu(a,d,S,P){for(var K=a.length,X=P?K:-1;(P?X--:++X<K)&&d(a[X],X,a););return S?nn(a,P?0:X,P?X+1:K):nn(a,P?X+1:0,P?K:X)}function A2(a,d){var S=a;return S instanceof Pe&&(S=S.value()),x0(d,function(P,K){return K.func.apply(K.thisArg,uo([P],K.args))},S)}function X0(a,d,S){var P=a.length;if(P<2)return P?go(a[0]):[];for(var K=-1,X=gt(P);++K<P;)for(var it=a[K],st=-1;++st<P;)st!=K&&(X[K]=Rh(X[K]||it,a[st],d,S));return go(Jr(X,1),d,S)}function _2(a,d,S){for(var P=-1,K=a.length,X=d.length,it={};++P<K;){var st=P<X?d[P]:r;S(it,a[P],st)}return it}function Z0(a){return wr(a)?a:[]}function tl(a){return typeof a=="function"?a:Ii}function vo(a,d){return Ae(a)?a:fl(a,d)?[a]:W2(Je(a))}var H4=De;function mo(a,d,S){var P=a.length;return S=S===r?P:S,!d&&S>=P?a:nn(a,d,S)}var E2=C5||function(a){return Le.clearTimeout(a)};function M2(a,d){if(d)return a.slice();var S=a.length,P=Kp?Kp(S):new a.constructor(S);return a.copy(P),P}function el(a){var d=new a.constructor(a.byteLength);return new vu(d).set(new vu(a)),d}function j4(a,d){var S=d?el(a.buffer):a.buffer;return new a.constructor(S,a.byteOffset,a.byteLength)}function K4(a){var d=new a.constructor(a.source,Qt.exec(a));return d.lastIndex=a.lastIndex,d}function G4(a){return Nh?ir(Nh.call(a)):{}}function S2(a,d){var S=d?el(a.buffer):a.buffer;return new a.constructor(S,a.byteOffset,a.length)}function x2(a,d){if(a!==d){var S=a!==r,P=a===null,K=a===a,X=Hi(a),it=d!==r,st=d===null,ft=d===d,Ot=Hi(d);if(!st&&!Ot&&!X&&a>d||X&&it&&ft&&!st&&!Ot||P&&it&&ft||!S&&ft||!K)return 1;if(!P&&!X&&!Ot&&a<d||Ot&&S&&K&&!P&&!X||st&&S&&K||!it&&K||!ft)return-1}return 0}function Q4(a,d,S){for(var P=-1,K=a.criteria,X=d.criteria,it=K.length,st=S.length;++P<it;){var ft=x2(K[P],X[P]);if(ft){if(P>=st)return ft;var Ot=S[P];return ft*(Ot=="desc"?-1:1)}}return a.index-d.index}function I2(a,d,S,P){for(var K=-1,X=a.length,it=S.length,st=-1,ft=d.length,Ot=Tr(X-it,0),Bt=gt(ft+Ot),$t=!P;++st<ft;)Bt[st]=d[st];for(;++K<it;)($t||K<X)&&(Bt[S[K]]=a[K]);for(;Ot--;)Bt[st++]=a[K++];return Bt}function D2(a,d,S,P){for(var K=-1,X=a.length,it=-1,st=S.length,ft=-1,Ot=d.length,Bt=Tr(X-st,0),$t=gt(Bt+Ot),re=!P;++K<Bt;)$t[K]=a[K];for(var de=K;++ft<Ot;)$t[de+ft]=d[ft];for(;++it<st;)(re||K<X)&&($t[de+S[it]]=a[K++]);return $t}function Mi(a,d){var S=-1,P=a.length;for(d||(d=gt(P));++S<P;)d[S]=a[S];return d}function Xn(a,d,S,P){var K=!S;S||(S={});for(var X=-1,it=d.length;++X<it;){var st=d[X],ft=P?P(S[st],a[st],st,S,a):r;ft===r&&(ft=a[st]),K?Fs(S,st,ft):Ch(S,st,ft)}return S}function J4(a,d){return Xn(a,hl(a),d)}function V4(a,d){return Xn(a,z2(a),d)}function Ru(a,d){return function(S,P){var K=Ae(S)?t5:m4,X=d?d():{};return K(S,a,ge(P,2),X)}}function Ra(a){return De(function(d,S){var P=-1,K=S.length,X=K>1?S[K-1]:r,it=K>2?S[2]:r;for(X=a.length>3&&typeof X=="function"?(K--,X):r,it&&ui(S[0],S[1],it)&&(X=K<3?r:X,K=1),d=ir(d);++P<K;){var st=S[P];st&&a(d,st,P,X)}return d})}function N2(a,d){return function(S,P){if(S==null)return S;if(!Si(S))return a(S,P);for(var K=S.length,X=d?K:-1,it=ir(S);(d?X--:++X<K)&&P(it[X],X,it)!==!1;);return S}}function C2(a){return function(d,S,P){for(var K=-1,X=ir(d),it=P(d),st=it.length;st--;){var ft=it[a?st:++K];if(S(X[ft],ft,X)===!1)break}return d}}function Y4(a,d,S){var P=d&F,K=Th(a);function X(){var it=this&&this!==Le&&this instanceof X?K:a;return it.apply(P?S:this,arguments)}return X}function R2(a){return function(d){d=Je(d);var S=Ma(d)?Mn(d):r,P=S?S[0]:d.charAt(0),K=S?mo(S,1).join(""):d.slice(1);return P[a]()+K}}function Pa(a){return function(d){return x0(Ng(Dg(d).replace(_h,"")),a,"")}}function Th(a){return function(){var d=arguments;switch(d.length){case 0:return new a;case 1:return new a(d[0]);case 2:return new a(d[0],d[1]);case 3:return new a(d[0],d[1],d[2]);case 4:return new a(d[0],d[1],d[2],d[3]);case 5:return new a(d[0],d[1],d[2],d[3],d[4]);case 6:return new a(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new a(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var S=Ca(a.prototype),P=a.apply(S,d);return lr(P)?P:S}}function W4(a,d,S){var P=Th(a);function K(){for(var X=arguments.length,it=gt(X),st=X,ft=Oa(K);st--;)it[st]=arguments[st];var Ot=X<3&&it[0]!==ft&&it[X-1]!==ft?[]:co(it,ft);if(X-=Ot.length,X<S)return F2(a,d,Pu,K.placeholder,r,it,Ot,r,r,S-X);var Bt=this&&this!==Le&&this instanceof K?P:a;return Lr(Bt,this,it)}return K}function P2(a){return function(d,S,P){var K=ir(d);if(!Si(d)){var X=ge(S,3);d=kr(d),S=function(st){return X(K[st],st,K)}}var it=a(d,S,P);return it>-1?K[X?d[it]:it]:r}}function O2(a){return Us(function(d){var S=d.length,P=S,K=en.prototype.thru;for(a&&d.reverse();P--;){var X=d[P];if(typeof X!="function")throw new tn(c);if(K&&!it&&Fu(X)=="wrapper")var it=new en([],!0)}for(P=it?P:S;++P<S;){X=d[P];var st=Fu(X),ft=st=="wrapper"?ol(X):r;ft&&ul(ft[0])&&ft[1]==(R|J|$|H)&&!ft[4].length&&ft[9]==1?it=it[Fu(ft[0])].apply(it,ft[3]):it=X.length==1&&ul(X)?it[st]():it.thru(X)}return function(){var Ot=arguments,Bt=Ot[0];if(it&&Ot.length==1&&Ae(Bt))return it.plant(Bt).value();for(var $t=0,re=S?d[$t].apply(this,Ot):Bt;++$t<S;)re=d[$t].call(this,re);return re}})}function Pu(a,d,S,P,K,X,it,st,ft,Ot){var Bt=d&R,$t=d&F,re=d&Q,de=d&(J|z),ve=d&rt,Ie=re?r:Th(a);function me(){for(var Ce=arguments.length,ke=gt(Ce),ji=Ce;ji--;)ke[ji]=arguments[ji];if(de)var ci=Oa(me),Ki=f5(ke,ci);if(P&&(ke=I2(ke,P,K,de)),X&&(ke=D2(ke,X,it,de)),Ce-=Ki,de&&Ce<Ot){var Ar=co(ke,ci);return F2(a,d,Pu,me.placeholder,S,ke,Ar,st,ft,Ot-Ce)}var In=$t?S:this,$s=re?In[a]:a;return Ce=ke.length,st?ke=mw(ke,st):ve&&Ce>1&&ke.reverse(),Bt&&ft<Ce&&(ke.length=ft),this&&this!==Le&&this instanceof me&&($s=Ie||Th($s)),$s.apply(In,ke)}return me}function B2(a,d){return function(S,P){return S4(S,a,d(P),{})}}function Ou(a,d){return function(S,P){var K;if(S===r&&P===r)return d;if(S!==r&&(K=S),P!==r){if(K===r)return P;typeof S=="string"||typeof P=="string"?(S=$i(S),P=$i(P)):(S=y2(S),P=y2(P)),K=a(S,P)}return K}}function rl(a){return Us(function(d){return d=cr(d,zi(ge())),De(function(S){var P=this;return a(d,function(K){return Lr(K,P,S)})})})}function Bu(a,d){d=d===r?" ":$i(d);var S=d.length;if(S<2)return S?V0(d,a):d;var P=V0(d,wu(a/Sa(d)));return Ma(d)?mo(Mn(P),0,a).join(""):P.slice(0,a)}function X4(a,d,S,P){var K=d&F,X=Th(a);function it(){for(var st=-1,ft=arguments.length,Ot=-1,Bt=P.length,$t=gt(Bt+ft),re=this&&this!==Le&&this instanceof it?X:a;++Ot<Bt;)$t[Ot]=P[Ot];for(;ft--;)$t[Ot++]=arguments[++st];return Lr(re,K?S:this,$t)}return it}function T2(a){return function(d,S,P){return P&&typeof P!="number"&&ui(d,S,P)&&(S=P=r),d=zs(d),S===r?(S=d,d=0):S=zs(S),P=P===r?d<S?1:-1:zs(P),q4(d,S,P,a)}}function Tu(a){return function(d,S){return typeof d=="string"&&typeof S=="string"||(d=on(d),S=on(S)),a(d,S)}}function F2(a,d,S,P,K,X,it,st,ft,Ot){var Bt=d&J,$t=Bt?it:r,re=Bt?r:it,de=Bt?X:r,ve=Bt?r:X;d|=Bt?$:q,d&=~(Bt?q:$),d&U||(d&=~(F|Q));var Ie=[a,d,K,de,$t,ve,re,st,ft,Ot],me=S.apply(r,Ie);return ul(a)&&J2(me,Ie),me.placeholder=P,V2(me,a,d)}function il(a){var d=Br[a];return function(S,P){if(S=on(S),P=P==null?0:ri(Se(P),292),P&&Vp(S)){var K=(Je(S)+"e").split("e"),X=d(K[0]+"e"+(+K[1]+P));return K=(Je(X)+"e").split("e"),+(K[0]+"e"+(+K[1]-P))}return d(S)}}var Z4=Da&&1/uu(new Da([,-0]))[1]==y?function(a){return new Da(a)}:Sl;function q2(a){return function(d){var S=ii(d);return S==et?O0(d):S==Gt?v5(d):h5(d,a(d))}}function qs(a,d,S,P,K,X,it,st){var ft=d&Q;if(!ft&&typeof a!="function")throw new tn(c);var Ot=P?P.length:0;if(Ot||(d&=~($|q),P=K=r),it=it===r?it:Tr(Se(it),0),st=st===r?st:Se(st),Ot-=K?K.length:0,d&q){var Bt=P,$t=K;P=K=r}var re=ft?r:ol(a),de=[a,d,S,P,K,Bt,$t,X,it,st];if(re&&pw(de,re),a=de[0],d=de[1],S=de[2],P=de[3],K=de[4],st=de[9]=de[9]===r?ft?0:a.length:Tr(de[9]-Ot,0),!st&&d&(J|z)&&(d&=~(J|z)),!d||d==F)var ve=Y4(a,d,S);else d==J||d==z?ve=W4(a,d,st):(d==$||d==(F|$))&&!K.length?ve=X4(a,d,S,P):ve=Pu.apply(r,de);var Ie=re?m2:J2;return V2(Ie(ve,de),a,d)}function U2(a,d,S,P){return a===r||xn(a,Ia[S])&&!Ye.call(P,S)?d:a}function L2(a,d,S,P,K,X){return lr(a)&&lr(d)&&(X.set(d,a),Du(a,d,r,L2,X),X.delete(d)),a}function tw(a){return Uh(a)?r:a}function k2(a,d,S,P,K,X){var it=S&C,st=a.length,ft=d.length;if(st!=ft&&!(it&&ft>st))return!1;var Ot=X.get(a),Bt=X.get(d);if(Ot&&Bt)return Ot==d&&Bt==a;var $t=-1,re=!0,de=S&B?new $o:r;for(X.set(a,d),X.set(d,a);++$t<st;){var ve=a[$t],Ie=d[$t];if(P)var me=it?P(Ie,ve,$t,d,a,X):P(ve,Ie,$t,a,d,X);if(me!==r){if(me)continue;re=!1;break}if(de){if(!I0(d,function(Ce,ke){if(!Mh(de,ke)&&(ve===Ce||K(ve,Ce,S,P,X)))return de.push(ke)})){re=!1;break}}else if(!(ve===Ie||K(ve,Ie,S,P,X))){re=!1;break}}return X.delete(a),X.delete(d),re}function ew(a,d,S,P,K,X,it){switch(S){case dt:if(a.byteLength!=d.byteLength||a.byteOffset!=d.byteOffset)return!1;a=a.buffer,d=d.buffer;case Kt:return!(a.byteLength!=d.byteLength||!X(new vu(a),new vu(d)));case T:case j:case ct:return xn(+a,+d);case k:return a.name==d.name&&a.message==d.message;case _t:case lt:return a==d+"";case et:var st=O0;case Gt:var ft=P&C;if(st||(st=uu),a.size!=d.size&&!ft)return!1;var Ot=it.get(a);if(Ot)return Ot==d;P|=B,it.set(a,d);var Bt=k2(st(a),st(d),P,K,X,it);return it.delete(a),Bt;case wt:if(Nh)return Nh.call(a)==Nh.call(d)}return!1}function rw(a,d,S,P,K,X){var it=S&C,st=nl(a),ft=st.length,Ot=nl(d),Bt=Ot.length;if(ft!=Bt&&!it)return!1;for(var $t=ft;$t--;){var re=st[$t];if(!(it?re in d:Ye.call(d,re)))return!1}var de=X.get(a),ve=X.get(d);if(de&&ve)return de==d&&ve==a;var Ie=!0;X.set(a,d),X.set(d,a);for(var me=it;++$t<ft;){re=st[$t];var Ce=a[re],ke=d[re];if(P)var ji=it?P(ke,Ce,re,d,a,X):P(Ce,ke,re,a,d,X);if(!(ji===r?Ce===ke||K(Ce,ke,S,P,X):ji)){Ie=!1;break}me||(me=re=="constructor")}if(Ie&&!me){var ci=a.constructor,Ki=d.constructor;ci!=Ki&&"constructor"in a&&"constructor"in d&&!(typeof ci=="function"&&ci instanceof ci&&typeof Ki=="function"&&Ki instanceof Ki)&&(Ie=!1)}return X.delete(a),X.delete(d),Ie}function Us(a){return ll(G2(a,r,eg),a+"")}function nl(a){return o2(a,kr,hl)}function sl(a){return o2(a,xi,z2)}var ol=_u?function(a){return _u.get(a)}:Sl;function Fu(a){for(var d=a.name+"",S=Na[d],P=Ye.call(Na,d)?S.length:0;P--;){var K=S[P],X=K.func;if(X==null||X==a)return K.name}return d}function Oa(a){var d=Ye.call(Y,"placeholder")?Y:a;return d.placeholder}function ge(){var a=Y.iteratee||El;return a=a===El?f2:a,arguments.length?a(arguments[0],arguments[1]):a}function qu(a,d){var S=a.__data__;return uw(d)?S[typeof d=="string"?"string":"hash"]:S.map}function al(a){for(var d=kr(a),S=d.length;S--;){var P=d[S],K=a[P];d[S]=[P,K,j2(K)]}return d}function Ko(a,d){var S=d5(a,d);return h2(S)?S:r}function iw(a){var d=Ye.call(a,ko),S=a[ko];try{a[ko]=r;var P=!0}catch{}var K=pu.call(a);return P&&(d?a[ko]=S:delete a[ko]),K}var hl=T0?function(a){return a==null?[]:(a=ir(a),fo(T0(a),function(d){return Qp.call(a,d)}))}:xl,z2=T0?function(a){for(var d=[];a;)uo(d,hl(a)),a=mu(a);return d}:xl,ii=fi;(F0&&ii(new F0(new ArrayBuffer(1)))!=dt||xh&&ii(new xh)!=et||q0&&ii(q0.resolve())!=ie||Da&&ii(new Da)!=Gt||Ih&&ii(new Ih)!=ut)&&(ii=function(a){var d=fi(a),S=d==bt?a.constructor:r,P=S?Go(S):"";if(P)switch(P){case L5:return dt;case k5:return et;case z5:return ie;case $5:return Gt;case H5:return ut}return d});function nw(a,d,S){for(var P=-1,K=S.length;++P<K;){var X=S[P],it=X.size;switch(X.type){case"drop":a+=it;break;case"dropRight":d-=it;break;case"take":d=ri(d,a+it);break;case"takeRight":a=Tr(a,d-it);break}}return{start:a,end:d}}function sw(a){var d=a.match(Ut);return d?d[1].split(ue):[]}function $2(a,d,S){d=vo(d,a);for(var P=-1,K=d.length,X=!1;++P<K;){var it=Zn(d[P]);if(!(X=a!=null&&S(a,it)))break;a=a[it]}return X||++P!=K?X:(K=a==null?0:a.length,!!K&&ju(K)&&Ls(it,K)&&(Ae(a)||Qo(a)))}function ow(a){var d=a.length,S=new a.constructor(d);return d&&typeof a[0]=="string"&&Ye.call(a,"index")&&(S.index=a.index,S.input=a.input),S}function H2(a){return typeof a.constructor=="function"&&!Fh(a)?Ca(mu(a)):{}}function aw(a,d,S){var P=a.constructor;switch(d){case Kt:return el(a);case T:case j:return new P(+a);case dt:return j4(a,S);case It:case Jt:case vt:case Rt:case te:case mt:case Pt:case ce:case Tt:return S2(a,S);case et:return new P;case ct:case lt:return new P(a);case _t:return K4(a);case Gt:return new P;case wt:return G4(a)}}function hw(a,d){var S=d.length;if(!S)return a;var P=S-1;return d[P]=(S>1?"& ":"")+d[P],d=d.join(S>2?", ":" "),a.replace(xt,`{
/* [wrapped with `+d+`] */
`)}function fw(a){return Ae(a)||Qo(a)||!!(Jp&&a&&a[Jp])}function Ls(a,d){var S=typeof a;return d=d??A,!!d&&(S=="number"||S!="symbol"&&Ke.test(a))&&a>-1&&a%1==0&&a<d}function ui(a,d,S){if(!lr(S))return!1;var P=typeof d;return(P=="number"?Si(S)&&Ls(d,S.length):P=="string"&&d in S)?xn(S[d],a):!1}function fl(a,d){if(Ae(a))return!1;var S=typeof a;return S=="number"||S=="symbol"||S=="boolean"||a==null||Hi(a)?!0:Dt.test(a)||!ne.test(a)||d!=null&&a in ir(d)}function uw(a){var d=typeof a;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?a!=="__proto__":a===null}function ul(a){var d=Fu(a),S=Y[d];if(typeof S!="function"||!(d in Pe.prototype))return!1;if(a===S)return!0;var P=ol(S);return!!P&&a===P[0]}function cw(a){return!!jp&&jp in a}var lw=lu?ks:Il;function Fh(a){var d=a&&a.constructor,S=typeof d=="function"&&d.prototype||Ia;return a===S}function j2(a){return a===a&&!lr(a)}function K2(a,d){return function(S){return S==null?!1:S[a]===d&&(d!==r||a in ir(S))}}function dw(a){var d=$u(a,function(P){return S.size===l&&S.clear(),P}),S=d.cache;return d}function pw(a,d){var S=a[1],P=d[1],K=S|P,X=K<(F|Q|R),it=P==R&&S==J||P==R&&S==H&&a[7].length<=d[8]||P==(R|H)&&d[7].length<=d[8]&&S==J;if(!(X||it))return a;P&F&&(a[2]=d[2],K|=S&F?0:U);var st=d[3];if(st){var ft=a[3];a[3]=ft?I2(ft,st,d[4]):st,a[4]=ft?co(a[3],w):d[4]}return st=d[5],st&&(ft=a[5],a[5]=ft?D2(ft,st,d[6]):st,a[6]=ft?co(a[5],w):d[6]),st=d[7],st&&(a[7]=st),P&R&&(a[8]=a[8]==null?d[8]:ri(a[8],d[8])),a[9]==null&&(a[9]=d[9]),a[0]=d[0],a[1]=K,a}function gw(a){var d=[];if(a!=null)for(var S in ir(a))d.push(S);return d}function vw(a){return pu.call(a)}function G2(a,d,S){return d=Tr(d===r?a.length-1:d,0),function(){for(var P=arguments,K=-1,X=Tr(P.length-d,0),it=gt(X);++K<X;)it[K]=P[d+K];K=-1;for(var st=gt(d+1);++K<d;)st[K]=P[K];return st[d]=S(it),Lr(a,this,st)}}function Q2(a,d){return d.length<2?a:jo(a,nn(d,0,-1))}function mw(a,d){for(var S=a.length,P=ri(d.length,S),K=Mi(a);P--;){var X=d[P];a[P]=Ls(X,S)?K[X]:r}return a}function cl(a,d){if(!(d==="constructor"&&typeof a[d]=="function")&&d!="__proto__")return a[d]}var J2=Y2(m2),qh=P5||function(a,d){return Le.setTimeout(a,d)},ll=Y2(k4);function V2(a,d,S){var P=d+"";return ll(a,hw(P,bw(sw(P),S)))}function Y2(a){var d=0,S=0;return function(){var P=F5(),K=o-(P-S);if(S=P,K>0){if(++d>=x)return arguments[0]}else d=0;return a.apply(r,arguments)}}function Uu(a,d){var S=-1,P=a.length,K=P-1;for(d=d===r?P:d;++S<d;){var X=J0(S,K),it=a[X];a[X]=a[S],a[S]=it}return a.length=d,a}var W2=dw(function(a){var d=[];return a.charCodeAt(0)===46&&d.push(""),a.replace(jt,function(S,P,K,X){d.push(K?X.replace(be,"$1"):P||S)}),d});function Zn(a){if(typeof a=="string"||Hi(a))return a;var d=a+"";return d=="0"&&1/a==-y?"-0":d}function Go(a){if(a!=null){try{return du.call(a)}catch{}try{return a+""}catch{}}return""}function bw(a,d){return Zi(W,function(S){var P="_."+S[0];d&S[1]&&!hu(a,P)&&a.push(P)}),a.sort()}function X2(a){if(a instanceof Pe)return a.clone();var d=new en(a.__wrapped__,a.__chain__);return d.__actions__=Mi(a.__actions__),d.__index__=a.__index__,d.__values__=a.__values__,d}function yw(a,d,S){(S?ui(a,d,S):d===r)?d=1:d=Tr(Se(d),0);var P=a==null?0:a.length;if(!P||d<1)return[];for(var K=0,X=0,it=gt(wu(P/d));K<P;)it[X++]=nn(a,K,K+=d);return it}function ww(a){for(var d=-1,S=a==null?0:a.length,P=0,K=[];++d<S;){var X=a[d];X&&(K[P++]=X)}return K}function Aw(){var a=arguments.length;if(!a)return[];for(var d=gt(a-1),S=arguments[0],P=a;P--;)d[P-1]=arguments[P];return uo(Ae(S)?Mi(S):[S],Jr(d,1))}var _w=De(function(a,d){return wr(a)?Rh(a,Jr(d,1,wr,!0)):[]}),Ew=De(function(a,d){var S=sn(d);return wr(S)&&(S=r),wr(a)?Rh(a,Jr(d,1,wr,!0),ge(S,2)):[]}),Mw=De(function(a,d){var S=sn(d);return wr(S)&&(S=r),wr(a)?Rh(a,Jr(d,1,wr,!0),r,S):[]});function Sw(a,d,S){var P=a==null?0:a.length;return P?(d=S||d===r?1:Se(d),nn(a,d<0?0:d,P)):[]}function xw(a,d,S){var P=a==null?0:a.length;return P?(d=S||d===r?1:Se(d),d=P-d,nn(a,0,d<0?0:d)):[]}function Iw(a,d){return a&&a.length?Cu(a,ge(d,3),!0,!0):[]}function Dw(a,d){return a&&a.length?Cu(a,ge(d,3),!0):[]}function Nw(a,d,S,P){var K=a==null?0:a.length;return K?(S&&typeof S!="number"&&ui(a,d,S)&&(S=0,P=K),A4(a,d,S,P)):[]}function Z2(a,d,S){var P=a==null?0:a.length;if(!P)return-1;var K=S==null?0:Se(S);return K<0&&(K=Tr(P+K,0)),fu(a,ge(d,3),K)}function tg(a,d,S){var P=a==null?0:a.length;if(!P)return-1;var K=P-1;return S!==r&&(K=Se(S),K=S<0?Tr(P+K,0):ri(K,P-1)),fu(a,ge(d,3),K,!0)}function eg(a){var d=a==null?0:a.length;return d?Jr(a,1):[]}function Cw(a){var d=a==null?0:a.length;return d?Jr(a,y):[]}function Rw(a,d){var S=a==null?0:a.length;return S?(d=d===r?1:Se(d),Jr(a,d)):[]}function Pw(a){for(var d=-1,S=a==null?0:a.length,P={};++d<S;){var K=a[d];P[K[0]]=K[1]}return P}function rg(a){return a&&a.length?a[0]:r}function Ow(a,d,S){var P=a==null?0:a.length;if(!P)return-1;var K=S==null?0:Se(S);return K<0&&(K=Tr(P+K,0)),Ea(a,d,K)}function Bw(a){var d=a==null?0:a.length;return d?nn(a,0,-1):[]}var Tw=De(function(a){var d=cr(a,Z0);return d.length&&d[0]===a[0]?H0(d):[]}),Fw=De(function(a){var d=sn(a),S=cr(a,Z0);return d===sn(S)?d=r:S.pop(),S.length&&S[0]===a[0]?H0(S,ge(d,2)):[]}),qw=De(function(a){var d=sn(a),S=cr(a,Z0);return d=typeof d=="function"?d:r,d&&S.pop(),S.length&&S[0]===a[0]?H0(S,r,d):[]});function Uw(a,d){return a==null?"":B5.call(a,d)}function sn(a){var d=a==null?0:a.length;return d?a[d-1]:r}function Lw(a,d,S){var P=a==null?0:a.length;if(!P)return-1;var K=P;return S!==r&&(K=Se(S),K=K<0?Tr(P+K,0):ri(K,P-1)),d===d?b5(a,d,K):fu(a,Fp,K,!0)}function kw(a,d){return a&&a.length?d2(a,Se(d)):r}var zw=De(ig);function ig(a,d){return a&&a.length&&d&&d.length?Q0(a,d):a}function $w(a,d,S){return a&&a.length&&d&&d.length?Q0(a,d,ge(S,2)):a}function Hw(a,d,S){return a&&a.length&&d&&d.length?Q0(a,d,r,S):a}var jw=Us(function(a,d){var S=a==null?0:a.length,P=L0(a,d);return v2(a,cr(d,function(K){return Ls(K,S)?+K:K}).sort(x2)),P});function Kw(a,d){var S=[];if(!(a&&a.length))return S;var P=-1,K=[],X=a.length;for(d=ge(d,3);++P<X;){var it=a[P];d(it,P,a)&&(S.push(it),K.push(P))}return v2(a,K),S}function dl(a){return a==null?a:U5.call(a)}function Gw(a,d,S){var P=a==null?0:a.length;return P?(S&&typeof S!="number"&&ui(a,d,S)?(d=0,S=P):(d=d==null?0:Se(d),S=S===r?P:Se(S)),nn(a,d,S)):[]}function Qw(a,d){return Nu(a,d)}function Jw(a,d,S){return Y0(a,d,ge(S,2))}function Vw(a,d){var S=a==null?0:a.length;if(S){var P=Nu(a,d);if(P<S&&xn(a[P],d))return P}return-1}function Yw(a,d){return Nu(a,d,!0)}function Ww(a,d,S){return Y0(a,d,ge(S,2),!0)}function Xw(a,d){var S=a==null?0:a.length;if(S){var P=Nu(a,d,!0)-1;if(xn(a[P],d))return P}return-1}function Zw(a){return a&&a.length?b2(a):[]}function t7(a,d){return a&&a.length?b2(a,ge(d,2)):[]}function e7(a){var d=a==null?0:a.length;return d?nn(a,1,d):[]}function r7(a,d,S){return a&&a.length?(d=S||d===r?1:Se(d),nn(a,0,d<0?0:d)):[]}function i7(a,d,S){var P=a==null?0:a.length;return P?(d=S||d===r?1:Se(d),d=P-d,nn(a,d<0?0:d,P)):[]}function n7(a,d){return a&&a.length?Cu(a,ge(d,3),!1,!0):[]}function s7(a,d){return a&&a.length?Cu(a,ge(d,3)):[]}var o7=De(function(a){return go(Jr(a,1,wr,!0))}),a7=De(function(a){var d=sn(a);return wr(d)&&(d=r),go(Jr(a,1,wr,!0),ge(d,2))}),h7=De(function(a){var d=sn(a);return d=typeof d=="function"?d:r,go(Jr(a,1,wr,!0),r,d)});function f7(a){return a&&a.length?go(a):[]}function u7(a,d){return a&&a.length?go(a,ge(d,2)):[]}function c7(a,d){return d=typeof d=="function"?d:r,a&&a.length?go(a,r,d):[]}function pl(a){if(!(a&&a.length))return[];var d=0;return a=fo(a,function(S){if(wr(S))return d=Tr(S.length,d),!0}),R0(d,function(S){return cr(a,D0(S))})}function ng(a,d){if(!(a&&a.length))return[];var S=pl(a);return d==null?S:cr(S,function(P){return Lr(d,r,P)})}var l7=De(function(a,d){return wr(a)?Rh(a,d):[]}),d7=De(function(a){return X0(fo(a,wr))}),p7=De(function(a){var d=sn(a);return wr(d)&&(d=r),X0(fo(a,wr),ge(d,2))}),g7=De(function(a){var d=sn(a);return d=typeof d=="function"?d:r,X0(fo(a,wr),r,d)}),v7=De(pl);function m7(a,d){return _2(a||[],d||[],Ch)}function b7(a,d){return _2(a||[],d||[],Bh)}var y7=De(function(a){var d=a.length,S=d>1?a[d-1]:r;return S=typeof S=="function"?(a.pop(),S):r,ng(a,S)});function sg(a){var d=Y(a);return d.__chain__=!0,d}function w7(a,d){return d(a),a}function Lu(a,d){return d(a)}var A7=Us(function(a){var d=a.length,S=d?a[0]:0,P=this.__wrapped__,K=function(X){return L0(X,a)};return d>1||this.__actions__.length||!(P instanceof Pe)||!Ls(S)?this.thru(K):(P=P.slice(S,+S+(d?1:0)),P.__actions__.push({func:Lu,args:[K],thisArg:r}),new en(P,this.__chain__).thru(function(X){return d&&!X.length&&X.push(r),X}))});function _7(){return sg(this)}function E7(){return new en(this.value(),this.__chain__)}function M7(){this.__values__===r&&(this.__values__=yg(this.value()));var a=this.__index__>=this.__values__.length,d=a?r:this.__values__[this.__index__++];return{done:a,value:d}}function S7(){return this}function x7(a){for(var d,S=this;S instanceof Mu;){var P=X2(S);P.__index__=0,P.__values__=r,d?K.__wrapped__=P:d=P;var K=P;S=S.__wrapped__}return K.__wrapped__=a,d}function I7(){var a=this.__wrapped__;if(a instanceof Pe){var d=a;return this.__actions__.length&&(d=new Pe(this)),d=d.reverse(),d.__actions__.push({func:Lu,args:[dl],thisArg:r}),new en(d,this.__chain__)}return this.thru(dl)}function D7(){return A2(this.__wrapped__,this.__actions__)}var N7=Ru(function(a,d,S){Ye.call(a,S)?++a[S]:Fs(a,S,1)});function C7(a,d,S){var P=Ae(a)?Bp:w4;return S&&ui(a,d,S)&&(d=r),P(a,ge(d,3))}function R7(a,d){var S=Ae(a)?fo:n2;return S(a,ge(d,3))}var P7=P2(Z2),O7=P2(tg);function B7(a,d){return Jr(ku(a,d),1)}function T7(a,d){return Jr(ku(a,d),y)}function F7(a,d,S){return S=S===r?1:Se(S),Jr(ku(a,d),S)}function og(a,d){var S=Ae(a)?Zi:po;return S(a,ge(d,3))}function ag(a,d){var S=Ae(a)?e5:i2;return S(a,ge(d,3))}var q7=Ru(function(a,d,S){Ye.call(a,S)?a[S].push(d):Fs(a,S,[d])});function U7(a,d,S,P){a=Si(a)?a:Ta(a),S=S&&!P?Se(S):0;var K=a.length;return S<0&&(S=Tr(K+S,0)),Ku(a)?S<=K&&a.indexOf(d,S)>-1:!!K&&Ea(a,d,S)>-1}var L7=De(function(a,d,S){var P=-1,K=typeof d=="function",X=Si(a)?gt(a.length):[];return po(a,function(it){X[++P]=K?Lr(d,it,S):Ph(it,d,S)}),X}),k7=Ru(function(a,d,S){Fs(a,S,d)});function ku(a,d){var S=Ae(a)?cr:u2;return S(a,ge(d,3))}function z7(a,d,S,P){return a==null?[]:(Ae(d)||(d=d==null?[]:[d]),S=P?r:S,Ae(S)||(S=S==null?[]:[S]),p2(a,d,S))}var $7=Ru(function(a,d,S){a[S?0:1].push(d)},function(){return[[],[]]});function H7(a,d,S){var P=Ae(a)?x0:Up,K=arguments.length<3;return P(a,ge(d,4),S,K,po)}function j7(a,d,S){var P=Ae(a)?r5:Up,K=arguments.length<3;return P(a,ge(d,4),S,K,i2)}function K7(a,d){var S=Ae(a)?fo:n2;return S(a,Hu(ge(d,3)))}function G7(a){var d=Ae(a)?Zp:U4;return d(a)}function Q7(a,d,S){(S?ui(a,d,S):d===r)?d=1:d=Se(d);var P=Ae(a)?g4:L4;return P(a,d)}function J7(a){var d=Ae(a)?v4:z4;return d(a)}function V7(a){if(a==null)return 0;if(Si(a))return Ku(a)?Sa(a):a.length;var d=ii(a);return d==et||d==Gt?a.size:K0(a).length}function Y7(a,d,S){var P=Ae(a)?I0:$4;return S&&ui(a,d,S)&&(d=r),P(a,ge(d,3))}var W7=De(function(a,d){if(a==null)return[];var S=d.length;return S>1&&ui(a,d[0],d[1])?d=[]:S>2&&ui(d[0],d[1],d[2])&&(d=[d[0]]),p2(a,Jr(d,1),[])}),zu=R5||function(){return Le.Date.now()};function X7(a,d){if(typeof d!="function")throw new tn(c);return a=Se(a),function(){if(--a<1)return d.apply(this,arguments)}}function hg(a,d,S){return d=S?r:d,d=a&&d==null?a.length:d,qs(a,R,r,r,r,r,d)}function fg(a,d){var S;if(typeof d!="function")throw new tn(c);return a=Se(a),function(){return--a>0&&(S=d.apply(this,arguments)),a<=1&&(d=r),S}}var gl=De(function(a,d,S){var P=F;if(S.length){var K=co(S,Oa(gl));P|=$}return qs(a,P,d,S,K)}),ug=De(function(a,d,S){var P=F|Q;if(S.length){var K=co(S,Oa(ug));P|=$}return qs(d,P,a,S,K)});function cg(a,d,S){d=S?r:d;var P=qs(a,J,r,r,r,r,r,d);return P.placeholder=cg.placeholder,P}function lg(a,d,S){d=S?r:d;var P=qs(a,z,r,r,r,r,r,d);return P.placeholder=lg.placeholder,P}function dg(a,d,S){var P,K,X,it,st,ft,Ot=0,Bt=!1,$t=!1,re=!0;if(typeof a!="function")throw new tn(c);d=on(d)||0,lr(S)&&(Bt=!!S.leading,$t="maxWait"in S,X=$t?Tr(on(S.maxWait)||0,d):X,re="trailing"in S?!!S.trailing:re);function de(Ar){var In=P,$s=K;return P=K=r,Ot=Ar,it=a.apply($s,In),it}function ve(Ar){return Ot=Ar,st=qh(Ce,d),Bt?de(Ar):it}function Ie(Ar){var In=Ar-ft,$s=Ar-Ot,Pg=d-In;return $t?ri(Pg,X-$s):Pg}function me(Ar){var In=Ar-ft,$s=Ar-Ot;return ft===r||In>=d||In<0||$t&&$s>=X}function Ce(){var Ar=zu();if(me(Ar))return ke(Ar);st=qh(Ce,Ie(Ar))}function ke(Ar){return st=r,re&&P?de(Ar):(P=K=r,it)}function ji(){st!==r&&E2(st),Ot=0,P=ft=K=st=r}function ci(){return st===r?it:ke(zu())}function Ki(){var Ar=zu(),In=me(Ar);if(P=arguments,K=this,ft=Ar,In){if(st===r)return ve(ft);if($t)return E2(st),st=qh(Ce,d),de(ft)}return st===r&&(st=qh(Ce,d)),it}return Ki.cancel=ji,Ki.flush=ci,Ki}var Z7=De(function(a,d){return r2(a,1,d)}),t9=De(function(a,d,S){return r2(a,on(d)||0,S)});function e9(a){return qs(a,rt)}function $u(a,d){if(typeof a!="function"||d!=null&&typeof d!="function")throw new tn(c);var S=function(){var P=arguments,K=d?d.apply(this,P):P[0],X=S.cache;if(X.has(K))return X.get(K);var it=a.apply(this,P);return S.cache=X.set(K,it)||X,it};return S.cache=new($u.Cache||Ts),S}$u.Cache=Ts;function Hu(a){if(typeof a!="function")throw new tn(c);return function(){var d=arguments;switch(d.length){case 0:return!a.call(this);case 1:return!a.call(this,d[0]);case 2:return!a.call(this,d[0],d[1]);case 3:return!a.call(this,d[0],d[1],d[2])}return!a.apply(this,d)}}function r9(a){return fg(2,a)}var i9=H4(function(a,d){d=d.length==1&&Ae(d[0])?cr(d[0],zi(ge())):cr(Jr(d,1),zi(ge()));var S=d.length;return De(function(P){for(var K=-1,X=ri(P.length,S);++K<X;)P[K]=d[K].call(this,P[K]);return Lr(a,this,P)})}),vl=De(function(a,d){var S=co(d,Oa(vl));return qs(a,$,r,d,S)}),pg=De(function(a,d){var S=co(d,Oa(pg));return qs(a,q,r,d,S)}),n9=Us(function(a,d){return qs(a,H,r,r,r,d)});function s9(a,d){if(typeof a!="function")throw new tn(c);return d=d===r?d:Se(d),De(a,d)}function o9(a,d){if(typeof a!="function")throw new tn(c);return d=d==null?0:Tr(Se(d),0),De(function(S){var P=S[d],K=mo(S,0,d);return P&&uo(K,P),Lr(a,this,K)})}function a9(a,d,S){var P=!0,K=!0;if(typeof a!="function")throw new tn(c);return lr(S)&&(P="leading"in S?!!S.leading:P,K="trailing"in S?!!S.trailing:K),dg(a,d,{leading:P,maxWait:d,trailing:K})}function h9(a){return hg(a,1)}function f9(a,d){return vl(tl(d),a)}function u9(){if(!arguments.length)return[];var a=arguments[0];return Ae(a)?a:[a]}function c9(a){return rn(a,D)}function l9(a,d){return d=typeof d=="function"?d:r,rn(a,D,d)}function d9(a){return rn(a,_|D)}function p9(a,d){return d=typeof d=="function"?d:r,rn(a,_|D,d)}function g9(a,d){return d==null||e2(a,d,kr(d))}function xn(a,d){return a===d||a!==a&&d!==d}var v9=Tu($0),m9=Tu(function(a,d){return a>=d}),Qo=a2(function(){return arguments}())?a2:function(a){return vr(a)&&Ye.call(a,"callee")&&!Qp.call(a,"callee")},Ae=gt.isArray,b9=hi?zi(hi):x4;function Si(a){return a!=null&&ju(a.length)&&!ks(a)}function wr(a){return vr(a)&&Si(a)}function y9(a){return a===!0||a===!1||vr(a)&&fi(a)==T}var bo=O5||Il,w9=En?zi(En):I4;function A9(a){return vr(a)&&a.nodeType===1&&!Uh(a)}function _9(a){if(a==null)return!0;if(Si(a)&&(Ae(a)||typeof a=="string"||typeof a.splice=="function"||bo(a)||Ba(a)||Qo(a)))return!a.length;var d=ii(a);if(d==et||d==Gt)return!a.size;if(Fh(a))return!K0(a).length;for(var S in a)if(Ye.call(a,S))return!1;return!0}function E9(a,d){return Oh(a,d)}function M9(a,d,S){S=typeof S=="function"?S:r;var P=S?S(a,d):r;return P===r?Oh(a,d,r,S):!!P}function ml(a){if(!vr(a))return!1;var d=fi(a);return d==k||d==N||typeof a.message=="string"&&typeof a.name=="string"&&!Uh(a)}function S9(a){return typeof a=="number"&&Vp(a)}function ks(a){if(!lr(a))return!1;var d=fi(a);return d==Z||d==nt||d==O||d==yt}function gg(a){return typeof a=="number"&&a==Se(a)}function ju(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=A}function lr(a){var d=typeof a;return a!=null&&(d=="object"||d=="function")}function vr(a){return a!=null&&typeof a=="object"}var vg=Xi?zi(Xi):N4;function x9(a,d){return a===d||j0(a,d,al(d))}function I9(a,d,S){return S=typeof S=="function"?S:r,j0(a,d,al(d),S)}function D9(a){return mg(a)&&a!=+a}function N9(a){if(lw(a))throw new ye(n);return h2(a)}function C9(a){return a===null}function R9(a){return a==null}function mg(a){return typeof a=="number"||vr(a)&&fi(a)==ct}function Uh(a){if(!vr(a)||fi(a)!=bt)return!1;var d=mu(a);if(d===null)return!0;var S=Ye.call(d,"constructor")&&d.constructor;return typeof S=="function"&&S instanceof S&&du.call(S)==I5}var bl=Yn?zi(Yn):C4;function P9(a){return gg(a)&&a>=-A&&a<=A}var bg=Eh?zi(Eh):R4;function Ku(a){return typeof a=="string"||!Ae(a)&&vr(a)&&fi(a)==lt}function Hi(a){return typeof a=="symbol"||vr(a)&&fi(a)==wt}var Ba=Lo?zi(Lo):P4;function O9(a){return a===r}function B9(a){return vr(a)&&ii(a)==ut}function T9(a){return vr(a)&&fi(a)==At}var F9=Tu(G0),q9=Tu(function(a,d){return a<=d});function yg(a){if(!a)return[];if(Si(a))return Ku(a)?Mn(a):Mi(a);if(Sh&&a[Sh])return g5(a[Sh]());var d=ii(a),S=d==et?O0:d==Gt?uu:Ta;return S(a)}function zs(a){if(!a)return a===0?a:0;if(a=on(a),a===y||a===-y){var d=a<0?-1:1;return d*E}return a===a?a:0}function Se(a){var d=zs(a),S=d%1;return d===d?S?d-S:d:0}function wg(a){return a?Ho(Se(a),0,f):0}function on(a){if(typeof a=="number")return a;if(Hi(a))return p;if(lr(a)){var d=typeof a.valueOf=="function"?a.valueOf():a;a=lr(d)?d+"":d}if(typeof a!="string")return a===0?a:+a;a=Lp(a);var S=$e.test(a);return S||je.test(a)?we(a.slice(2),S?2:8):ze.test(a)?p:+a}function Ag(a){return Xn(a,xi(a))}function U9(a){return a?Ho(Se(a),-A,A):a===0?a:0}function Je(a){return a==null?"":$i(a)}var L9=Ra(function(a,d){if(Fh(d)||Si(d)){Xn(d,kr(d),a);return}for(var S in d)Ye.call(d,S)&&Ch(a,S,d[S])}),_g=Ra(function(a,d){Xn(d,xi(d),a)}),Gu=Ra(function(a,d,S,P){Xn(d,xi(d),a,P)}),k9=Ra(function(a,d,S,P){Xn(d,kr(d),a,P)}),z9=Us(L0);function $9(a,d){var S=Ca(a);return d==null?S:t2(S,d)}var H9=De(function(a,d){a=ir(a);var S=-1,P=d.length,K=P>2?d[2]:r;for(K&&ui(d[0],d[1],K)&&(P=1);++S<P;)for(var X=d[S],it=xi(X),st=-1,ft=it.length;++st<ft;){var Ot=it[st],Bt=a[Ot];(Bt===r||xn(Bt,Ia[Ot])&&!Ye.call(a,Ot))&&(a[Ot]=X[Ot])}return a}),j9=De(function(a){return a.push(r,L2),Lr(Eg,r,a)});function K9(a,d){return Tp(a,ge(d,3),Wn)}function G9(a,d){return Tp(a,ge(d,3),z0)}function Q9(a,d){return a==null?a:k0(a,ge(d,3),xi)}function J9(a,d){return a==null?a:s2(a,ge(d,3),xi)}function V9(a,d){return a&&Wn(a,ge(d,3))}function Y9(a,d){return a&&z0(a,ge(d,3))}function W9(a){return a==null?[]:Iu(a,kr(a))}function X9(a){return a==null?[]:Iu(a,xi(a))}function yl(a,d,S){var P=a==null?r:jo(a,d);return P===r?S:P}function Z9(a,d){return a!=null&&$2(a,d,_4)}function wl(a,d){return a!=null&&$2(a,d,E4)}var tA=B2(function(a,d,S){d!=null&&typeof d.toString!="function"&&(d=pu.call(d)),a[d]=S},_l(Ii)),eA=B2(function(a,d,S){d!=null&&typeof d.toString!="function"&&(d=pu.call(d)),Ye.call(a,d)?a[d].push(S):a[d]=[S]},ge),rA=De(Ph);function kr(a){return Si(a)?Xp(a):K0(a)}function xi(a){return Si(a)?Xp(a,!0):O4(a)}function iA(a,d){var S={};return d=ge(d,3),Wn(a,function(P,K,X){Fs(S,d(P,K,X),P)}),S}function nA(a,d){var S={};return d=ge(d,3),Wn(a,function(P,K,X){Fs(S,K,d(P,K,X))}),S}var sA=Ra(function(a,d,S){Du(a,d,S)}),Eg=Ra(function(a,d,S,P){Du(a,d,S,P)}),oA=Us(function(a,d){var S={};if(a==null)return S;var P=!1;d=cr(d,function(X){return X=vo(X,a),P||(P=X.length>1),X}),Xn(a,sl(a),S),P&&(S=rn(S,_|I|D,tw));for(var K=d.length;K--;)W0(S,d[K]);return S});function aA(a,d){return Mg(a,Hu(ge(d)))}var hA=Us(function(a,d){return a==null?{}:T4(a,d)});function Mg(a,d){if(a==null)return{};var S=cr(sl(a),function(P){return[P]});return d=ge(d),g2(a,S,function(P,K){return d(P,K[0])})}function fA(a,d,S){d=vo(d,a);var P=-1,K=d.length;for(K||(K=1,a=r);++P<K;){var X=a==null?r:a[Zn(d[P])];X===r&&(P=K,X=S),a=ks(X)?X.call(a):X}return a}function uA(a,d,S){return a==null?a:Bh(a,d,S)}function cA(a,d,S,P){return P=typeof P=="function"?P:r,a==null?a:Bh(a,d,S,P)}var Sg=q2(kr),xg=q2(xi);function lA(a,d,S){var P=Ae(a),K=P||bo(a)||Ba(a);if(d=ge(d,4),S==null){var X=a&&a.constructor;K?S=P?new X:[]:lr(a)?S=ks(X)?Ca(mu(a)):{}:S={}}return(K?Zi:Wn)(a,function(it,st,ft){return d(S,it,st,ft)}),S}function dA(a,d){return a==null?!0:W0(a,d)}function pA(a,d,S){return a==null?a:w2(a,d,tl(S))}function gA(a,d,S,P){return P=typeof P=="function"?P:r,a==null?a:w2(a,d,tl(S),P)}function Ta(a){return a==null?[]:P0(a,kr(a))}function vA(a){return a==null?[]:P0(a,xi(a))}function mA(a,d,S){return S===r&&(S=d,d=r),S!==r&&(S=on(S),S=S===S?S:0),d!==r&&(d=on(d),d=d===d?d:0),Ho(on(a),d,S)}function bA(a,d,S){return d=zs(d),S===r?(S=d,d=0):S=zs(S),a=on(a),M4(a,d,S)}function yA(a,d,S){if(S&&typeof S!="boolean"&&ui(a,d,S)&&(d=S=r),S===r&&(typeof d=="boolean"?(S=d,d=r):typeof a=="boolean"&&(S=a,a=r)),a===r&&d===r?(a=0,d=1):(a=zs(a),d===r?(d=a,a=0):d=zs(d)),a>d){var P=a;a=d,d=P}if(S||a%1||d%1){var K=Yp();return ri(a+K*(d-a+er("1e-"+((K+"").length-1))),d)}return J0(a,d)}var wA=Pa(function(a,d,S){return d=d.toLowerCase(),a+(S?Ig(d):d)});function Ig(a){return Al(Je(a).toLowerCase())}function Dg(a){return a=Je(a),a&&a.replace(xe,u5).replace(E0,"")}function AA(a,d,S){a=Je(a),d=$i(d);var P=a.length;S=S===r?P:Ho(Se(S),0,P);var K=S;return S-=d.length,S>=0&&a.slice(S,K)==d}function _A(a){return a=Je(a),a&&Lt.test(a)?a.replace(pe,c5):a}function EA(a){return a=Je(a),a&&Nt.test(a)?a.replace(ae,"\\$&"):a}var MA=Pa(function(a,d,S){return a+(S?"-":"")+d.toLowerCase()}),SA=Pa(function(a,d,S){return a+(S?" ":"")+d.toLowerCase()}),xA=R2("toLowerCase");function IA(a,d,S){a=Je(a),d=Se(d);var P=d?Sa(a):0;if(!d||P>=d)return a;var K=(d-P)/2;return Bu(Au(K),S)+a+Bu(wu(K),S)}function DA(a,d,S){a=Je(a),d=Se(d);var P=d?Sa(a):0;return d&&P<d?a+Bu(d-P,S):a}function NA(a,d,S){a=Je(a),d=Se(d);var P=d?Sa(a):0;return d&&P<d?Bu(d-P,S)+a:a}function CA(a,d,S){return S||d==null?d=0:d&&(d=+d),q5(Je(a).replace(zt,""),d||0)}function RA(a,d,S){return(S?ui(a,d,S):d===r)?d=1:d=Se(d),V0(Je(a),d)}function PA(){var a=arguments,d=Je(a[0]);return a.length<3?d:d.replace(a[1],a[2])}var OA=Pa(function(a,d,S){return a+(S?"_":"")+d.toLowerCase()});function BA(a,d,S){return S&&typeof S!="number"&&ui(a,d,S)&&(d=S=r),S=S===r?f:S>>>0,S?(a=Je(a),a&&(typeof d=="string"||d!=null&&!bl(d))&&(d=$i(d),!d&&Ma(a))?mo(Mn(a),0,S):a.split(d,S)):[]}var TA=Pa(function(a,d,S){return a+(S?" ":"")+Al(d)});function FA(a,d,S){return a=Je(a),S=S==null?0:Ho(Se(S),0,a.length),d=$i(d),a.slice(S,S+d.length)==d}function qA(a,d,S){var P=Y.templateSettings;S&&ui(a,d,S)&&(d=r),a=Je(a),d=Gu({},d,P,U2);var K=Gu({},d.imports,P.imports,U2),X=kr(K),it=P0(K,X),st,ft,Ot=0,Bt=d.interpolate||dr,$t="__p += '",re=B0((d.escape||dr).source+"|"+Bt.source+"|"+(Bt===kt?Ht:dr).source+"|"+(d.evaluate||dr).source+"|$","g"),de="//# sourceURL="+(Ye.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++M0+"]")+`
`;a.replace(re,function(me,Ce,ke,ji,ci,Ki){return ke||(ke=ji),$t+=a.slice(Ot,Ki).replace(Dr,l5),Ce&&(st=!0,$t+=`' +
__e(`+Ce+`) +
'`),ci&&(ft=!0,$t+=`';
`+ci+`;
__p += '`),ke&&($t+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),Ot=Ki+me.length,me}),$t+=`';
`;var ve=Ye.call(d,"variable")&&d.variable;if(!ve)$t=`with (obj) {
`+$t+`
}
`;else if(Xt.test(ve))throw new ye(g);$t=(ft?$t.replace(Vt,""):$t).replace(le,"$1").replace(Ft,"$1;"),$t="function("+(ve||"obj")+`) {
`+(ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(st?", __e = _.escape":"")+(ft?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$t+`return __p
}`;var Ie=Cg(function(){return Qe(X,de+"return "+$t).apply(r,it)});if(Ie.source=$t,ml(Ie))throw Ie;return Ie}function UA(a){return Je(a).toLowerCase()}function LA(a){return Je(a).toUpperCase()}function kA(a,d,S){if(a=Je(a),a&&(S||d===r))return Lp(a);if(!a||!(d=$i(d)))return a;var P=Mn(a),K=Mn(d),X=kp(P,K),it=zp(P,K)+1;return mo(P,X,it).join("")}function zA(a,d,S){if(a=Je(a),a&&(S||d===r))return a.slice(0,Hp(a)+1);if(!a||!(d=$i(d)))return a;var P=Mn(a),K=zp(P,Mn(d))+1;return mo(P,0,K).join("")}function $A(a,d,S){if(a=Je(a),a&&(S||d===r))return a.replace(zt,"");if(!a||!(d=$i(d)))return a;var P=Mn(a),K=kp(P,Mn(d));return mo(P,K).join("")}function HA(a,d){var S=ot,P=G;if(lr(d)){var K="separator"in d?d.separator:K;S="length"in d?Se(d.length):S,P="omission"in d?$i(d.omission):P}a=Je(a);var X=a.length;if(Ma(a)){var it=Mn(a);X=it.length}if(S>=X)return a;var st=S-Sa(P);if(st<1)return P;var ft=it?mo(it,0,st).join(""):a.slice(0,st);if(K===r)return ft+P;if(it&&(st+=ft.length-st),bl(K)){if(a.slice(st).search(K)){var Ot,Bt=ft;for(K.global||(K=B0(K.source,Je(Qt.exec(K))+"g")),K.lastIndex=0;Ot=K.exec(Bt);)var $t=Ot.index;ft=ft.slice(0,$t===r?st:$t)}}else if(a.indexOf($i(K),st)!=st){var re=ft.lastIndexOf(K);re>-1&&(ft=ft.slice(0,re))}return ft+P}function jA(a){return a=Je(a),a&&Mt.test(a)?a.replace(Wt,y5):a}var KA=Pa(function(a,d,S){return a+(S?" ":"")+d.toUpperCase()}),Al=R2("toUpperCase");function Ng(a,d,S){return a=Je(a),d=S?r:d,d===r?p5(a)?_5(a):s5(a):a.match(d)||[]}var Cg=De(function(a,d){try{return Lr(a,r,d)}catch(S){return ml(S)?S:new ye(S)}}),GA=Us(function(a,d){return Zi(d,function(S){S=Zn(S),Fs(a,S,gl(a[S],a))}),a});function QA(a){var d=a==null?0:a.length,S=ge();return a=d?cr(a,function(P){if(typeof P[1]!="function")throw new tn(c);return[S(P[0]),P[1]]}):[],De(function(P){for(var K=-1;++K<d;){var X=a[K];if(Lr(X[0],this,P))return Lr(X[1],this,P)}})}function JA(a){return y4(rn(a,_))}function _l(a){return function(){return a}}function VA(a,d){return a==null||a!==a?d:a}var YA=O2(),WA=O2(!0);function Ii(a){return a}function El(a){return f2(typeof a=="function"?a:rn(a,_))}function XA(a){return c2(rn(a,_))}function ZA(a,d){return l2(a,rn(d,_))}var t_=De(function(a,d){return function(S){return Ph(S,a,d)}}),e_=De(function(a,d){return function(S){return Ph(a,S,d)}});function Ml(a,d,S){var P=kr(d),K=Iu(d,P);S==null&&!(lr(d)&&(K.length||!P.length))&&(S=d,d=a,a=this,K=Iu(d,kr(d)));var X=!(lr(S)&&"chain"in S)||!!S.chain,it=ks(a);return Zi(K,function(st){var ft=d[st];a[st]=ft,it&&(a.prototype[st]=function(){var Ot=this.__chain__;if(X||Ot){var Bt=a(this.__wrapped__),$t=Bt.__actions__=Mi(this.__actions__);return $t.push({func:ft,args:arguments,thisArg:a}),Bt.__chain__=Ot,Bt}return ft.apply(a,uo([this.value()],arguments))})}),a}function r_(){return Le._===this&&(Le._=D5),this}function Sl(){}function i_(a){return a=Se(a),De(function(d){return d2(d,a)})}var n_=rl(cr),s_=rl(Bp),o_=rl(I0);function Rg(a){return fl(a)?D0(Zn(a)):F4(a)}function a_(a){return function(d){return a==null?r:jo(a,d)}}var h_=T2(),f_=T2(!0);function xl(){return[]}function Il(){return!1}function u_(){return{}}function c_(){return""}function l_(){return!0}function d_(a,d){if(a=Se(a),a<1||a>A)return[];var S=f,P=ri(a,f);d=ge(d),a-=f;for(var K=R0(P,d);++S<a;)d(S);return K}function p_(a){return Ae(a)?cr(a,Zn):Hi(a)?[a]:Mi(W2(Je(a)))}function g_(a){var d=++x5;return Je(a)+d}var v_=Ou(function(a,d){return a+d},0),m_=il("ceil"),b_=Ou(function(a,d){return a/d},1),y_=il("floor");function w_(a){return a&&a.length?xu(a,Ii,$0):r}function A_(a,d){return a&&a.length?xu(a,ge(d,2),$0):r}function __(a){return qp(a,Ii)}function E_(a,d){return qp(a,ge(d,2))}function M_(a){return a&&a.length?xu(a,Ii,G0):r}function S_(a,d){return a&&a.length?xu(a,ge(d,2),G0):r}var x_=Ou(function(a,d){return a*d},1),I_=il("round"),D_=Ou(function(a,d){return a-d},0);function N_(a){return a&&a.length?C0(a,Ii):0}function C_(a,d){return a&&a.length?C0(a,ge(d,2)):0}return Y.after=X7,Y.ary=hg,Y.assign=L9,Y.assignIn=_g,Y.assignInWith=Gu,Y.assignWith=k9,Y.at=z9,Y.before=fg,Y.bind=gl,Y.bindAll=GA,Y.bindKey=ug,Y.castArray=u9,Y.chain=sg,Y.chunk=yw,Y.compact=ww,Y.concat=Aw,Y.cond=QA,Y.conforms=JA,Y.constant=_l,Y.countBy=N7,Y.create=$9,Y.curry=cg,Y.curryRight=lg,Y.debounce=dg,Y.defaults=H9,Y.defaultsDeep=j9,Y.defer=Z7,Y.delay=t9,Y.difference=_w,Y.differenceBy=Ew,Y.differenceWith=Mw,Y.drop=Sw,Y.dropRight=xw,Y.dropRightWhile=Iw,Y.dropWhile=Dw,Y.fill=Nw,Y.filter=R7,Y.flatMap=B7,Y.flatMapDeep=T7,Y.flatMapDepth=F7,Y.flatten=eg,Y.flattenDeep=Cw,Y.flattenDepth=Rw,Y.flip=e9,Y.flow=YA,Y.flowRight=WA,Y.fromPairs=Pw,Y.functions=W9,Y.functionsIn=X9,Y.groupBy=q7,Y.initial=Bw,Y.intersection=Tw,Y.intersectionBy=Fw,Y.intersectionWith=qw,Y.invert=tA,Y.invertBy=eA,Y.invokeMap=L7,Y.iteratee=El,Y.keyBy=k7,Y.keys=kr,Y.keysIn=xi,Y.map=ku,Y.mapKeys=iA,Y.mapValues=nA,Y.matches=XA,Y.matchesProperty=ZA,Y.memoize=$u,Y.merge=sA,Y.mergeWith=Eg,Y.method=t_,Y.methodOf=e_,Y.mixin=Ml,Y.negate=Hu,Y.nthArg=i_,Y.omit=oA,Y.omitBy=aA,Y.once=r9,Y.orderBy=z7,Y.over=n_,Y.overArgs=i9,Y.overEvery=s_,Y.overSome=o_,Y.partial=vl,Y.partialRight=pg,Y.partition=$7,Y.pick=hA,Y.pickBy=Mg,Y.property=Rg,Y.propertyOf=a_,Y.pull=zw,Y.pullAll=ig,Y.pullAllBy=$w,Y.pullAllWith=Hw,Y.pullAt=jw,Y.range=h_,Y.rangeRight=f_,Y.rearg=n9,Y.reject=K7,Y.remove=Kw,Y.rest=s9,Y.reverse=dl,Y.sampleSize=Q7,Y.set=uA,Y.setWith=cA,Y.shuffle=J7,Y.slice=Gw,Y.sortBy=W7,Y.sortedUniq=Zw,Y.sortedUniqBy=t7,Y.split=BA,Y.spread=o9,Y.tail=e7,Y.take=r7,Y.takeRight=i7,Y.takeRightWhile=n7,Y.takeWhile=s7,Y.tap=w7,Y.throttle=a9,Y.thru=Lu,Y.toArray=yg,Y.toPairs=Sg,Y.toPairsIn=xg,Y.toPath=p_,Y.toPlainObject=Ag,Y.transform=lA,Y.unary=h9,Y.union=o7,Y.unionBy=a7,Y.unionWith=h7,Y.uniq=f7,Y.uniqBy=u7,Y.uniqWith=c7,Y.unset=dA,Y.unzip=pl,Y.unzipWith=ng,Y.update=pA,Y.updateWith=gA,Y.values=Ta,Y.valuesIn=vA,Y.without=l7,Y.words=Ng,Y.wrap=f9,Y.xor=d7,Y.xorBy=p7,Y.xorWith=g7,Y.zip=v7,Y.zipObject=m7,Y.zipObjectDeep=b7,Y.zipWith=y7,Y.entries=Sg,Y.entriesIn=xg,Y.extend=_g,Y.extendWith=Gu,Ml(Y,Y),Y.add=v_,Y.attempt=Cg,Y.camelCase=wA,Y.capitalize=Ig,Y.ceil=m_,Y.clamp=mA,Y.clone=c9,Y.cloneDeep=d9,Y.cloneDeepWith=p9,Y.cloneWith=l9,Y.conformsTo=g9,Y.deburr=Dg,Y.defaultTo=VA,Y.divide=b_,Y.endsWith=AA,Y.eq=xn,Y.escape=_A,Y.escapeRegExp=EA,Y.every=C7,Y.find=P7,Y.findIndex=Z2,Y.findKey=K9,Y.findLast=O7,Y.findLastIndex=tg,Y.findLastKey=G9,Y.floor=y_,Y.forEach=og,Y.forEachRight=ag,Y.forIn=Q9,Y.forInRight=J9,Y.forOwn=V9,Y.forOwnRight=Y9,Y.get=yl,Y.gt=v9,Y.gte=m9,Y.has=Z9,Y.hasIn=wl,Y.head=rg,Y.identity=Ii,Y.includes=U7,Y.indexOf=Ow,Y.inRange=bA,Y.invoke=rA,Y.isArguments=Qo,Y.isArray=Ae,Y.isArrayBuffer=b9,Y.isArrayLike=Si,Y.isArrayLikeObject=wr,Y.isBoolean=y9,Y.isBuffer=bo,Y.isDate=w9,Y.isElement=A9,Y.isEmpty=_9,Y.isEqual=E9,Y.isEqualWith=M9,Y.isError=ml,Y.isFinite=S9,Y.isFunction=ks,Y.isInteger=gg,Y.isLength=ju,Y.isMap=vg,Y.isMatch=x9,Y.isMatchWith=I9,Y.isNaN=D9,Y.isNative=N9,Y.isNil=R9,Y.isNull=C9,Y.isNumber=mg,Y.isObject=lr,Y.isObjectLike=vr,Y.isPlainObject=Uh,Y.isRegExp=bl,Y.isSafeInteger=P9,Y.isSet=bg,Y.isString=Ku,Y.isSymbol=Hi,Y.isTypedArray=Ba,Y.isUndefined=O9,Y.isWeakMap=B9,Y.isWeakSet=T9,Y.join=Uw,Y.kebabCase=MA,Y.last=sn,Y.lastIndexOf=Lw,Y.lowerCase=SA,Y.lowerFirst=xA,Y.lt=F9,Y.lte=q9,Y.max=w_,Y.maxBy=A_,Y.mean=__,Y.meanBy=E_,Y.min=M_,Y.minBy=S_,Y.stubArray=xl,Y.stubFalse=Il,Y.stubObject=u_,Y.stubString=c_,Y.stubTrue=l_,Y.multiply=x_,Y.nth=kw,Y.noConflict=r_,Y.noop=Sl,Y.now=zu,Y.pad=IA,Y.padEnd=DA,Y.padStart=NA,Y.parseInt=CA,Y.random=yA,Y.reduce=H7,Y.reduceRight=j7,Y.repeat=RA,Y.replace=PA,Y.result=fA,Y.round=I_,Y.runInContext=ht,Y.sample=G7,Y.size=V7,Y.snakeCase=OA,Y.some=Y7,Y.sortedIndex=Qw,Y.sortedIndexBy=Jw,Y.sortedIndexOf=Vw,Y.sortedLastIndex=Yw,Y.sortedLastIndexBy=Ww,Y.sortedLastIndexOf=Xw,Y.startCase=TA,Y.startsWith=FA,Y.subtract=D_,Y.sum=N_,Y.sumBy=C_,Y.template=qA,Y.times=d_,Y.toFinite=zs,Y.toInteger=Se,Y.toLength=wg,Y.toLower=UA,Y.toNumber=on,Y.toSafeInteger=U9,Y.toString=Je,Y.toUpper=LA,Y.trim=kA,Y.trimEnd=zA,Y.trimStart=$A,Y.truncate=HA,Y.unescape=jA,Y.uniqueId=g_,Y.upperCase=KA,Y.upperFirst=Al,Y.each=og,Y.eachRight=ag,Y.first=rg,Ml(Y,function(){var a={};return Wn(Y,function(d,S){Ye.call(Y.prototype,S)||(a[S]=d)}),a}(),{chain:!1}),Y.VERSION=i,Zi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Y[a].placeholder=Y}),Zi(["drop","take"],function(a,d){Pe.prototype[a]=function(S){S=S===r?1:Tr(Se(S),0);var P=this.__filtered__&&!d?new Pe(this):this.clone();return P.__filtered__?P.__takeCount__=ri(S,P.__takeCount__):P.__views__.push({size:ri(S,f),type:a+(P.__dir__<0?"Right":"")}),P},Pe.prototype[a+"Right"]=function(S){return this.reverse()[a](S).reverse()}}),Zi(["filter","map","takeWhile"],function(a,d){var S=d+1,P=S==h||S==v;Pe.prototype[a]=function(K){var X=this.clone();return X.__iteratees__.push({iteratee:ge(K,3),type:S}),X.__filtered__=X.__filtered__||P,X}}),Zi(["head","last"],function(a,d){var S="take"+(d?"Right":"");Pe.prototype[a]=function(){return this[S](1).value()[0]}}),Zi(["initial","tail"],function(a,d){var S="drop"+(d?"":"Right");Pe.prototype[a]=function(){return this.__filtered__?new Pe(this):this[S](1)}}),Pe.prototype.compact=function(){return this.filter(Ii)},Pe.prototype.find=function(a){return this.filter(a).head()},Pe.prototype.findLast=function(a){return this.reverse().find(a)},Pe.prototype.invokeMap=De(function(a,d){return typeof a=="function"?new Pe(this):this.map(function(S){return Ph(S,a,d)})}),Pe.prototype.reject=function(a){return this.filter(Hu(ge(a)))},Pe.prototype.slice=function(a,d){a=Se(a);var S=this;return S.__filtered__&&(a>0||d<0)?new Pe(S):(a<0?S=S.takeRight(-a):a&&(S=S.drop(a)),d!==r&&(d=Se(d),S=d<0?S.dropRight(-d):S.take(d-a)),S)},Pe.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Pe.prototype.toArray=function(){return this.take(f)},Wn(Pe.prototype,function(a,d){var S=/^(?:filter|find|map|reject)|While$/.test(d),P=/^(?:head|last)$/.test(d),K=Y[P?"take"+(d=="last"?"Right":""):d],X=P||/^find/.test(d);K&&(Y.prototype[d]=function(){var it=this.__wrapped__,st=P?[1]:arguments,ft=it instanceof Pe,Ot=st[0],Bt=ft||Ae(it),$t=function(Ce){var ke=K.apply(Y,uo([Ce],st));return P&&re?ke[0]:ke};Bt&&S&&typeof Ot=="function"&&Ot.length!=1&&(ft=Bt=!1);var re=this.__chain__,de=!!this.__actions__.length,ve=X&&!re,Ie=ft&&!de;if(!X&&Bt){it=Ie?it:new Pe(this);var me=a.apply(it,st);return me.__actions__.push({func:Lu,args:[$t],thisArg:r}),new en(me,re)}return ve&&Ie?a.apply(this,st):(me=this.thru($t),ve?P?me.value()[0]:me.value():me)})}),Zi(["pop","push","shift","sort","splice","unshift"],function(a){var d=cu[a],S=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",P=/^(?:pop|shift)$/.test(a);Y.prototype[a]=function(){var K=arguments;if(P&&!this.__chain__){var X=this.value();return d.apply(Ae(X)?X:[],K)}return this[S](function(it){return d.apply(Ae(it)?it:[],K)})}}),Wn(Pe.prototype,function(a,d){var S=Y[d];if(S){var P=S.name+"";Ye.call(Na,P)||(Na[P]=[]),Na[P].push({name:d,func:S})}}),Na[Pu(r,Q).name]=[{name:"wrapper",func:r}],Pe.prototype.clone=j5,Pe.prototype.reverse=K5,Pe.prototype.value=G5,Y.prototype.at=A7,Y.prototype.chain=_7,Y.prototype.commit=E7,Y.prototype.next=M7,Y.prototype.plant=x7,Y.prototype.reverse=I7,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=D7,Y.prototype.first=Y.prototype.head,Sh&&(Y.prototype[Sh]=S7),Y},xa=E5();yr?((yr.exports=xa)._=xa,rr._=xa):Le._=xa}).call(of)})(ep,ep.exports);var hk=Object.defineProperty,fk=Object.defineProperties,uk=Object.getOwnPropertyDescriptors,B6=Object.getOwnPropertySymbols,ck=Object.prototype.hasOwnProperty,lk=Object.prototype.propertyIsEnumerable,T6=(e,t,r)=>t in e?hk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vc=(e,t)=>{for(var r in t||(t={}))ck.call(t,r)&&T6(e,r,t[r]);if(B6)for(var r of B6(t))lk.call(t,r)&&T6(e,r,t[r]);return e},dk=(e,t)=>fk(e,uk(t));function Kn(e,t,r){var i;const s=y8(e);return((i=t.rpcMap)==null?void 0:i[s.reference])||`${W8}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function ba(e){return e.includes(":")?e.split(":")[1]:e}function X8(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function pk(e,t){const r=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!r.length)return[];const i=[];return r.forEach(s=>{const n=t.namespaces[s].accounts;i.push(...n)}),i}function y1(e={},t={}){const r=F6(e),i=F6(t);return ep.exports.merge(r,i)}function F6(e){var t,r,i,s;const n={};if(!JL(e))return n;for(const[c,g]of Object.entries(e)){const m=Rp(c)?[c]:g.chains,l=g.methods||[],w=g.events||[],_=g.rpcMap||{},I=uf(c);n[I]=dk(vc(vc({},n[I]),g),{chains:o1(m,(t=n[I])==null?void 0:t.chains),methods:o1(l,(r=n[I])==null?void 0:r.methods),events:o1(w,(i=n[I])==null?void 0:i.events),rpcMap:vc(vc({},_),(s=n[I])==null?void 0:s.rpcMap)})}return n}function gk(e){return e.includes(":")?e.split(":")[2]:e}function q6(e){const t={};for(const[r,i]of Object.entries(e)){const s=i.methods||[],n=i.events||[],c=i.accounts||[],g=Rp(r)?[r]:i.chains?i.chains:X8(i.accounts);t[r]={chains:g,methods:s,events:n,accounts:c}}return t}function w1(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const Z8={},Ve=e=>Z8[e],A1=(e,t)=>{Z8[e]=t};class vk{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const s=ba(r);t[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}var mk=Object.defineProperty,bk=Object.defineProperties,yk=Object.getOwnPropertyDescriptors,U6=Object.getOwnPropertySymbols,wk=Object.prototype.hasOwnProperty,Ak=Object.prototype.propertyIsEnumerable,L6=(e,t,r)=>t in e?mk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k6=(e,t)=>{for(var r in t||(t={}))wk.call(t,r)&&L6(e,r,t[r]);if(U6)for(var r of U6(t))Ak.call(t,r)&&L6(e,r,t[r]);return e},z6=(e,t)=>bk(e,yk(t));class _k{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const i=r||Kn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const s=parseInt(ba(r));t[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let s=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const n=parseInt(s,16);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${n}`);else throw new Error(`Failed to switch to chain 'eip155:${n}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,i,s;const n=(i=(r=t.request)==null?void 0:r.params)==null?void 0:i[0];if(!n)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(t.topic),g=((s=c==null?void 0:c.sessionProperties)==null?void 0:s.capabilities)||{};if(g!=null&&g[n])return g==null?void 0:g[n];const m=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:z6(k6({},c.sessionProperties||{}),{capabilities:z6(k6({},g||{}),{[n]:m})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return m}async getCallStatus(t){var r,i;const s=this.client.session.get(t.topic),n=(r=s.sessionProperties)==null?void 0:r.bundler_name;if(n){const g=this.getBundlerUrl(t.chainId,n);try{return await this.getUserOperationReceipt(g,t)}catch(m){console.warn("Failed to fetch call status from bundler",m,g)}}const c=(i=s.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,t)}catch(g){console.warn("Failed to fetch call status from custom bundler",g,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var i;const s=new URL(t),n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Po("eth_getUserOperationReceipt",[(i=r.request.params)==null?void 0:i[0]]))});if(!n.ok)throw new Error(`Failed to fetch user operation receipt - ${n.status}`);return await n.json()}getBundlerUrl(t,r){return`${ak}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}}class Ek{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const s=ba(r);t[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}class Mk{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const s=ba(r);t[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}class Sk{constructor(t){this.name="algorand",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const i=r||Kn(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Qn(new Ps(i,Ve("disableProviderPing")))}}class xk{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),s=ba(r);t[s]=this.createHttpProvider(s,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}class Ik{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const s=ba(r);t[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}class Dk{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const s=ba(r);t[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}class Nk{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const i=r||Kn(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace);return typeof i>"u"?void 0:new Qn(new Ps(i,Ve("disableProviderPing")))}}class Ck{constructor(t){this.name=Ha,this.namespace=t.namespace,this.events=Ve("events"),this.client=Ve("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Jn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;const i={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(s=>{const n=y8(s);i[`${n.namespace}:${n.reference}`]=this.createHttpProvider(s)}),i}getHttpProvider(t){const r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||Kn(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Qn(new Ps(i,Ve("disableProviderPing")))}}var Rk=Object.defineProperty,Pk=Object.defineProperties,Ok=Object.getOwnPropertyDescriptors,$6=Object.getOwnPropertySymbols,Bk=Object.prototype.hasOwnProperty,Tk=Object.prototype.propertyIsEnumerable,H6=(e,t,r)=>t in e?Rk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mc=(e,t)=>{for(var r in t||(t={}))Bk.call(t,r)&&H6(e,r,t[r]);if($6)for(var r of $6(t))Tk.call(t,r)&&H6(e,r,t[r]);return e},_1=(e,t)=>Pk(e,Ok(t));class Pp{constructor(t){this.events=new sp,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Bf(u0({level:(t==null?void 0:t.logger)||P6})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const r=new Pp(t);return await r.initialize(),r}async request(t,r,i){const[s,n]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:mc({},t),chainId:`${s}:${n}`,topic:this.session.topic,expiry:i})}sendAsync(t,r,i,s){const n=new Date().getTime();this.request(t,i,s).then(c=>r(null,d0(n,c))).catch(c=>r(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:_6("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:s}=await this.client.authenticate(t,r);i&&(this.uri=i,this.events.emit("display_uri",i));const n=await s();if(this.session=n.session,this.session){const c=q6(this.session.namespaces);this.namespaces=y1(this.namespaces,c),this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:s}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await s().then(n=>{this.session=n;const c=q6(n.namespaces);this.namespaces=y1(this.namespaces,c),this.persist("namespaces",this.namespaces)}).catch(n=>{if(n.message!==b8)throw n;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[i,s]=this.validateChain(t),n=this.getProvider(i);n.name===Ha?n.setDefaultChain(`${i}:${s}`,r):n.setDefaultChain(s,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(E6(r)){for(const i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Ip.init({core:this.providerOpts.core,logger:this.providerOpts.logger||P6,relayUrl:this.providerOpts.relayUrl||nk,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>uf(r)))];A1("client",this.client),A1("events",this.events),A1("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const i=pk(r,this.session),s=X8(i),n=y1(this.namespaces,this.optionalNamespaces),c=_1(mc({},n[r]),{accounts:i,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new _k({namespace:c});break;case"algorand":this.rpcProviders[r]=new Sk({namespace:c});break;case"solana":this.rpcProviders[r]=new Ek({namespace:c});break;case"cosmos":this.rpcProviders[r]=new Mk({namespace:c});break;case"polkadot":this.rpcProviders[r]=new vk({namespace:c});break;case"cip34":this.rpcProviders[r]=new xk({namespace:c});break;case"elrond":this.rpcProviders[r]=new Ik({namespace:c});break;case"multiversx":this.rpcProviders[r]=new Dk({namespace:c});break;case"near":this.rpcProviders[r]=new Nk({namespace:c});break;default:this.rpcProviders[Ha]?this.rpcProviders[Ha].updateNamespace(c):this.rpcProviders[Ha]=new Ck({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:i}=r;if(i.name==="accountsChanged"){const s=i.data;s&&E6(s)&&this.events.emit("accountsChanged",s.map(gk))}else if(i.name==="chainChanged"){const s=r.chainId,n=r.event.data,c=uf(s),g=w1(s)!==w1(n)?`${c}:${w1(n)}`:s;this.onChainChanged(g)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;const{namespaces:s}=r,n=(i=this.client)==null?void 0:i.session.get(t);this.session=_1(mc({},n),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",_1(mc({},_6("USER_DISCONNECTED")),{data:t.topic}))}),this.on(Jn.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Ha]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:i,sessionProperties:s}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=s,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){const[r,i]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(c=>uf(c)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const s=uf(Object.keys(this.namespaces)[0]),n=this.rpcProviders[s].getDefaultChain();return[s,n]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){if(!this.namespaces)return;const[i,s]=this.validateChain(t);s&&(r||this.getProvider(i).setDefaultChain(s),this.namespaces[i]?this.namespaces[i].defaultChain=s:this.namespaces[`${i}:${s}`]?this.namespaces[`${i}:${s}`].defaultChain=s:this.namespaces[`${i}:${s}`]={defaultChain:s},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",s))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${O6}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${O6}/${t}`)}}const Fk=Pp,qk="wc",Uk="ethereum_provider",Lk=`${qk}@2:${Uk}:`,kk="https://rpc.walletconnect.org/v1/",rp=["eth_sendTransaction","personal_sign"],zk=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],ip=["chainChanged","accountsChanged"],$k=["chainChanged","accountsChanged","message","disconnect","connect"];var Hk=Object.defineProperty,jk=Object.defineProperties,Kk=Object.getOwnPropertyDescriptors,j6=Object.getOwnPropertySymbols,Gk=Object.prototype.hasOwnProperty,Qk=Object.prototype.propertyIsEnumerable,K6=(e,t,r)=>t in e?Hk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ja=(e,t)=>{for(var r in t||(t={}))Gk.call(t,r)&&K6(e,r,t[r]);if(j6)for(var r of j6(t))Qk.call(t,r)&&K6(e,r,t[r]);return e},E1=(e,t)=>jk(e,Kk(t));function r0(e){return Number(e[0].split(":")[1])}function bc(e){return`0x${e.toString(16)}`}function Jk(e){const{chains:t,optionalChains:r,methods:i,optionalMethods:s,events:n,optionalEvents:c,rpcMap:g}=e;if(!O1(t))throw new Error("Invalid chains");const m={chains:t,methods:i||rp,events:n||ip,rpcMap:ja({},t.length?{[r0(t)]:g[r0(t)]}:{})},l=n==null?void 0:n.filter(D=>!ip.includes(D)),w=i==null?void 0:i.filter(D=>!rp.includes(D));if(!r&&!c&&!s&&!(l!=null&&l.length)&&!(w!=null&&w.length))return{required:t.length?m:void 0};const _=(l==null?void 0:l.length)&&(w==null?void 0:w.length)||!r,I={chains:[...new Set(_?m.chains.concat(r||[]):r)],methods:[...new Set(m.methods.concat(s!=null&&s.length?s:zk))],events:[...new Set(m.events.concat(c!=null&&c.length?c:$k))],rpcMap:g};return{required:t.length?m:void 0,optional:r.length?I:void 0}}class Op{constructor(){this.events=new Wi.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Lk,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new Op;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,i){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=Jk(this.rpc);try{const s=await new Promise(async(c,g)=>{var m;this.rpc.showQrModal&&((m=this.modal)==null||m.subscribeModal(l=>{!l.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),g(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(E1(ja({namespaces:ja({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(l=>{c(l)}).catch(l=>{g(new Error(l.message))})});if(!s)return;const n=Wv(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:bc(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{this.modal&&this.modal.closeModal()}}async authenticate(t,r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t==null?void 0:t.chains});try{const i=await new Promise(async(n,c)=>{var g;this.rpc.showQrModal&&((g=this.modal)==null||g.subscribeModal(m=>{!m.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(E1(ja({},t),{chains:this.rpc.chains}),r).then(m=>{n(m)}).catch(m=>{c(new Error(m.message))})}),s=i.session;if(s){const n=Wv(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:bc(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:i}=r;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",bc(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",E1(ja({},FI("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",bc(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,i,s]=t.split(":");return{chainId:`${r}:${i}`,address:s}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;const s=(r=t==null?void 0:t.chains)!=null?r:[],n=(i=t==null?void 0:t.optionalChains)!=null?i:[],c=s.concat(n);if(!c.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const g=s.length?(t==null?void 0:t.methods)||rp:[],m=s.length?(t==null?void 0:t.events)||ip:[],l=(t==null?void 0:t.optionalMethods)||[],w=(t==null?void 0:t.optionalEvents)||[],_=(t==null?void 0:t.rpcMap)||this.buildRpcMap(c,t.projectId),I=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:s==null?void 0:s.map(D=>this.formatChainId(D)),optionalChains:n.map(D=>this.formatChainId(D)),methods:g,events:m,optionalMethods:l,optionalEvents:w,rpcMap:_,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:I,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const i={};return t.forEach(s=>{i[s]=this.getRpcUrl(s,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?r0(this.rpc.chains):r0(this.rpc.optionalChains),this.signer=await Fk.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:i}=await R_(()=>import("./index-DU7rHEBo.js").then(s=>s.i),__vite__mapDeps([0,1,2]));r=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(ja({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:i,rpcMap:s}=t;r&&O1(r)&&(this.rpc.chains=r.map(n=>this.formatChainId(n)),r.forEach(n=>{this.rpc.rpcMap[n]=(s==null?void 0:s[n])||this.getRpcUrl(n)})),i&&O1(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i==null?void 0:i.map(n=>this.formatChainId(n)),i.forEach(n=>{this.rpc.rpcMap[n]=(s==null?void 0:s[n])||this.getRpcUrl(n)}))}getRpcUrl(t,r){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${kk}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const Dz=Op;export{Dz as EthereumProvider,$k as OPTIONAL_EVENTS,zk as OPTIONAL_METHODS,ip as REQUIRED_EVENTS,rp as REQUIRED_METHODS,Op as default};
